(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[14865,97372,33312,23019,35996,30439,16916,16142,45489,97687,1342,9822,15071,19140],{16143:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BubbleStory_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"referringSource",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],type:"ExploreArticle",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"identifierIconName",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"BubblesGridRep_story"}],type:"Story",abstractKey:null,hash:"1c6b4e45a045976cb346fc1824fa2578"};e.exports=t},165103:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BubblesGridRep_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{args:null,kind:"FragmentSpread",name:"ExploreBubble_exploreArticle"}],type:"ExploreArticle",abstractKey:null}],storageKey:null}],type:"Story",abstractKey:null,hash:"bc3408725d4de6a75e59ac3d2aefd4b2"};e.exports=t},902856:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ExploreBubble_exploreArticle",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"curator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColors",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"identifierIconType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyCategory",storageKey:null},{alias:null,args:null,concreteType:"ArticleTitleGraphQL",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:"coverImage236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"236x")'},{alias:"coverImage474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"474x")'},{alias:"coverImage136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"136x136")'},{alias:"coverImage170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"170x")'},{alias:"coverImage222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"222x")'},{alias:"coverImage90x90",args:[{kind:"Literal",name:"spec",value:"90x90"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"90x90")'}],type:"ExploreArticle",abstractKey:null};n.hash="d4ced24972924521b7c5a28216d06b32",e.exports=n},957872:e=>{var t,n,i,a,r,o,l,s,d,c,u,p,m,h,g,_,v,y,f,x,b,w,S,P={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"FlashlightPagePinQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"isEligibleForRelatedProducts",storageKey:null},s={alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"detection",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelX",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxAnnotationNumDocuments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showOnCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},u={alias:"imageOrig",args:d=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"orig")'},m={alias:"image736x",args:p=[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"736x")'},g={alias:"image564x",args:h=[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"564x")'},v={alias:"image474x",args:_=[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"474x")'},f={alias:"image236x",args:y=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:c,storageKey:'images(spec:"236x")'},w={alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:b=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"additionalImageOrig",args:d,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x=[r,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:c,storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"orig")'},{alias:"additionalImage564x",args:h,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImage736x",args:p,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x,storageKey:'additionalImagesPerSpec(spec:"736x")'},{alias:"additionalImage474x",args:_,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImage236x",args:y,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,concreteType:"AdditionalImages",kind:"LinkedField",name:"additionalImages",plural:!0,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"canonicalImages",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},S={alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:b,storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"FlashlightPagePinQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a,r,o,l,s,u,m,g,v,f,w,S,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"b609b5ee64693e67a5270d97d61bdd9990fd52a143b76f8a58d5253831f6d565",metadata:{},name:"FlashlightPagePinQuery",operationKind:"query",text:null}};P.hash="eacf29a36c8a49731348550fa2502e72",e.exports=P},190706:e=>{var t,n,i,a,r,o,l,s,d,c,u,p,m,h,g,_,v,y,f,x,b,w,S,P,k={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"MobileFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},l={alias:"imageOrig",args:r=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"orig")'},d={alias:"image736x",args:s=[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"736x")'},u={alias:"image564x",args:c=[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"564x")'},m={alias:"image474x",args:p=[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"474x")'},g={alias:"image236x",args:h=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[_={alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},y={alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[v={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"imageOrig",args:r,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"orig")'},{alias:"image736x",args:s,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"736x")'},{alias:"image564x",args:c,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"564x")'},{alias:"image474x",args:p,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"474x")'},{alias:"image236x",args:h,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"236x")'}],storageKey:null}],storageKey:null},b={alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:x=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:"additionalImageOrig",args:r,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f=[v,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:o,storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"orig")'},{alias:"additionalImage564x",args:c,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImage736x",args:s,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f,storageKey:'additionalImagesPerSpec(spec:"736x")'},{alias:"additionalImage474x",args:p,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImage236x",args:h,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f,storageKey:'additionalImagesPerSpec(spec:"236x")'}],storageKey:null}],storageKey:null},w={alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:x,storageKey:null},S={alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showOnCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxAnnotationNumDocuments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelX",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},_,{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"detection",storageKey:null}],storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"MobileFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i,a,l,d,u,m,g,{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[_,y,P={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},b,w,S,P],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"c849c16890001791719605eee00998b40fff9507756fec792bdb95a1a6c3feeb",metadata:{},name:"MobileFlashlightPageFetchDataPinQuery",operationKind:"query",text:null}};k.hash="724f360ccc5e62a89e40f566310c2ff9",e.exports=k},879856:e=>{var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCardDetails_pin",selections:[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:n=[t],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PriceLego_pin"}],type:"Pin",abstractKey:null};i.hash="e127c8f5f9fafd31c5dce4a9a7f66089",e.exports=i},7745:e=>{var t,n,i,a,r,o,l,s={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"invite_code"}],kind:"Fragment",metadata:null,name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteCode",variableName:"invite_code"}],concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[a={alias:"first_name",args:null,kind:"ScalarField",name:"firstName",storageKey:null},r={alias:"is_default_image",args:null,kind:"ScalarField",name:"isDefaultImage",storageKey:null},o={alias:"image_medium_url",args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[a,r,o,l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},l],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}]},params:{id:"6ecc0f5ef5b300806765351890d4c30338f4cba0f2ed6262aebb971f8d13cedd",metadata:{},name:"PinCardSharedHeaderQuery",operationKind:"query",text:null}};s.hash="6113bb3593481961950c5053449014f3",e.exports=s},843494:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCardVisual_pin",selections:[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pageCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"staticPageCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PinVideoWithVisibility_pin"}],type:"Pin",abstractKey:null};n.hash="0b8a8a4e52e483f51c99566a67d1b874",e.exports=n},741316:e=>{var t,n,i,a,r,o,l,s,d,c,u,p,m,h,g,_,v,y,f,x={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"PinRep_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHtml",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},t,s={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"ImageCrop",kind:"LinkedField",name:"imageCrop",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minY",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d=[o,l,a,s],storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[n,c={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:g=[n,c,u,p,m,h],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[n],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},c,u,p,m,h],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:g,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[r,_={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},v={alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[i,{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},v,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[n,i,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:g,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:g,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},_,{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[n,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:y=[{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},l,s,a],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:y,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[i,a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextualMenu_pin"},{args:null,kind:"FragmentSpread",name:"UnauthProductAttribution_pin"},{args:null,kind:"FragmentSpread",name:"SeoPageMetadataText_pin"},{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"},{args:null,kind:"FragmentSpread",name:"PinCardDetails_pin"},{args:null,kind:"FragmentSpread",name:"PinCardVisual_pin"},{args:f=[{kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"},{args:f,kind:"FragmentSpread",name:"UnauthMobileContextMenu_pin"}],type:"Pin",abstractKey:null};x.hash="1b400589a7c0c802031374a086efd91b",e.exports=x},524861:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinVideoWithVisibility_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PinVideo_pin"}],type:"Pin",abstractKey:null,hash:"27c8b43bacc2cae28ba09e1e523f1e58"};e.exports=t},365885:e=>{var t,n,i,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinVideo_pin",selections:[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[t,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},n],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:i,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="f981fc372a34e44de18f6295d8e914c3",e.exports=a},860389:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PriceLego_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t={alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="5b16e8d36c1fe0135f65a9c3aaec6092",e.exports=n},276667:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeeMoreButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"VaseSection_pin"}],type:"Pin",abstractKey:null,hash:"8d0233fe1acbc77ec2b5a1754e0a6e36"};e.exports=t},482836:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeoPageMetadataText_pin",selections:[{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"}],type:"Pin",abstractKey:null,hash:"8f9d12b0eee9d408e23c20c11af28777"};e.exports=t},133132:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicImageWithText_topic",selections:[{alias:"background_color",args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"follower_count",args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Interest",abstractKey:null,hash:"b5b71fb4390c1d3835e468a25f687669"};e.exports=t},964820:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicRepFragment_topic",selections:[{alias:"is_followed",args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"TopicImageWithText_topic"}],type:"Interest",abstractKey:null,hash:"e5a0b7dce2aa2313e4cf2c9871cbedf7"};e.exports=t},669988:e=>{var t,n,i,a,r,o,l,s={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"inviteCode"}],kind:"Fragment",metadata:null,name:"UnauthCloseupInviteUpsellQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteCode",variableName:"inviteCode"}],concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"UnauthCloseupInviteUpsellQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[a,r,o,l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},l],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}]},params:{id:"4610a8b7fe41310eb2db231b8c1171930d91f797fbc7fd321ec6682cb48a3711",metadata:{},name:"UnauthCloseupInviteUpsellQuery",operationKind:"query",text:null}};s.hash="6932152931fe069ad54b218e36e66908",e.exports=s},12617:e=>{var t,n,i,a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"UnauthDesktopContextMenu_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t,i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null};a.hash="7b51426420bae191938ff0b4f5073007",e.exports=a},535994:e=>{var t,n,i,a,r,o,l,s,d,c,u,p,m,h,g,_,v,y,f,x,b,w,S,P,k,I,T,j,C,A,E,D,F,L,R,z,M,O,Z,N,U,B,K,H,$,W,G,V,q,Y,J,X,Q,ee,te={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"UnauthDesktopFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"isEligibleForRelatedProducts",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"repinCount",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},v={alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[g={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[y={alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:S=[f={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:S,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:P=[i,f,x,b,w],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:P,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:P,storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[i,k={alias:null,args:null,kind:"ScalarField",name:"imageThumbnailUrl",storageKey:null},g,I={alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},_],storageKey:null},D={alias:"imageOrig",args:T=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:E=[j={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},_,C={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null}],storageKey:'images(spec:"orig")'},L={alias:"image564x",args:F=[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:E,storageKey:'images(spec:"564x")'},z={alias:"image736x",args:R=[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:E,storageKey:'images(spec:"736x")'},O={alias:"image474x",args:M=[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:E,storageKey:'images(spec:"474x")'},N={alias:"image236x",args:Z=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:E,storageKey:'images(spec:"236x")'},U={alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"detection",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelX",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxAnnotationNumDocuments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showOnCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},Y={alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[r,s,{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[g,{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:[g,C],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[g,B={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null}],storageKey:null},H={alias:"additionalImageOrig",args:T,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:K=[a,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:[A,_,j],storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"orig")'},$={alias:"additionalImage564x",args:F,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:K,storageKey:'additionalImagesPerSpec(spec:"564x")'},W={alias:"additionalImage736x",args:R,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:K,storageKey:'additionalImagesPerSpec(spec:"736x")'},G={alias:"additionalImage474x",args:M,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:K,storageKey:'additionalImagesPerSpec(spec:"474x")'},V={alias:"additionalImage236x",args:Z,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:K,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,concreteType:"AdditionalImages",kind:"LinkedField",name:"additionalImages",plural:!0,selections:[a,q={alias:null,args:null,kind:"ScalarField",name:"canonicalImages",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},J={alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[g,B,H,$,W,G,V,{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,concreteType:"AdditionalImages",kind:"LinkedField",name:"additionalImages",plural:!0,selections:[q,a],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"UnauthDesktopFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i,a,r,o,l,s,d,c,u,p,m,h,v,{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[y,X={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:Q=[f,x,b,w,X],storageKey:null},X],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:Q,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:ee=[i,f,x,b,w,X],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:ee,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:ee,storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[i,k,g,I,_,X],storageKey:null},D,L,z,O,N,U,Y,J,X],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"5f09d38fcc19ea4defe9a2ced0ea73c23f12ec0bc0e6d4bd4f24974e35d6e8ea",metadata:{},name:"UnauthDesktopFlashlightPageFetchDataPinQuery",operationKind:"query",text:null}};te.hash="41066749b18be6f77425904cd44e3d69",e.exports=te},167074:e=>{var t,n={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"UnauthMobileContextMenu_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}]}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImagesFragment_pin"}],type:"Pin",abstractKey:null};n.hash="c90e61374756957f70a91f8b9ac42195",e.exports=n},975261:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthProductAttribution_pin",selections:[{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"}],type:"Pin",abstractKey:null,hash:"2fb133623620997264f81544f7f43636"};e.exports=t},85934:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseAnnotations_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null,hash:"594237c2ea6ccfb8bbc0e3e8c62cac9f"};e.exports=t},877821:e=>{var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseSection_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t,n={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},n,{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"}],type:"Pin",abstractKey:null};i.hash="16fa74c6691fea1cd19a833e3523aade",e.exports=i},433549:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"getActionButtonText_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[t],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="7bcb0fc5325dacb6a2d34dd58eecb4e3",e.exports=n},569772:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useAnnotationsWithLinksFragment_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"35075da6e1f4b526ac4314727015c44d"};e.exports=t},240684:(e,t,n)=>{n.d(t,{TA:()=>T,ZP:()=>C});var i=n(667294),a=n(263366),r=n(487462),o=n(497326),l=n(875068),s=n(659864),d=n(108679),c=n.n(d);function u(e,t){if(!e){var n=new Error("loadable: "+t);throw n.framesToPop=1,n.name="Invariant Violation",n}}function p(e){console.warn("loadable: "+e)}var m=i.createContext();function h(e){return e+"__LOADABLE_REQUIRED_CHUNKS__"}var g={initialChunks:{}},_="PENDING",v="REJECTED";var y=function(e){return e};function f(e){var t=e.defaultResolveComponent,n=void 0===t?y:t,d=e.render,p=e.onLoad;function h(e,t){void 0===t&&(t={});var h=function(e){return"function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}(e),y={};function f(e){return t.cacheKey?t.cacheKey(e):h.resolve?h.resolve(e):"static"}function x(e,i,a){var r=t.resolveComponent?t.resolveComponent(e,i):n(e);if(t.resolveComponent&&!(0,s.isValidElementType)(r))throw new Error("resolveComponent returned something that is not a React component!");return c()(a,r,{preload:!0}),r}var b,w=function(e){function n(n){var i;return(i=e.call(this,n)||this).state={result:null,error:null,loading:!0,cacheKey:f(n)},u(!n.__chunkExtractor||h.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),n.__chunkExtractor?(!1===t.ssr||(h.requireAsync(n).catch((function(){return null})),i.loadSync(),n.__chunkExtractor.addChunk(h.chunkName(n))),(0,o.Z)(i)):(!1!==t.ssr&&(h.isReady&&h.isReady(n)||h.chunkName&&g.initialChunks[h.chunkName(n)])&&i.loadSync(),i)}(0,l.Z)(n,e),n.getDerivedStateFromProps=function(e,t){var n=f(e);return(0,r.Z)({},t,{cacheKey:n,loading:t.loading||t.cacheKey!==n})};var i=n.prototype;return i.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===v&&this.setCache(),this.state.loading&&this.loadAsync()},i.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},i.componentWillUnmount=function(){this.mounted=!1},i.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},i.getCacheKey=function(){return f(this.props)},i.getCache=function(){return y[this.getCacheKey()]},i.setCache=function(e){void 0===e&&(e=void 0),y[this.getCacheKey()]=e},i.triggerOnLoad=function(){var e=this;p&&setTimeout((function(){p(e.state.result,e.props)}))},i.loadSync=function(){if(this.state.loading)try{var e=x(h.requireSync(this.props),this.props,P);this.state.result=e,this.state.loading=!1}catch(t){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:h.resolve(this.props),chunkName:h.chunkName(this.props),error:t?t.message:t}),this.state.error=t}},i.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then((function(t){var n=x(t,e.props,{Loadable:P});e.safeSetState({result:n,loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){return e.safeSetState({error:t,loading:!1})})),t},i.resolveAsync=function(){var e=this,t=this.props,n=(t.__chunkExtractor,t.forwardedRef,(0,a.Z)(t,["__chunkExtractor","forwardedRef"])),i=this.getCache();return i||((i=h.requireAsync(n)).status=_,this.setCache(i),i.then((function(){i.status="RESOLVED"}),(function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:h.resolve(e.props),chunkName:h.chunkName(e.props),error:t?t.message:t}),i.status=v}))),i},i.render=function(){var e=this.props,n=e.forwardedRef,i=e.fallback,o=(e.__chunkExtractor,(0,a.Z)(e,["forwardedRef","fallback","__chunkExtractor"])),l=this.state,s=l.error,c=l.loading,u=l.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===_)throw this.loadAsync();if(s)throw s;var p=i||t.fallback||null;return c?p:d({fallback:p,result:u,options:t,props:(0,r.Z)({},o,{ref:n})})},n}(i.Component),S=(b=w,function(e){return i.createElement(m.Consumer,null,(function(t){return i.createElement(b,Object.assign({__chunkExtractor:t},e))}))}),P=i.forwardRef((function(e,t){return i.createElement(S,Object.assign({forwardedRef:t},e))}));return P.preload=function(e){h.requireAsync(e)},P.load=function(e){return h.requireAsync(e)},P}return{loadable:h,lazy:function(e,t){return h(e,(0,r.Z)({},t,{suspense:!0}))}}}var x=f({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,n=e.props;return i.createElement(t,n)}}),b=x.loadable,w=x.lazy,S=f({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,n=e.props;return n.children?n.children(t):null}}),P=S.loadable,k=S.lazy,I="undefined"!=typeof window;function T(e,t){void 0===e&&(e=function(){});var n=(void 0===t?{}:t).namespace,i=void 0===n?"":n;if(!I)return p("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var a=null;if(I){var r=h(i),o=document.getElementById(r);if(o){a=JSON.parse(o.textContent);var l=document.getElementById(r+"_ext");if(!l)throw new Error("loadable-component: @loadable/server does not match @loadable/component");JSON.parse(l.textContent).namedChunks.forEach((function(e){g.initialChunks[e]=!0}))}}if(!a)return p("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var s=!1;return new Promise((function(e){window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[];var t=window.__LOADABLE_LOADED_CHUNKS__,n=t.push.bind(t);function i(){a.every((function(e){return t.some((function(t){return t[0].indexOf(e)>-1}))}))&&(s||(s=!0,e()))}t.push=function(){n.apply(void 0,arguments),i()},i()})).then(e)}var j=b;j.lib=P,w.lib=k;const C=j},294184:(e,t)=>{var n;!function(){var i={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)&&n.length){var o=a.apply(null,n);o&&e.push(o)}else if("object"===r)for(var l in n)i.call(n,l)&&n[l]&&e.push(l)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},701305:e=>{var t=[],n=[];function i(e,t,n,a){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if("object"!=typeof e||"object"!=typeof t)return!1;var r=Object.prototype.toString,o=r.call(e);if(o!=r.call(t))return!1;switch(o){case"[object String]":return e==String(t);case"[object Number]":return!isNaN(e)&&!isNaN(t)&&e==Number(t);case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}for(var l=n.length;l--;)if(n[l]==e)return a[l]==t;n.push(e),a.push(t);var s=0;if("[object Array]"===o){if((s=e.length)!==t.length)return!1;for(;s--;)if(!i(e[s],t[s],n,a))return!1}else{if(e.constructor!==t.constructor)return!1;if(e.hasOwnProperty("valueOf")&&t.hasOwnProperty("valueOf"))return e.valueOf()==t.valueOf();var d=Object.keys(e);if(d.length!=Object.keys(t).length)return!1;for(var c=0;c<d.length;c++)if(!i(e[d[c]],t[d[c]],n,a))return!1}return n.pop(),a.pop(),!0}e.exports=function(e,a){var r=t.length?t.pop():[],o=n.length?n.pop():[],l=i(e,a,r,o);return r.length=0,o.length=0,t.push(r),n.push(o),l}},60139:e=>{function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},663620:(e,t,n)=>{var i=n(60139);e.exports=i},604077:e=>{e.exports="https://s.pinimg.com/webapp/handle_bottom_left-80eb8fea.svg"},777506:e=>{e.exports="https://s.pinimg.com/webapp/handle_bottom_right-61aecc74.svg"},641696:e=>{e.exports="https://s.pinimg.com/webapp/handle_top_left-892a69ad.svg"},105879:e=>{e.exports="https://s.pinimg.com/webapp/handle_top_right-ee54bc08.svg"},108679:(e,t,n)=>{var i=n(121296),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function s(e){return i.isMemo(e)?o:l[e.$$typeof]||a}l[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[i.Memo]=o;var d=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,i){if("string"!=typeof n){if(h){var a=m(n);a&&a!==h&&e(t,a,i)}var o=c(n);u&&(o=o.concat(u(n)));for(var l=s(t),g=s(n),_=0;_<o.length;++_){var v=o[_];if(!(r[v]||i&&i[v]||g&&g[v]||l&&l[v])){var y=p(n,v);try{d(t,v,y)}catch(f){}}}}return t}},396103:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,d=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,m=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case c:case u:case r:case l:case o:case m:return e;default:switch(e=e&&e.$$typeof){case d:case p:case s:return e;default:return t}}case g:case h:case a:return t}}}function v(e){return _(e)===u}t.typeOf=_,t.AsyncMode=c,t.ConcurrentMode=u,t.ContextConsumer=d,t.ContextProvider=s,t.Element=i,t.ForwardRef=p,t.Fragment=r,t.Lazy=g,t.Memo=h,t.Portal=a,t.Profiler=l,t.StrictMode=o,t.Suspense=m,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===u||e===l||e===o||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===h||e.$$typeof===s||e.$$typeof===d||e.$$typeof===p)},t.isAsyncMode=function(e){return v(e)||_(e)===c},t.isConcurrentMode=v,t.isContextConsumer=function(e){return _(e)===d},t.isContextProvider=function(e){return _(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return _(e)===p},t.isFragment=function(e){return _(e)===r},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===h},t.isPortal=function(e){return _(e)===a},t.isProfiler=function(e){return _(e)===l},t.isStrictMode=function(e){return _(e)===o},t.isSuspense=function(e){return _(e)===m}},121296:(e,t,n)=>{e.exports=n(396103)},562705:(e,t,n)=>{var i=n(555639).Symbol;e.exports=i},896874:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},286556:(e,t,n)=>{var i=n(789465),a=n(977813);e.exports=function(e,t,n){(void 0!==n&&!a(e[t],n)||void 0===n&&!(t in e))&&i(e,t,n)}},228483:(e,t,n)=>{var i=n(225063)();e.exports=i},644239:(e,t,n)=>{var i=n(562705),a=n(789607),r=n(902333),o=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):r(e)}},642980:(e,t,n)=>{var i=n(646384),a=n(286556),r=n(228483),o=n(559783),l=n(513218),s=n(481704),d=n(636390);e.exports=function e(t,n,c,u,p){t!==n&&r(n,(function(r,s){if(p||(p=new i),l(r))o(t,n,s,c,e,u,p);else{var m=u?u(d(t,s),r,s+"",t,n,p):void 0;void 0===m&&(m=r),a(t,s,m)}}),s)}},559783:(e,t,n)=>{var i=n(286556),a=n(364626),r=n(477133),o=n(200278),l=n(738517),s=n(135694),d=n(701469),c=n(229246),u=n(644144),p=n(623560),m=n(513218),h=n(968630),g=n(936719),_=n(636390),v=n(959881);e.exports=function(e,t,n,y,f,x,b){var w=_(e,n),S=_(t,n),P=b.get(S);if(P)i(e,n,P);else{var k=x?x(w,S,n+"",e,t,b):void 0,I=void 0===k;if(I){var T=d(S),j=!T&&u(S),C=!T&&!j&&g(S);k=S,T||j||C?d(w)?k=w:c(w)?k=o(w):j?(I=!1,k=a(S,!0)):C?(I=!1,k=r(S,!0)):k=[]:h(S)||s(S)?(k=w,s(w)?k=v(w):m(w)&&!p(w)||(k=l(S))):I=!1}I&&(b.set(S,k),f(k,S,y,x,b),b.delete(S)),i(e,n,k)}}},105976:(e,t,n)=>{var i=n(406557),a=n(545357),r=n(430061);e.exports=function(e,t){return r(a(e,t,i),e+"")}},356560:(e,t,n)=>{var i=n(575703),a=n(538777),r=n(406557),o=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:r;e.exports=o},321463:(e,t,n)=>{var i=n(105976),a=n(816612);e.exports=function(e){return i((function(t,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,l=r>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(r--,o):void 0,l&&a(n[0],n[1],l)&&(o=r<3?void 0:o,r=1),t=Object(t);++i<r;){var s=n[i];s&&e(t,s,i,o)}return t}))}},225063:e=>{e.exports=function(e){return function(t,n,i){for(var a=-1,r=Object(t),o=i(t),l=o.length;l--;){var s=o[e?l:++a];if(!1===n(r[s],s,r))break}return t}}},538777:(e,t,n)=>{var i=n(610852),a=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},431957:(e,t,n)=>{var i="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=i},789607:(e,t,n)=>{var i=n(562705),a=Object.prototype,r=a.hasOwnProperty,o=a.toString,l=i?i.toStringTag:void 0;e.exports=function(e){var t=r.call(e,l),n=e[l];try{e[l]=void 0;var i=!0}catch(s){}var a=o.call(e);return i&&(t?e[l]=n:delete e[l]),a}},816612:(e,t,n)=>{var i=n(977813),a=n(498612),r=n(565776),o=n(513218);e.exports=function(e,t,n){if(!o(n))return!1;var l=typeof t;return!!("number"==l?a(n)&&r(t,n.length):"string"==l&&t in n)&&i(n[t],e)}},902333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},545357:(e,t,n)=>{var i=n(896874),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,l=a(r.length-t,0),s=Array(l);++o<l;)s[o]=r[t+o];o=-1;for(var d=Array(t+1);++o<t;)d[o]=r[o];return d[t]=n(s),i(e,this,d)}}},555639:(e,t,n)=>{var i=n(431957),a="object"==typeof self&&self&&self.Object===Object&&self,r=i||a||Function("return this")();e.exports=r},636390:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},430061:(e,t,n)=>{var i=n(356560),a=n(521275)(i);e.exports=a},521275:e=>{var t=Date.now;e.exports=function(e){var n=0,i=0;return function(){var a=t(),r=16-(a-i);if(i=a,r>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},575703:e=>{e.exports=function(e){return function(){return e}}},406557:e=>{e.exports=function(e){return e}},701469:e=>{var t=Array.isArray;e.exports=t},229246:(e,t,n)=>{var i=n(498612),a=n(637005);e.exports=function(e){return a(e)&&i(e)}},637005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},968630:(e,t,n)=>{var i=n(644239),a=n(385924),r=n(637005),o=Function.prototype,l=Object.prototype,s=o.toString,d=l.hasOwnProperty,c=s.call(Object);e.exports=function(e){if(!r(e)||"[object Object]"!=i(e))return!1;var t=a(e);if(null===t)return!0;var n=d.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==c}},682492:(e,t,n)=>{var i=n(642980),a=n(321463)((function(e,t,n){i(e,t,n)}));e.exports=a},959881:(e,t,n)=>{var i=n(698363),a=n(481704);e.exports=function(e){return i(e,a(e))}},869921:(e,t)=>{var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,d=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,m=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,_=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,f=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case c:case u:case r:case l:case o:case m:return e;default:switch(e=e&&e.$$typeof){case d:case p:case _:case g:case s:return e;default:return t}}case a:return t}}}function w(e){return b(e)===u}t.AsyncMode=c,t.ConcurrentMode=u,t.ContextConsumer=d,t.ContextProvider=s,t.Element=i,t.ForwardRef=p,t.Fragment=r,t.Lazy=_,t.Memo=g,t.Portal=a,t.Profiler=l,t.StrictMode=o,t.Suspense=m,t.isAsyncMode=function(e){return w(e)||b(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return b(e)===d},t.isContextProvider=function(e){return b(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return b(e)===p},t.isFragment=function(e){return b(e)===r},t.isLazy=function(e){return b(e)===_},t.isMemo=function(e){return b(e)===g},t.isPortal=function(e){return b(e)===a},t.isProfiler=function(e){return b(e)===l},t.isStrictMode=function(e){return b(e)===o},t.isSuspense=function(e){return b(e)===m},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===u||e===l||e===o||e===m||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===_||e.$$typeof===g||e.$$typeof===s||e.$$typeof===d||e.$$typeof===p||e.$$typeof===y||e.$$typeof===f||e.$$typeof===x||e.$$typeof===v)},t.typeOf=b},659864:(e,t,n)=>{e.exports=n(869921)},201342:(e,t,n)=>{n.d(t,{tn:()=>ie});var i,a=n(667294),r=n.t(a,2);!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));function o(e,t){if(!1===e||null==e)throw new Error(t)}function l(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function s(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}var d;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(d||(d={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function c(e,t,n){void 0===n&&(n="/");let i=f(("string"==typeof t?s(t):t).pathname||"/",n);if(null==i)return null;let a=u(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let r=null;for(let o=0;null==r&&o<a.length;++o)r=_(a[o],y(i));return r}function u(e,t,n,i){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i="");let a=(e,a,r)=>{let l={relativePath:void 0===r?e.path||"":r,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};l.relativePath.startsWith("/")&&(o(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),l.relativePath=l.relativePath.slice(i.length));let s=x([i,l.relativePath]),d=n.concat(l);e.children&&e.children.length>0&&(o(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),u(e.children,t,d,s)),(null!=e.path||e.index)&&t.push({path:s,score:g(s,e.index),routesMeta:d})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let i of p(e.path))a(e,t,i);else a(e,t)})),t}function p(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,a=n.endsWith("?"),r=n.replace(/\?$/,"");if(0===i.length)return a?[r,""]:[r];let o=p(i.join("/")),l=[];return l.push(...o.map((e=>""===e?r:[r,e].join("/")))),a&&l.push(...o),l.map((t=>e.startsWith("/")&&""===t?"/":t))}const m=/^:\w+$/,h=e=>"*"===e;function g(e,t){let n=e.split("/"),i=n.length;return n.some(h)&&(i+=-2),t&&(i+=2),n.filter((e=>!h(e))).reduce(((e,t)=>e+(m.test(t)?3:""===t?1:10)),i)}function _(e,t){let{routesMeta:n}=e,i={},a="/",r=[];for(let o=0;o<n.length;++o){let e=n[o],l=o===n.length-1,s="/"===a?t:t.slice(a.length)||"/",d=v({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},s);if(!d)return null;Object.assign(i,d.params);let c=e.route;r.push({params:i,pathname:x([a,d.pathname]),pathnameBase:b(x([a,d.pathnameBase])),route:c}),"/"!==d.pathnameBase&&(a=x([a,d.pathnameBase]))}return r}function v(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((e,t)=>(i.push(t),"/([^\\/]+)")));e.endsWith("*")?(i.push("*"),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");return[new RegExp(a,t?void 0:"i"),i]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let r=a[0],o=r.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:i.reduce(((e,t,n)=>{if("*"===t){let e=s[n]||"";o=r.slice(0,r.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return l(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(s[n]||"",t),e}),{}),pathname:r,pathnameBase:o,pattern:e}}function y(e){try{return decodeURI(e)}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function f(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}const x=e=>e.join("/").replace(/\/\/+/g,"/"),b=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");Error;function w(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}const S=["post","put","patch","delete"],P=(new Set(S),["get",...S]);new Set(P),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement;Symbol("deferred");const k="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},{useState:I,useEffect:T,useLayoutEffect:j,useDebugValue:C}=r;function A(e){const t=e.getSnapshot,n=e.value;try{const e=t();return!k(n,e)}catch(i){return!0}}"undefined"==typeof window||void 0===window.document||window.document.createElement,r.useSyncExternalStore;const E=a.createContext(null);const D=a.createContext(null);const F=a.createContext(null);const L=a.createContext(null);const R=a.createContext({outlet:null,matches:[]});const z=a.createContext(null);function M(){return(M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function O(){return null!=a.useContext(L)}function Z(){return O()||o(!1),a.useContext(L).location}function N(){let e=function(){var e;let t=a.useContext(z),n=W($.UseRouteError),i=G($.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=w(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:r},n):null,null)}class U extends a.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?a.createElement(R.Provider,{value:this.props.routeContext},a.createElement(z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function B(e){let{routeContext:t,match:n,children:i}=e,r=a.useContext(E);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(R.Provider,{value:t},i)}function K(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}let i=e,r=null==n?void 0:n.errors;if(null!=r){let e=i.findIndex((e=>e.route.id&&(null==r?void 0:r[e.route.id])));e>=0||o(!1),i=i.slice(0,Math.min(i.length,e+1))}return i.reduceRight(((e,o,l)=>{let s=o.route.id?null==r?void 0:r[o.route.id]:null,d=null;n&&(d=o.route.ErrorBoundary?a.createElement(o.route.ErrorBoundary,null):o.route.errorElement?o.route.errorElement:a.createElement(N,null));let c=t.concat(i.slice(0,l+1)),u=()=>{let t=e;return s?t=d:o.route.Component?t=a.createElement(o.route.Component,null):o.route.element&&(t=o.route.element),a.createElement(B,{match:o,routeContext:{outlet:e,matches:c},children:t})};return n&&(o.route.ErrorBoundary||o.route.errorElement||0===l)?a.createElement(U,{location:n.location,component:d,error:s,children:u(),routeContext:{outlet:null,matches:c}}):u()}),null)}var H,$;function W(e){let t=a.useContext(D);return t||o(!1),t}function G(e){let t=function(e){let t=a.useContext(R);return t||o(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||o(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(H||(H={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}($||($={}));function V(e){o(!1)}function q(e){let{basename:t="/",children:n=null,location:r,navigationType:l=i.Pop,navigator:d,static:c=!1}=e;O()&&o(!1);let u=t.replace(/^\/*/,"/"),p=a.useMemo((()=>({basename:u,navigator:d,static:c})),[u,d,c]);"string"==typeof r&&(r=s(r));let{pathname:m="/",search:h="",hash:g="",state:_=null,key:v="default"}=r,y=a.useMemo((()=>{let e=f(m,u);return null==e?null:{location:{pathname:e,search:h,hash:g,state:_,key:v},navigationType:l}}),[u,m,h,g,_,v,l]);return null==y?null:a.createElement(F.Provider,{value:p},a.createElement(L.Provider,{children:n,value:y}))}function Y(e){let{children:t,location:n}=e,r=a.useContext(E);return function(e,t){O()||o(!1);let{navigator:n}=a.useContext(F),r=a.useContext(D),{matches:l}=a.useContext(R),d=l[l.length-1],u=d?d.params:{},p=(d&&d.pathname,d?d.pathnameBase:"/");d&&d.route;let m,h=Z();if(t){var g;let e="string"==typeof t?s(t):t;"/"===p||(null==(g=e.pathname)?void 0:g.startsWith(p))||o(!1),m=e}else m=h;let _=m.pathname||"/",v=c(e,{pathname:"/"===p?_:_.slice(p.length)||"/"}),y=K(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:x([p,n.encodeLocation?n.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:x([p,n.encodeLocation?n.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,r||void 0);return t&&y?a.createElement(L.Provider,{value:{location:M({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:i.Pop}},y):y}(r&&!t?r.router.routes:X(t),n)}var J;!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(J||(J={}));new Promise((()=>{}));a.Component;function X(e,t){void 0===t&&(t=[]);let n=[];return a.Children.forEach(e,((e,i)=>{if(!a.isValidElement(e))return;let r=[...t,i];if(e.type===a.Fragment)return void n.push.apply(n,X(e.props.children,r));e.type!==V&&o(!1),e.props.index&&e.props.children&&o(!1);let l={id:e.props.id||r.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(l.children=X(e.props.children,r)),n.push(l)})),n}var Q=n(616550);"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement;var ee,te;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(ee||(ee={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(te||(te={}));const ne=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?a.useLayoutEffect:()=>{};function ie(e){let{children:t}=e,n=(0,Q.useHistory)(),[i,r]=a.useState((()=>({location:n.location,action:n.action})));return ne((()=>{n.listen(((e,t)=>r({location:e,action:t})))}),[n]),a.createElement(q,{navigationType:i.action,location:i.location,navigator:n},a.createElement(Y,null,a.createElement(V,{path:"*",element:t})))}},615071:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(487462),a=n(263366),r=n(875068);n(45697);function o(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var l=n(667294),s=n(973935);const d=!1;var c=n(500220),u="unmounted",p="exited",m="entering",h="entered",g="exiting",_=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var a,r=n&&!n.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?r?(a=p,i.appearStatus=m):a=h:a=t.unmountOnExit||t.mountOnEnter?u:p,i.state={status:a},i.nextCallback=null,i}(0,r.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===u?{status:p}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==m&&n!==h&&(t=m):n!==m&&n!==h||(t=g)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!=typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===m?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===p&&this.setState({status:u})},n.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,a=this.props.nodeRef?[i]:[s.findDOMNode(this),i],r=a[0],o=a[1],l=this.getTimeouts(),c=i?l.appear:l.enter;!e&&!n||d?this.safeSetState({status:h},(function(){t.props.onEntered(r)})):(this.props.onEnter(r,o),this.safeSetState({status:m},(function(){t.props.onEntering(r,o),t.onTransitionEnd(c,(function(){t.safeSetState({status:h},(function(){t.props.onEntered(r,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:s.findDOMNode(this);t&&!d?(this.props.onExit(i),this.safeSetState({status:g},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:p},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:p},(function(){e.props.onExited(i)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],r=a[0],o=a[1];this.props.addEndListener(r,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===u)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,a.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return l.createElement(c.Z.Provider,{value:null},"function"==typeof n?n(e,i):l.cloneElement(l.Children.only(n),i))},t}(l.Component);function v(){}_.contextType=c.Z,_.propTypes={},_.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:v,onEntering:v,onEntered:v,onExit:v,onExiting:v,onExited:v},_.UNMOUNTED=u,_.EXITED=p,_.ENTERING=m,_.ENTERED=h,_.EXITING=g;const y=_;var f=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return i=t,void((n=e).classList?n.classList.remove(i):"string"==typeof n.className?n.className=o(n.className,i):n.setAttribute("class",o(n.className&&n.className.baseVal||"",i)));var n,i}))},x=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var i=t.resolveArguments(e,n),a=i[0],r=i[1];t.removeClasses(a,"exit"),t.addClass(a,r?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var i=t.resolveArguments(e,n),a=i[0],r=i[1]?"appear":"enter";t.addClass(a,r,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var i=t.resolveArguments(e,n),a=i[0],r=i[1]?"appear":"enter";t.removeClasses(a,r),t.addClass(a,r,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,i="string"==typeof n,a=i?""+(i&&n?n+"-":"")+e:n[e];return{baseClassName:a,activeClassName:i?a+"-active":n[e+"Active"],doneClassName:i?a+"-done":n[e+"Done"]}},t}(0,r.Z)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var i=this.getClassNames(t)[n+"ClassName"],a=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&a&&(i+=" "+a),"active"===n&&e&&e.scrollTop,i&&(this.appliedClasses[t][n]=i,function(e,t){e&&t&&t.split(" ").forEach((function(t){return i=t,void((n=e).classList?n.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,i)||("string"==typeof n.className?n.className=n.className+" "+i:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+i)));var n,i}))}(e,i))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],i=n.base,a=n.active,r=n.done;this.appliedClasses[t]={},i&&f(e,i),a&&f(e,a),r&&f(e,r)},n.render=function(){var e=this.props,t=(e.classNames,(0,a.Z)(e,["classNames"]));return l.createElement(y,(0,i.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(l.Component);x.defaultProps={classNames:""},x.propTypes={};const b=x},500220:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(667294).createContext(null)},560053:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,a=e[i];if(!(0<r(a,t)))break e;e[i]=t,e[n]=a,n=i}}function i(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,a=e.length,o=a>>>1;i<o;){var l=2*(i+1)-1,s=e[l],d=l+1,c=e[d];if(0>r(s,n))d<a&&0>r(c,s)?(e[i]=c,e[d]=n,i=d):(e[i]=s,e[l]=n,i=l);else{if(!(d<a&&0>r(c,n)))break e;e[i]=c,e[d]=n,i=d}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,s=l.now();t.unstable_now=function(){return l.now()-s}}var d=[],c=[],u=1,p=null,m=3,h=!1,g=!1,_=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,f="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=i(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(d,t)}t=i(c)}}function b(e){if(_=!1,x(e),!g)if(null!==i(d))g=!0,F(w);else{var t=i(c);null!==t&&L(b,t.startTime-e)}}function w(e,n){g=!1,_&&(_=!1,y(I),I=-1),h=!0;var r=m;try{for(x(n),p=i(d);null!==p&&(!(p.expirationTime>n)||e&&!C());){var o=p.callback;if("function"==typeof o){p.callback=null,m=p.priorityLevel;var l=o(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?p.callback=l:p===i(d)&&a(d),x(n)}else a(d);p=i(d)}if(null!==p)var s=!0;else{var u=i(c);null!==u&&L(b,u.startTime-n),s=!1}return s}finally{p=null,m=r,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,P=!1,k=null,I=-1,T=5,j=-1;function C(){return!(t.unstable_now()-j<T)}function A(){if(null!==k){var e=t.unstable_now();j=e;var n=!0;try{n=k(!0,e)}finally{n?S():(P=!1,k=null)}}else P=!1}if("function"==typeof f)S=function(){f(A)};else if("undefined"!=typeof MessageChannel){var E=new MessageChannel,D=E.port2;E.port1.onmessage=A,S=function(){D.postMessage(null)}}else S=function(){v(A,0)};function F(e){k=e,P||(P=!0,S())}function L(e,n){I=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,F(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return i(d)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,a,r){var o=t.unstable_now();switch("object"==typeof r&&null!==r?r="number"==typeof(r=r.delay)&&0<r?o+r:o:r=o,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:r,expirationTime:l=r+l,sortIndex:-1},r>o?(e.sortIndex=r,n(c,e),null===i(d)&&e===i(c)&&(_?(y(I),I=-1):_=!0,L(b,r-o))):(e.sortIndex=l,n(d,e),g||h||(g=!0,F(w))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},363840:(e,t,n)=>{e.exports=n(560053)},17314:(e,t,n)=>{n.d(t,{Z:()=>d});var i,a,r=n(813653),o=n(861470),l=0,s=0;const d=function(e,t,n){var d=t&&n||0,c=t||new Array(16),u=(e=e||{}).node||i,p=void 0!==e.clockseq?e.clockseq:a;if(null==u||null==p){var m=e.random||(e.rng||r.Z)();null==u&&(u=i=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==p&&(p=a=16383&(m[6]<<8|m[7]))}var h=void 0!==e.msecs?e.msecs:Date.now(),g=void 0!==e.nsecs?e.nsecs:s+1,_=h-l+(g-s)/1e4;if(_<0&&void 0===e.clockseq&&(p=p+1&16383),(_<0||h>l)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=h,s=g,a=p;var v=(1e4*(268435455&(h+=122192928e5))+g)%4294967296;c[d++]=v>>>24&255,c[d++]=v>>>16&255,c[d++]=v>>>8&255,c[d++]=255&v;var y=h/4294967296*1e4&268435455;c[d++]=y>>>8&255,c[d++]=255&y,c[d++]=y>>>24&15|16,c[d++]=y>>>16&255,c[d++]=p>>>8|128,c[d++]=255&p;for(var f=0;f<6;++f)c[d+f]=u[f];return t||(0,o.Z)(c)}},542473:e=>{var t=function(){};e.exports=t},269458:(e,t,n)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/pin/[id]/visual-search"]=function(){return n(140093).Z}},361259:(e,t,n)=>{n.d(t,{$:()=>c,r:()=>u});var i=n(667294),a=n(829407),r=n(497529),o=n(780280),l=n(425288),s=n(785893);const{Provider:d,useHook:c}=(0,l.Z)("PinRep");function u({children:e}){const{isAuthenticated:t}=(0,o.B)(),[n,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(!1),p=(0,r.Z)(1000069);(0,a.Z)((()=>{(async()=>{var e,n,i,a;if(!t)return void l(!1);const r=await p.fetchAllExperiences();r&&r.payload&&500417===(null===(e=r.payload.experiences)||void 0===e||null===(n=e[1000069])||void 0===n?void 0:n.experience_id)&&null!==(i=r.payload.experiences)&&void 0!==i&&null!==(a=i[1000069])&&void 0!==a&&a.display_data.hide_footer?p.viewExperience(1000069,500417):l(!1),u(!0)})()}));const m=(0,i.useMemo)((()=>({hasSimplifiedPinGridExpLoaded:c,hidePinRepFooter:n})),[c,n]);return(0,s.jsx)(d,{value:m,children:e})}},656226:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var i=n(667294),a=n(564194),r=n(768559),o=n(605028),l=n(868565),s=n(905723),d=n(152028),c=n(883119),u=n(785893);const p={overlay:{__style:{backgroundColor:"#000"}}};function m(e){var t,n,a,r;const{pin:{id:o,images:l,title:m,videos:h,video_status_message:g}}=e,_=g||{},v=l&&l["236x"],y=h&&(null===(t=h.video_list)||void 0===t?void 0:t[s.Z.V_HLSV4]),{duration:f}=y||{};return(0,u.jsx)(i.Fragment,{children:(0,u.jsx)(c.st,{children:(0,u.jsxs)(c.iP,{role:"link",href:`/pin/${o}`,rounding:2,children:[(0,u.jsxs)(c.xu,{overflow:"hidden",position:"relative",rounding:2,children:[v&&(0,u.jsx)(c.Ee,{alt:m||"",color:"lightGray",naturalHeight:null!==(n=v.height)&&void 0!==n?n:1,naturalWidth:null!==(a=v.width)&&void 0!==a?a:1,src:null!==(r=v.url)&&void 0!==r?r:""}),!!f&&(0,u.jsx)(c.xu,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex",children:(0,u.jsx)(d.Z,{duration:f})}),(0,u.jsx)(c.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.4,dangerouslySetInlineStyle:p.overlay}),(0,u.jsxs)(c.xu,{position:"absolute",top:!0,left:!0,padding:5,width:"100%",children:[(0,u.jsx)(c.X6,{color:"light",overflow:"normal",size:"400",children:_.title}),(0,u.jsx)(c.xu,{marginTop:4,children:(0,u.jsx)(c.xv,{color:"light",size:"200",overflow:"normal",children:_.subtitle})})]})]}),(0,u.jsx)(c.xu,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1,children:(0,u.jsx)(c.xu,{flex:"grow",children:m&&(0,u.jsx)(c.xu,{paddingY:1,children:(0,u.jsx)(c.xv,{inline:!0,size:"200",weight:"bold",children:m})})})})]})})})}var h=n(623568),g=n(350118),_=n(616550),v=n(813401),y=n(60568),f=n(35495);function x({trackingParams:e,objectIdStr:t,impressionData:n,auxData:s,componentType:d,slotIndex:c,viewData:p,viewParameter:x,viewType:b,pin:w,pinId:S,...P}){var k,I,T,j,C,A;const E=(0,_.useLocation)(),D=(0,g.S6)(),F=(S?D(S):null)||w,L=!(null===(k=F.story_pin_data)||void 0===k||!k.is_deleted),R=e||(0,r.Z)({boardUrl:null===(I=F.board)||void 0===I?void 0:I.url,callToCreateSourcePinId:F.call_to_create_source_pin_id,location:E,pinId:F.id,pinnerUserName:null===(T=F.pinner)||void 0===T?void 0:T.username,storyPinDataId:F.story_pin_data_id,trackingParams:F.tracking_params,trackingParamsMap:F.tracking_params_map}),z=(0,l.Z)(F),M=!!(z&&z.url&&z.height&&z.width)||void 0,O=z&&F.videos?F.videos.id:void 0,[Z,N]=(0,i.useState)(!1),U=(0,i.useCallback)((()=>N(!L)),[L]),B=(0,i.useCallback)((()=>N(!1)),[]),K=(0,v.yz)(),{isLeadPin:H}=(0,o.Z)(F);var $;H&&(s={lead_form_id:null===($=F.promoted_lead_form)||void 0===$?void 0:$.lead_form_id,is_lead_ad:1});return(0,u.jsx)(a.Z,{componentType:d,contextLogData:{pwa_type:K,...s,...(0,f.Kl)(F,s)},impressionAuxFields:{...n||{},isNativeVideoAndWatchable:M,videoIdStr:O,clientTrackingParams:R||`${F.tracking_params||""}-0`,imageURL:null!==(j=null===(C=F.images)||void 0===C||null===(A=C["236x"])||void 0===A?void 0:A.url)&&void 0!==j?j:"",richTypes:(0,f.GT)(F)},impressionType:"Pin",isPaused:!Z,loggingId:F.id,slotIndex:c,objectIdStr:t,viewData:p,viewParameter:x,viewType:b,children:(0,h._J)(F)?(0,u.jsx)(m,{pin:F}):(0,u.jsx)(y.Z,{...P,debugImpressionState:Z?"started":"paused",onError:B,onLoad:U,pin:F,pinId:S,trackingParameters:{componentType:d,contextLogData:s,slotIndex:c,viewParameter:x,viewType:b}})})}},237056:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(773285),a=n(50286);const r=Object.freeze({dweb:{organic:"web_sce_organic_pinbuilder_dep",monetized:"web_sce_monetized_pinbuilder_dep"},mweb:{organic:"mweb_sce_organic_pinbuilder_dep",monetized:"mweb_sce_monetized_pinbuilder_dep"}});function o(e){const t=(0,a.HG)(),{checkExperiment:n}=(0,i.F)(),o=r[t?"dweb":"mweb"];return e&&(n("sce_lightswitch_organic"),n("sce_lightswitch_monetized")),n(o.organic).anyEnabled||n(o.monetized).anyEnabled}},180549:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(898781),a=n(883119),r=n(407043),o=n(616550),l=n(558068),s=n(785893);function d({isShopping:e,pinId:t,viewParameter:n,viewType:d}){const c=(0,i.ZP)(),u=(0,o.useHistory)(),{previous:p}=(0,l.Hv)(),{logContextEvent:m}=(0,r.v)();return(0,s.jsx)(a.hU,{accessibilityLabel:c._('Go back', 'Accessible icon for close button', 'Accessible icon for close button'),icon:e?"cancel":"directional-arrow-left",iconColor:"darkGray",onClick:()=>{m({event_type:101,view_type:d,element:34,view_parameter:n}),0!==p.length?u.goBack():u.replace(`/pin/${t}/`)}})}},99739:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(305791),a=n(599611);const r=({initialCropArea:e,pin:t,disableInitialCrop:n,imageSignature:r})=>{let o;if(e)o={...e};else{const{visual_objects:e}=t,{width:l,height:s}=(0,i.Z)({pin:t,imageSignature:r});if(n)o={x:0,y:0,w:l,h:s};else if(e&&e.length){const{x:t,y:n,w:i,h:r}=e[0];o=(0,a.Z)({cropArea:{x:t,y:n,w:i,h:r},scaledWidth:l,scaledHeight:s})}else{const[e,t]=[l/6,s/6],[n,i]=[l-2*e,s-2*t];o={x:e,y:t,w:n,h:i}}}return{x:Math.floor(o.x),y:Math.floor(o.y),w:Math.floor(o.w),h:Math.floor(o.h)}}},175644:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(96939),a=n(656226),r=n(883119),o=n(407043),l=n(681291),s=n(444445),d=n(785893);function c({action:e,component:t,dangerouslySetActionUrl:n,element:c,contextLogData:u,id:p,objects:m,viewType:h,viewParameter:g}){const{logContextEvent:_}=(0,o.v)(),v=null!=e&&e.url&&e.text?a=>(0,d.jsx)(i.Z,{coverImages:a.images,height:s.yF,onClick:()=>_({event_type:101,view_type:h,view_parameter:g,component:t,element:c,aux_data:{story_id:p,...u}}),text:e.text,url:null!=n?n:e.url,width:s.yF},"actionBubble"):null,{containerRef:y,itemsToRender:f,actionItem:x}=(0,l.n)({items:m,itemWidth:s.yF,itemGap:s.oX,actionItemType:v?"one":void 0});return(0,d.jsxs)(l.Z,{itemGap:s.oX,containerRef:y,children:[f.map(((e,n)=>(0,d.jsx)(r.xu,{flex:"none",width:s.yF,children:(0,d.jsx)(a.default,{pin:e,pinId:e.id,authDesktopSurface:"ShoppingDynamicHeightGrid",auxData:u,componentType:t,slotIndex:n,viewParameter:g,viewType:h,pinImageCrop:{height:s.yF,width:s.yF}})},e.id))),x&&(null==v?void 0:v(x))]})}},278716:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(372169),a=n(883119),r=n(785893);function o({fetchMore:e,isAtEnd:t,isFetching:n,items:o,leftAlign:l,loadingLabel:s,marginBottom:d,renderItem:c}){return(0,r.jsxs)(a.xu,{"data-test-id":"square-shopping-grid",display:"flex",direction:"row",justifyContent:l?void 0:"center",marginBottom:d,wrap:!0,children:[(0,r.jsx)(a.gr,{isAtEnd:t,isFetching:n,fetchMore:e}),(o||[]).map(((e,t)=>c({item:e,itemIdx:t}))),Array.apply(0,Array(12)).map(((e,t)=>(0,r.jsx)(a.xu,{width:i.jh,margin:i.iO},t))),(0,r.jsx)(a.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,r.jsx)(a.$j,{accessibilityLabel:s,show:n})})]})}},341866:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(229428);function a({pin:e}){const{visual_objects:t}=e||{};return(0,i.k)(t||[])}},119403:(e,t,n)=>{n.d(t,{M:()=>_,Z:()=>v});var i=n(667294),a=n(167234),r=n(620862),o=n(180549);var l=n(898781),s=n(883119),d=n(349700),c=n(773285),u=n(785893);function p({title:e,variant:t}){const n=(0,l.ZP)(),{checkExperiment:i}=(0,c.F)(),{anyEnabled:a}=i("web_unified_visual_feed"),r={default:(0,d.nk)(n._('Shop {{ category }}', 'relatedProducts.stela.header', 'header for related products stela feed'),{category:(e||"").toLowerCase()}).join("").trim(),"unified-feed":(0,d.nk)(n._('{{ category }}', 'unifiedHeader.stela.header', 'header for related products stela feed'),{category:(o=e||"",o.toLowerCase().charAt(0).toUpperCase()+o.toLowerCase().slice(1))}).join("").trim(),"closeup-shop":"","unified-feed-no-label":"","closeup-shop-idea-pin":n._('Shop similar items', 'relatedProducts.header', 'header for related products stela feed'),"related-products":"",flashlight:e};var o;const p={"closeup-shop":n._('Shop similar items', 'relatedProducts.header', 'header for related products stela feed'),"unified-feed":"","unified-feed-no-label":"","related-products":n._('More to shop', 'relatedProducts.header', 'header for related products feed'),"closeup-shop-idea-pin":n._('Shop similar items', 'relatedProducts.header', 'header for related products stela feed'),flashlight:""},m=e?r[["flashlight","unified-feed","closeup-shop-idea-pin"].includes(t)?t:"default"]:p[t];return(0,u.jsx)(s.X6,{size:a&&"flashlight"!==t?"500":"400",accessibilityLevel:1,children:m})}var m=n(124580),h=n(407043),g=n(780280);const _=60;function v({filtersText:e,handleDrawerClose:t,handleDrawerOpen:n,isDrawerOpen:l,isShopping:d,pinId:c,showFilter:v,title:y,variant:f,viewParameter:x,viewType:b}){const{logContextEvent:w}=(0,h.v)(),{isRTL:S}=(0,g.B)(),P=(0,i.useRef)();(0,i.useEffect)((()=>(v&&w({event_type:120,view_type:b,component:13467,element:11735,view_parameter:x}),P.current&&m.Z.addObstruction("top",P.current),()=>{P.current&&m.Z.removeObstruction("top",P.current)})),[v]);const k=()=>{w({event_type:101,view_type:b,component:13467,element:11735,view_parameter:x}),n&&n()};return(0,u.jsx)(a.Z,{position:"fixed",style:{width:"100%",zIndex:3,backgroundColor:"#ffffff"},children:(0,u.jsxs)(s.xu,{alignItems:"center",color:"default",display:"flex",height:_,justifyContent:"center",paddingY:4,position:"absolute",top:!0,width:"100%","data-test-id":"related-products-header",ref:P,children:[(0,u.jsx)(s.xu,{marginStart:5,position:"absolute",left:!S,right:S,children:(0,u.jsx)(o.Z,{pinId:c,isShopping:d,viewType:b,viewParameter:x})}),(0,u.jsx)(p,{title:y,variant:f}),v&&"boolean"==typeof l&&k&&e&&t&&(0,u.jsx)(s.xu,{marginEnd:12,position:"absolute",left:S,right:!S,children:(0,u.jsx)(r.Z,{isDrawerOpen:l,onClick:k,buttonText:e,handleDrawerClose:t})})]})})}},528264:(e,t,n)=>{n.d(t,{Z:()=>I});var i=n(667294),a=n(92331),r=n(656226),o=n(362810),l=n(785893);const s=function({config:{commerce_data:e,image_signature:t,pinId:n,pinImageCrop:i,searchId:s,shoppingSurface:d,viewParameter:c,viewType:u},pin:p,slotIndex:m}){const h=`/pin/${n}/related-products/domain/`;let g=[];switch("BUBBLE_ONE_COL"===p.story_type&&(g=p.objects.slice(0,2)),p.type){case"story":switch(p.story_type){case"related_domain_collage":return(0,l.jsx)(o.Z,{story:p,dangerouslySetActionUrl:h,slotIndex:m});case"BUBBLE_ONE_COL":return(0,l.jsx)(a.Z,{bubbles:g,id:p.id,referringSource:p.referring_source,slotIndex:m,storyType:p.story_type,title:p.title,viewType:u,viewParameter:c});default:return null}case"pin":return(0,l.jsx)(r.default,{pin:p,pinId:p.id,pinImageCrop:i,authDesktopSurface:d,auxData:{search_identifier:s,image_signature:t,commerce_data:{entrypoint:"shopping",...e||{}}},componentType:0,slotIndex:m,viewData:{search_identifier:s},viewParameter:c,viewType:u});default:return null}};var d=n(278716),c=n(700380),u=n(829407),p=n(898781),m=n(883119),h=n(53325),g=n(407043),_=n(773285),v=n(372169);function y({commerceData:e,pinId:t,viewParameter:n,viewType:a,visualSearchFlashlightUnifiedResource:r,imageSignature:o,searchId:y}){var f;const{checkExperiment:x}=(0,_.F)(),{logContextEvent:b}=(0,g.v)(),w=(0,p.ZP)(),S=(0,i.useRef)(),{auxData:P,data:k,isAtEnd:I,isFetching:T,fetchMore:j}=r,C=null==k?void 0:k.results,A=()=>(0,c.Z)((()=>{b({event_type:110,view_type:a,view_parameter:n})}),100);(0,u.Z)((()=>(window.addEventListener("scroll",A),()=>{window.removeEventListener("scroll",A)}))),!S.current&&null!=P&&null!==(f=P.grid_layout)&&void 0!==f&&f.w_h_ratio&&(S.current=P.grid_layout.w_h_ratio);const E=S.current?"ShoppingDynamicHeightGrid":"ShoppingGridShippedMetadata",D={height:h.zX*(S.current||1),width:h.zX},{anyEnabled:F,group:L}=x("web_shopping_grid_metadata_ratings_shipping",{dangerouslySkipActivation:!0});C&&!L.includes("pwt")&&x("web_shopping_grid_metadata_ratings_shipping");const R={commerce_data:e,image_signature:o,pinId:t,pinImageCrop:D,searchId:y,shoppingSurface:E,viewParameter:n,viewType:a};return(0,l.jsx)(m.xu,{direction:"row",display:"flex",justifyContent:"center",marginStart:1,wrap:!0,children:(0,l.jsx)(d.Z,{fetchMore:j,isAtEnd:I,isFetching:T,loadingLabel:w._('Loading search results...', 'Accessibility label for loading visual search results', 'Accessibility label for loading visual search results'),items:C||[],renderItem:({item:e,itemIdx:t})=>(0,l.jsx)(m.xu,{height:"pin"===e.type?D.height+v.s_+(F?v.dA:0):void 0,width:D.width,marginEnd:4,"data-grid-item":!0,children:(0,l.jsx)(s,{config:R,pin:e,slotIndex:t})},`RelatedProductsUnifiedFeed-${e.id}`)})})}var f=n(175644);function x({title:e}){return(0,l.jsx)(m.xu,{display:"flex",justifyContent:"center",dangerouslySetInlineStyle:{__style:{marginLeft:55}},children:(0,l.jsx)(m.X6,{size:"400",accessibilityLevel:2,children:e})})}var b=n(861411),w=n(616550);function S({pinId:e,visualSearchFlashlightUnifiedResource:t}){const n=(0,w.useLocation)(),{data:a}=t,r=(null==a?void 0:a.results)||[],o=`/pin/${e}/related-products/all/${n.search}`;return(0,l.jsx)(i.Fragment,{children:r.map(((e,t)=>{if("story"===e.type){const{action:n,id:i,objects:a,story_type:r,title:s}=e;switch(r){case"unified_visual_feed_product_upsell":const d=s.format||"";return(0,l.jsx)(b.qS,{auxData:{story_type:r},component:14339,loggingId:i,objectIdStr:i,slotIndex:t,viewParameter:3462,viewType:427,children:({impressionTrackerRef:e})=>(0,l.jsxs)(m.xu,{ref:e,children:[d&&(0,l.jsx)(x,{title:d}),(0,l.jsx)(m.xu,{marginTop:4,marginBottom:12,children:(0,l.jsx)(f.Z,{action:n,component:14339,contextLogData:{story_type:r},dangerouslySetActionUrl:o,element:179,id:i,objects:a,viewType:427,viewParameter:3462})})]})},i);case"unified_visual_feed_organic_header":return(0,l.jsx)(b.qS,{auxData:{story_type:r},component:14339,loggingId:i,objectIdStr:i,slotIndex:t,viewParameter:3462,viewType:427,children:({impressionTrackerRef:t})=>(0,l.jsx)(m.xu,{ref:t,marginBottom:4,children:(0,l.jsx)(x,{title:e.title.format||""})})},i);default:return null}}return null}))})}function P({searchId:e,viewParameter:t,viewType:n,visualSearchFlashlightUnifiedResource:a}){const o=(0,p.ZP)(),{logContextEvent:s}=(0,g.v)(),d=()=>(0,c.Z)((()=>{s({event_type:110,view_type:n,view_parameter:t})}),100);(0,u.Z)((()=>(window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)})));const{data:h,isFetching:_,fetchMore:v}=a,y=((null==h?void 0:h.results)||[]).filter((e=>"pin"===e.type));return(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(m.xu,{marginTop:2,children:(0,l.jsx)(m.Rk,{renderItem:({data:i,itemIdx:a})=>"pin"===i.type?(0,l.jsx)(r.default,{auxData:{commerce_data:{is_product_only_feed:!1}},pin:i,pinId:i.id,authDesktopSurface:"SearchItem",componentType:0,slotIndex:a,viewData:{search_identifier:e},viewParameter:t,viewType:n}):null,items:y||[],loadItems:v,scrollContainer:()=>window})}),(0,l.jsx)(m.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,l.jsx)(m.$j,{accessibilityLabel:o._('Loading visual search results', 'visualSearch.spinner.label', 'Accessibility label for spinner when loading the visual search results'),show:_})})]})}var k=n(35495);function I({imageSignature:e,isProductOnlyFeed:t,pin:n,variant:a,viewParameter:r,viewType:o,visualSearchFlashlightUnifiedResource:s}){const{checkExperiment:d}=(0,_.F)(),{logContextEvent:c}=(0,g.v)(),p=d("web_unified_visual_feed").anyEnabled||"flashlight"===a,{data:m}=s,h=null==m?void 0:m.search_identifier;(0,u.Z)((()=>{c({event_type:13,view_type:o,view_parameter:r,aux_data:(0,k.Kl)(n,{commerce_data:{is_product_only_feed:t}})})}));const{id:v}=n;return(0,l.jsxs)(i.Fragment,{children:[p&&(0,l.jsx)(S,{pinId:v,visualSearchFlashlightUnifiedResource:s}),p&&!t?(0,l.jsx)(P,{searchId:h,viewParameter:r,viewType:o,visualSearchFlashlightUnifiedResource:s}):(0,l.jsx)(y,{commerceData:t?{is_product_only_feed:!0}:{},imageSignature:e,pinId:v,searchId:h,viewParameter:r,viewType:o,visualSearchFlashlightUnifiedResource:s})]})}},407373:(e,t,n)=>{function i(e){const{category_filters:t,domain_filters:n,price_filters:i}=e||{};return!!t||!!n||!!i}n.d(t,{Z:()=>i})},647945:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),a=n(407373),r=n(784590);function o({resourceOptions:e}){const[t,n]=(0,i.useState)(),[o,l]=(0,i.useState)(""),[s,d]=(0,i.useState)(),c=(0,r.Z)(e?{name:"VisualSearchFlashlightUnifiedResource",options:e}:null);return(0,i.useEffect)((()=>{const{data:e}=c,t=null==e?void 0:e.search_identifier;t&&l(t),n(e)}),[c]),(0,i.useEffect)((()=>{const{data:e}=c,n=null==e?void 0:e.search_identifier,i=null==t?void 0:t.search_identifier;e&&(n&&i&&n===i||!(0,a.Z)(t)&&(0,a.Z)(e)&&d({category_filters:e.category_filters,domain_filters:e.domain_filters,price_filters:e.price_filters}))}),[s,t,c]),{visualSearchFlashlightUnifiedResource:c,filters:s,searchId:o,setSearchId:l}}},372169:(e,t,n)=>{n.d(t,{Je:()=>i,dA:()=>r,iO:()=>o,jh:()=>l,s_:()=>a,wq:()=>s});const i=350,a=134,r=16,o=2,l=236,s=20},362810:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(667294),a=n(116303),r=n(841509),o=n(564194),l=n(525199),s=n(149230),d=n(310227),c=n(407043),u=n(883119),p=n(785893);const m={backgroundColor:"rgba(255, 255, 255, 0.8)",borderRadius:"18px",color:"#111",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"};function h({productPin:e,isTopRow:t,disablePrice:n}){var i,a,r,o;const{title:l,description:s,images:d}=e,c=null===(i=e.rich_summary)||void 0===i?void 0:i.products,h=c&&c[0]||null,g=((null==h?void 0:h.offer_summary)||{}).price,_=d["474x"]||{};return(0,p.jsxs)(u.zd,{wash:!0,height:t?217:168,width:t?236:117,children:[(0,p.jsx)(u.Ee,{alt:l||s,fit:"cover",naturalHeight:null!==(a=_.height)&&void 0!==a?a:1,naturalWidth:null!==(r=_.width)&&void 0!==r?r:1,src:null!==(o=_.url)&&void 0!==o?o:""}),!!g&&!n&&(0,p.jsx)(u.xu,{margin:1,paddingY:1,paddingX:2,dangerouslySetInlineStyle:{__style:{...m}},"data-test-id":"shopping-upsell-price",left:!0,top:!0,position:"absolute",children:g})]})}const g={container:{borderRadius:`${d.Oc}px ${d.Oc}px 25px 25px`,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},content:{marginBottom:"2px"},visualOverlay:{backgroundColor:"rgba(0, 0, 0, .1)"}};function _({dangerouslySetActionUrl:e,query:t,story:n,slotIndex:d}){var m;const{logContextEvent:_}=(0,c.v)(),{action:v,id:y,objects:f,story_type:x,subtitle:b}=n,{text:w,url:S}=v,[P,k]=(0,i.useState)(!1),I=(0,i.useCallback)((()=>k(!0)),[k]),T=(0,i.useCallback)((()=>k(!1)),[k]),j=["related_domain_collage","related_products_collage"].includes(x)?1:0,C=null===(m=f[0])||void 0===m?void 0:m.domain;let A,E,D={story_type:x};["search_product_collage_story","shop_article_story"].includes(x)?(A=2,E=43,D={...D,story_id:y,entered_query:t}):"shop_brand_story"===x||"shop_brand_affinity_story"===x?(A=1,E=92,C&&(D={...D,commerce_data:JSON.stringify({domain:C})})):["stela_in_flashlight_card","stela_in_flashlight_onecol"].includes(x)?(A=72,E=3050):"related_domain_collage"===x?(A=72,E=3455):"related_products_collage"===x&&(A=1,E=3177);const F=b?4:2;let L,R;if(["related_domain_collage","shop_brand_story","shop_brand_affinity_story"].includes(x)){const e=v.user;L=e&&(e.image_medium_url||e.image_large_url),R=e&&e.full_name}const z=e||S,M=(0,s.Z)({url:z})?"nofollow":"none";return(0,p.jsx)(o.Z,{componentType:200,contextLogData:D||{},impressionType:"Story",loggingId:x,slotIndex:d,viewParameter:E,viewType:A,children:(0,p.jsx)(u.iP,{role:"link",rel:M,href:z,onTap:()=>_({event_type:101,element:372,component:200,view_type:A,view_parameter:E,aux_data:{story_type:x}}),children:(0,p.jsxs)(u.xu,{overflow:"hidden",position:"relative",onMouseEnter:I,onMouseLeave:T,dangerouslySetInlineStyle:{__style:g.container},children:[(0,p.jsxs)(u.xu,{overflow:"hidden",rounding:4,children:[(0,p.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:g.content},children:f[j]?(0,p.jsx)(h,{productPin:f[j],isTopRow:!0}):null}),(0,p.jsxs)(u.kC,{alignItems:"stretch",justifyContent:"between",children:[f[j+1]?(0,p.jsx)(h,{productPin:f[j+1]}):null,f[j+2]?(0,p.jsx)(h,{productPin:f[j+2]}):null]})]}),(0,p.jsx)(u.xu,{color:"secondary",display:"flex",paddingX:3,alignItems:"center",justifyContent:"center",marginTop:2,paddingY:F,rounding:"pill",children:(0,p.jsxs)(u.xu,{justifyContent:"center",alignContent:"start",display:"flex",direction:"column",margin:2,children:[b?(0,p.jsx)(u.xu,{marginBottom:1,children:(0,p.jsx)(u.xv,{align:"start",color:"subtle",children:b.format})}):null,(0,p.jsx)(u.xv,{align:"start",weight:"bold",children:w})]})}),R&&L&&(0,p.jsx)(u.xu,{position:"absolute",right:!0,top:!0,margin:2,children:(0,p.jsx)(a.Z,{name:R,size:"md",src:L,outline:!0})}),(0,p.jsx)(l.Z,{visibility:P?"visible":"none",children:(0,p.jsx)(r.Z,{additionalStyles:g.visualOverlay})})]})})})}},157796:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),a=n(883119),r=n(785893);function o({color:e="red",duration:t,finalProgress:n,shape:o="pill"}){const[l,s]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const e=setTimeout((()=>{s(!0)}),0);return()=>{clearTimeout(e)}}),[]);const d="pill"===o;return(0,r.jsx)(a.xu,{color:e,height:d?8:6,rounding:d?"pill":2,width:`${n}%`,dangerouslySetInlineStyle:{__style:{transform:d?`translateX(${l?"-5px":"-100%"})`:`scaleX(${l?1:0})`,transformOrigin:"left",transitionDuration:`${t}ms`,transitionTimingFunction:"ease-in"}}})}},27255:(e,t,n)=>{n.d(t,{Z:()=>i});const i={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY:"_video_autoplay_state",VIDEO_IFRAME_ID:"video-iframe"}},403368:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),a=n(898781),r=n(883119),o=n(785893);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=16,d=32;class c extends i.Component{constructor(...e){super(...e),l(this,"state",{isHovering:!1}),l(this,"handleMouseEnter",(e=>{this.setState({isHovering:!0}),this.props.onMouseEnter&&this.props.onMouseEnter(e)})),l(this,"handleMouseLeave",(e=>{this.setState({isHovering:!1}),this.props.onMouseLeave&&this.props.onMouseLeave(e)}))}render(){const{forwardedRef:e,icon:t,onClick:n,onMouseDown:i,onMouseUp:a,selected:l,style:c,text:u,x:p,y:m,zIndex:h,backdropDiameter:g=d,dotDiameter:_=s}=this.props,{isHovering:v}=this.state,y=v?g+4:g,f={zIndex:h,position:"absolute",top:m-y/2,left:p-y/2,outline:"none"},x={backgroundColor:"rgba(0, 0, 0, 0.1)",width:y,height:y,border:"none",borderRadius:y,cursor:n?"pointer":"default"};return(0,o.jsx)("div",{"data-test-id":"flashlight-dot",onClick:n,onKeyPress:n,onMouseDown:i,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:a,ref:e,role:"button",style:f,tabIndex:"0","aria-label":this.props.i18n._('Search this item', 'flashlight.dot.a11ylabel', 'accessibility label for flashlight dot'),children:(0,o.jsx)("div",{"data-test-id":"flashlight-dot-style",style:{...x,...c},children:(0,o.jsxs)(r.xu,{alignItems:"center",borderStyle:"none",color:"default",display:"flex",height:_,justifyContent:"center",position:"absolute",padding:0,width:_,dangerouslySetInlineStyle:{__style:{boxShadow:l?"0 0 0 3px #e60023":"none",borderRadius:_,top:(y-_)/2,left:(y-_)/2}},children:[!!u&&(0,o.jsx)(r.xv,{align:"center",color:"default",inline:!0,size:"100",weight:"bold",children:u}),t&&(0,o.jsx)(r.JO,{accessibilityLabel:this.props.i18n._('Tag anchor', 'accessibility label for an anchor for an object in a pin', 'accessibility label for an anchor for an object in a pin'),color:"error",icon:t,size:_/2,inline:!0})]})})})}}const u=(0,i.forwardRef)(((e,t)=>{const n=(0,a.ZP)();return(0,o.jsx)(c,{...e,forwardedRef:t,i18n:n})}))},247568:(e,t,n)=>{n.d(t,{Z:()=>C});var i=n(667294),a=n(523563),r=n(785893);const o={nw:0,ne:90,se:180,sw:270},l={ne:[6,-6],se:[6,6],sw:[-6,6],nw:[-6,-6]},s={nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},d=(e,t,n,i)=>{if("rounded"===i){const[i,a]=l[e];return`translate(${t+i}, ${n+a}), rotate(${o[e]})`}return`translate(${t}, ${n}), rotate(${o[e]})`};function c({corner:e,x:t,y:n,size:i,cornerStyle:a}){return(0,r.jsxs)("g",{transform:d(e,t,n,a),style:{cursor:s[e]},children:[(0,r.jsx)("rect",{fill:"rgba(0,0,0,0)",stroke:"none",x:0,y:0,width:i,height:i,className:`v2cropperHandle ${e}`}),"rounded"===a?(0,r.jsx)("path",{d:"M5,0C2.2,0,0,2.2,0,5v15h6V6h14V0H5z",fill:"#fff",className:`v2cropperHandle ${e}`}):(0,r.jsx)("path",{d:`M ${i} 0 L 0 0 L 0 ${i}`,fill:"none",stroke:"#fff",strokeWidth:6,className:`v2cropperHandle ${e}`})]})}const u={n:"ns-resize",s:"ns-resize",e:"ew-resize",w:"ew-resize"};function p({edge:e,x:t,y:n,w:i,h:a}){return(0,r.jsx)("rect",{fill:"rgba(0,0,0,0)",stroke:"none",x:t,y:n,width:i,height:a,className:`v2cropperHandle ${e}`,style:{cursor:u[e]}})}const m=20;function h({x:e,y:t,w:n,h:a}){const o="rounded";return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(c,{corner:"nw",x:e,y:t,size:m,cornerStyle:o}),(0,r.jsx)(c,{corner:"ne",x:e+n,y:t,size:m,cornerStyle:o}),(0,r.jsx)(c,{corner:"sw",x:e,y:t+a,size:m,cornerStyle:o}),(0,r.jsx)(c,{corner:"se",x:e+n,y:t+a,size:m,cornerStyle:o}),(0,r.jsx)(p,{edge:"n",x:e+m,y:t-10,w:n-40,h:30}),(0,r.jsx)(p,{edge:"e",x:e+n-m,y:t+m,w:30,h:a-40}),(0,r.jsx)(p,{edge:"s",x:e+m,y:t+a-10,w:n-40,h:30}),(0,r.jsx)(p,{edge:"w",x:e-m,y:t+m,w:30,h:a-40})]})}var g=n(391254),_=n(883119),v=n(615071),y=n(112690);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const x=10,b=48;class w extends i.Component{constructor(...e){super(...e),f(this,"state",{cropArea:this.props.initialCropArea||{h:0,w:0,x:0,y:0},cropChangeType:null}),f(this,"cropResizeDirection",null),f(this,"_cropperOverlay",(0,i.createRef)()),f(this,"_checkCropHandleValid",((e,t)=>{const{cropArea:{h:n,w:i,x:a,y:r}}=this.state;switch(this.cropResizeDirection){case"ne":e<a&&t>r+n?this.cropResizeDirection="sw":e<a?this.cropResizeDirection="nw":t>r+n&&(this.cropResizeDirection="se");break;case"nw":e>a+i&&t>r+n?this.cropResizeDirection="se":e>a+i?this.cropResizeDirection="ne":t>r+n&&(this.cropResizeDirection="sw");break;case"se":e<a&&t<r?this.cropResizeDirection="nw":e<a?this.cropResizeDirection="sw":t<r&&(this.cropResizeDirection="ne");break;case"sw":e>a+i&&t<r?this.cropResizeDirection="ne":e>a+i?this.cropResizeDirection="se":t<r&&(this.cropResizeDirection="nw");break;case"n":t>r+n&&(this.cropResizeDirection="s");break;case"s":t<r&&(this.cropResizeDirection="n");break;case"e":e<a&&(this.cropResizeDirection="w");break;case"w":e>a+i&&(this.cropResizeDirection="e")}})),f(this,"handleClickOutside",(e=>{const{enableClickOutside:t,entrySource:n,imageSize:i,onChange:a,viewParameter:r,logContextEvent:o}=this.props,{cropArea:l}=this.state,s=e.clientX-this._cropperOverlayCoor.x,d=e.clientY-this._cropperOverlayCoor.y;var c,u;t&&(s<l.x||d<l.y||s>l.x+l.w||d>l.y+l.h)&&(o({event_type:101,view_type:72,view_parameter:r,element:11677,aux_data:{commerce_data:JSON.stringify({entrypoint:n})}}),a({origCrop:{h:null!==(c=i.h)&&void 0!==c?c:1,w:null!==(u=i.w)&&void 0!==u?u:1,x:0,y:0}}))})),f(this,"handleOnMouseDown",(e=>{var t;e.preventDefault(),e.stopPropagation();const{clientX:n,clientY:i}=e,a=e.target,r=n-this._cropperOverlayCoor.x,o=i-this._cropperOverlayCoor.y,l=a.classList?Array.from(a.classList):a instanceof Element&&(null===(t=a.getAttribute("class"))||void 0===t?void 0:t.split(" "))||[];l.includes("v2cropperHandle")?(this.setState({cropChangeType:"resize"}),l.includes("ne")&&(this.cropResizeDirection="ne"),l.includes("nw")&&(this.cropResizeDirection="nw"),l.includes("se")&&(this.cropResizeDirection="se"),l.includes("sw")&&(this.cropResizeDirection="sw"),l.includes("n")&&(this.cropResizeDirection="n"),l.includes("s")&&(this.cropResizeDirection="s"),l.includes("e")&&(this.cropResizeDirection="e"),l.includes("w")&&(this.cropResizeDirection="w")):l.includes("v2cropSection")?(this.setState({cropChangeType:"move"}),this.cropChangeStartCoor={x:r,y:o}):l.includes("v2shadowMask")&&(this.cropChangeStartCoor={x:r,y:o},this.setState({cropArea:{h:0,w:0,x:r,y:o},cropChangeType:"select"}))})),f(this,"handleOnMouseMove",(e=>{const{cropArea:{h:t,w:n,x:i,y:a},cropChangeType:r}=this.state,{imageSize:o}=this.props,{clientX:l,clientY:s}=e,d=l-this._cropperOverlayCoor.x,c=s-this._cropperOverlayCoor.y;if("resize"===r){var u,p;const e=Math.max(Math.min(d,(null!==(u=o.w)&&void 0!==u?u:1)-x),x),r=Math.max(Math.min(c,(null!==(p=o.h)&&void 0!==p?p:1)-x),x);switch(this._checkCropHandleValid(e,r),this.cropResizeDirection){case"ne":{const n=Math.max(t+(a-r),b),o=Math.max(e-i,b);this.setState({cropArea:{h:n,w:o,x:i,y:n<=b?a:r}});break}case"nw":{const o=Math.max(n+(i-e),b),l=Math.max(t+(a-r),b);this.setState({cropArea:{h:l,w:o,x:o===b?i:e,y:l===b?a:r}});break}case"se":{const t=Math.max(r-a,b),n=Math.max(e-i,b);this.setState({cropArea:{h:t,w:n,x:i,y:a}});break}case"sw":{const t=Math.max(r-a,b),o=Math.max(n+(i-e),b);this.setState({cropArea:{h:t,w:o,x:o===b?i:e,y:a}});break}case"n":{const e=Math.max(a-r+t,b);this.setState({cropArea:{h:e,w:n,x:i,y:e===b?a:r}});break}case"s":{const e=Math.max(r-a,b);this.setState({cropArea:{h:e,w:n,x:i,y:a}});break}case"e":{const n=Math.max(e-i,b);this.setState({cropArea:{h:t,w:n,x:i,y:a}});break}case"w":{const r=Math.max(n-e+i,b);this.setState({cropArea:{h:t,w:r,x:r===b?i:e,y:a}});break}}}else if("move"===r){var m,h;const e=d-this.cropChangeStartCoor.x,r=c-this.cropChangeStartCoor.y,l=Math.max(Math.min(i+e,(null!==(m=o.w)&&void 0!==m?m:1)-n-x),x),s=Math.max(Math.min(a+r,(null!==(h=o.h)&&void 0!==h?h:1)-t-x),x);this.cropChangeStartCoor={x:d,y:c},this.setState({cropArea:{h:t,w:n,x:l,y:s}})}else if("select"===r){var g,_;const e=Math.max(Math.min(d,null!==(g=o.w)&&void 0!==g?g:1),0),t=Math.max(Math.min(c,null!==(_=o.h)&&void 0!==_?_:1),0),n=e-this.cropChangeStartCoor.x,i=t-this.cropChangeStartCoor.y;this.setState({cropArea:{h:Math.abs(i),w:Math.abs(n),x:Math.min(this.cropChangeStartCoor.x,e),y:Math.min(this.cropChangeStartCoor.y,t)}})}})),f(this,"handleOnMouseUp",(()=>{const{cropChangeType:e}=this.state;"resize"!==e&&"move"!==e&&"select"!==e||this.handleCrop(),this.cropResizeDirection=null}))}componentDidMount(){const{disableCrop:e}=this.props,t=document.body,n=this._cropperOverlay.current;if(n&&t){if(n){const e=n.getBoundingClientRect();this._cropperOverlayCoor={x:e.left,y:e.top}}e?e&&n.addEventListener("mousedown",this.handleClickOutside):(window.addEventListener("mouseup",this.handleOnMouseUp),t.addEventListener("mousemove",this.handleOnMouseMove),n.addEventListener("mousedown",this.handleOnMouseDown))}}componentWillUnmount(){const{disableCrop:e,entrySource:t}=this.props,n=document.body,i=this._cropperOverlay.current;i&&n&&(e?e&&"shopping"===t&&i.removeEventListener("mousedown",this.handleClickOutside):(window.removeEventListener("mouseup",this.handleOnMouseUp),n.removeEventListener("mousemove",this.handleOnMouseMove),i.removeEventListener("mousedown",this.handleOnMouseDown)))}handleCrop(){const{entrySource:e,imageSize:t,onChange:n,viewParameter:i,logContextEvent:a}=this.props,{cropChangeType:r,cropArea:o}=this.state;if(0===o.w&&0===o.h){var l,s;this.setState({cropChangeType:null}),n({origCrop:{h:(null!==(l=t.h)&&void 0!==l?l:1)-20,w:(null!==(s=t.w)&&void 0!==s?s:1)-20,x,y:x}})}else{var d,c,u,p;this.setState({cropChangeType:null});const l=Math.max(Math.min(o.x,(null!==(d=t.w)&&void 0!==d?d:1)-b-x),x),s=Math.max(Math.min(o.y,(null!==(c=t.h)&&void 0!==c?c:1)-b-x),x);let g,_;if(o.h<b)g=b;else if(s+o.h>(null!==(u=t.h)&&void 0!==u?u:1)-x){var m;g=(null!==(m=t.h)&&void 0!==m?m:1)-s-x}else g=o.h;if(o.w<b)_=b;else if(l+o.w>(null!==(p=t.w)&&void 0!==p?p:1)-x){var h;_=(null!==(h=t.w)&&void 0!==h?h:1)-l-x}else _=o.w;switch(r){case"move":a({event_type:7603,view_type:72,view_parameter:i,aux_data:{commerce_data:e?JSON.stringify({entrypoint:e}):void 0}});break;case"resize":a({event_type:7604,view_type:72,view_parameter:i,aux_data:{commerce_data:e?JSON.stringify({entrypoint:e}):void 0}})}n({origCrop:{h:g,w:_,x:l,y:s}})}}render(){const{children:e,previewCropArea:t,showPreviewArea:n,disableCrop:i}=this.props,{cropArea:{h:a,w:o,x:l,y:s},cropChangeType:d}=this.state;return(0,r.jsxs)(_.xu,{ref:this._cropperOverlay,position:"absolute",top:!0,left:!0,width:"100%",height:"100%",dangerouslySetInlineStyle:{__style:{cursor:i?"auto":"crosshair"}},children:[(0,r.jsx)(g.Z,{unsafeCSS:"\n.preview-crop-area-enter {\n  opacity: 0;\n}\n\n.preview-crop-area-enter-active {\n  opacity: 1;\n  transition: opacity 300ms;\n}\n\n.preview-crop-area-exit {\n  opacity: 1;\n}\n\n.preview-crop-area-exit-active {\n  opacity: 0;\n  transition: opacity 300ms;\n}\n\n.preview-crop-area-exit-done {\n  opacity: 0;\n}\n"}),(0,r.jsxs)("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:[(0,r.jsx)("defs",{children:(0,r.jsxs)("mask",{id:"Mask",children:[(0,r.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",rx:"0",ry:"0",fill:"#fff"}),(0,r.jsx)("rect",{x:l,y:s,width:o,height:a,id:"hole",rx:i?15:0,ry:i?15:0},`${l}${s}`),(0,r.jsx)(v.Z,{in:n&&!d,timeout:300,classNames:"preview-crop-area",mountOnEnter:!0,unmountOnExit:!0,children:(0,r.jsx)("rect",{x:t.x,y:t.y,width:t.w,height:t.h,id:"preview",rx:4,ry:4},`${t.x}${t.y}`)})]})}),(0,r.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",style:{fill:"rgba(0,0,0,0.5)"},mask:"url(#Mask)",className:"v2shadowMask"}),(0,r.jsx)("use",{href:"#hole",fill:"rgba(0,0,0,0)",stroke:i?"none":"#fff",strokeWidth:"2",className:"v2cropSection",style:{cursor:i?"auto":"move"}}),"select"!==d&&!i&&(0,r.jsx)(h,{x:l,y:s,w:o,h:a})]}),e]})}}function S(e){const t=(0,y.Z)();return(0,r.jsx)(w,{logContextEvent:t,...e})}var P=n(403368);function k({entrySource:e,showAnimation:t,auxData:n,index:a,isStela:o,onClick:l,onHover:s,onUnhover:d,spotlightCenter:c,viewParameter:u,viewType:p}){const m=(0,y.Z)();(0,i.useEffect)((()=>{m(e?{event_type:120,view_type:p,view_parameter:u,element:1221,aux_data:{commerce_data:JSON.stringify({entrypoint:e}),...n}}:{event_type:120,element:1260,aux_data:n})}),[]);const h=parseFloat((.1*(a+1)).toFixed(2)),g={animation:t?`spotlightDotPop 0.6s ease-out ${h}s both`:"none"};return(0,r.jsx)(P.Z,{x:c.x,y:c.y,onClick:e=>{e&&(e.stopPropagation(),e.preventDefault()),m({event_type:101,view_parameter:u,element:o?1221:1260,aux_data:n}),l(a)},onMouseEnter:e=>{e&&(e.stopPropagation(),e.preventDefault()),s(a)},onMouseLeave:e=>{e&&(e.stopPropagation(),e.preventDefault()),d()},style:g})}var I=n(599611);const T=({entrySource:e,showAnimation:t,pinId:n,imageSignature:a,imageSize:o,currentSpotlightIdx:l,spotlightAreas:s,handleSpotlightClick:d,handleSpotlightHover:c,handleSpotlightUnhover:u,viewParameter:p,viewType:m})=>(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(g.Z,{unsafeCSS:"\n@keyframes spotlightDotPop {\n  0% {\n    opacity: 0;\n    transform: scale(0);\n  }\n\n  100% {\n    opacity: 1;\n    transform: scale(1);\n  }\n}"}),s.map(((i,s)=>{var h,g;if(s===l)return null;const _=(0,I.Z)({cropArea:i,scaledWidth:null!==(h=o.w)&&void 0!==h?h:0,scaledHeight:null!==(g=o.h)&&void 0!==g?g:0}),v={x:_.x+_.w/2,y:_.y+_.h/2},y={commerce_data:JSON.stringify({entrypoint:e}),pin_id:n,image_signature:a,visual_objects:JSON.stringify([{x:i.x,y:i.y,w:i.w,h:i.h}])},f=`${v.x}${v.y}`;return(0,r.jsx)(k,{entrySource:e,showAnimation:t,auxData:y,index:s,isStela:!!i.is_stela,onClick:d,onHover:c,onUnhover:u,spotlightCenter:v,viewParameter:p,viewType:m},f)}))]});var j=n(554383);function C({cropSource:e,disableCrop:t,entrySource:n,imageSize:o,imageSignature:l,initialCropArea:s,pin:d,onChange:c,showAnimation:u,searchQuery:p,spotlightAreas:m=[],trafficSource:h,viewParameter:g,viewType:v}){const[y,f]=(0,i.useState)(!1),[x,b]=(0,i.useState)({w:0,h:0,x:0,y:0}),[w,P]=(0,i.useState)(0);(0,i.useEffect)((()=>{const e=m.findIndex((e=>{var t,n;return(0,a.Z)(s,(0,I.Z)({cropArea:e,scaledWidth:null!==(t=o.w)&&void 0!==t?t:0,scaledHeight:null!==(n=o.h)&&void 0!==n?n:0}),4)}));P(e)}),[o,s,m]);const k=e=>{var t,i;const a=m[e],r=(0,I.Z)({cropArea:a,scaledWidth:null!==(t=o.w)&&void 0!==t?t:0,scaledHeight:null!==(i=o.h)&&void 0!==i?i:0});c({origCrop:r,cropSource:a.is_stela?4:1,entrySource:n,trafficSource:h})},C=m&&!!m.length,{is_eligible_for_related_products:A}=d||{},E=A&&"shopping"===n;return(0,r.jsx)(i.Fragment,{children:E?(0,r.jsx)(_.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:C?{pointerEvents:"none",backgroundColor:"rgba(0, 0, 0, 0.2)"}:{}},left:!0,position:"absolute",right:!0,top:!0,children:C&&(0,r.jsx)(i.Fragment,{children:(0,r.jsx)(j.default,{alwaysShow:!0,cropSource:e,currentSpotlightIdx:w,height:o.h,pin:d,searchQuery:p,trafficSource:h,width:o.w,handleStelaClick:k,enablePointerEvents:!0})})}):(0,r.jsx)(S,{enableClickOutside:!y,entrySource:n,imageSize:o,initialCropArea:s,onChange:({origCrop:e})=>{c({origCrop:e,cropSource:6,entrySource:n,trafficSource:h})},previewCropArea:x,showPreviewArea:!1,disableCrop:t,viewParameter:g,children:C&&(0,r.jsx)(T,{entrySource:n,showAnimation:u,pinId:d.id,handleSpotlightHover:e=>{var t,n;e!==w&&(f(!0),b((0,I.Z)({cropArea:m[e],scaledWidth:null!==(t=o.w)&&void 0!==t?t:0,scaledHeight:null!==(n=o.h)&&void 0!==n?n:0})))},handleSpotlightUnhover:()=>{f(!1)},imageSignature:l,imageSize:o,currentSpotlightIdx:w,spotlightAreas:m,handleSpotlightClick:k,viewParameter:g,viewType:v})},JSON.stringify(s))})}},558068:(e,t,n)=>{n.d(t,{Hv:()=>s,aX:()=>u,nK:()=>p});var i=n(667294),a=n(425288),r=n(616550),o=n(785893);const{Provider:l,useHook:s}=(0,a.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),d=e=>e&&e.pathname?e.pathname+(e.search||""):"";function c(e,t){var n;const i={action:t.type,location:t.location,match:t.match};if(t.location===(null===(n=e.current)||void 0===n?void 0:n.location))return e;switch(t.type){case"POP":return e.forward.length>0&&d(e.forward[0].location)===d(i.location)?{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous}:{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:i,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:i};default:return e}}function u(){const{current:e,previous:t}=s();return(0,i.useMemo)((()=>e?t.concat(e):t),[e,t])}function p({children:e}){const t=(0,r.useHistory)(),n=(0,r.useLocation)(),a=(0,r.useRouteMatch)(),s={forward:[],current:{action:t.action,location:n,match:a},previous:[]},[d,u]=(0,i.useReducer)(c,s);return(0,i.useEffect)((()=>{const{action:e}=t;u({type:e,location:n,match:a})}),[n]),(0,o.jsx)(l,{value:d,children:e})}},310227:(e,t,n)=>{n.d(t,{Dv:()=>r,Ml:()=>o,Oc:()=>i,mv:()=>a});const i=16,a=4,r={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},o=120},335174:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(483205);const a=e=>`@keyframes shopButtonSlideInThenOut {\n    0% {\n      width: 0px;\n    }\n\n    15% {\n      width: ${e+i.DY}px;\n    }\n\n    85% {\n      width: ${e+i.DY}px;\n    }\n\n    100% {\n      width: 0px;\n    }\n  }\n\n  @keyframes shopButtonSlideIn {\n    0% {\n      width: 48px;\n    }\n\n    100% {\n      width: ${e+i.Nv}px;\n    }\n  }\n\n  @keyframes shopButtonSlideOut {\n    0% {\n      width: ${e+i.Nv}px;\n    }\n\n    100% {\n      width: 48px;\n    }\n  }\n\n  @keyframes revealShopText {\n    from {\n      clip-path: inset(0 100% 0 0);\n    }\n    to {\n      clip-path: inset(0 0 0 0);\n    }\n  }\n\n\n  @keyframes stelaSlideIn {\n    0% {\n        opacity: 0;\n    }\n\n    100% {\n        opacity: 1;\n    }\n}\n\n@keyframes stelaSlideOut {\n    0% {\n        opacity: 1;\n    }\n\n    100% {\n        opacity: 0;\n    }\n}\n\n@keyframes stelaSlideInThenOut {\n    0% {\n        opacity: 0;\n    }\n\n    15% {\n        opacity: 0;\n    }\n\n    25% {\n        opacity: 1;\n    }\n\n    50% {\n        opacity: 1;\n    }\n\n    75% {\n        opacity: 1;\n    }\n\n    85% {\n        opacity: 0;\n    }\n\n    100% {\n        opacity: 0;\n    }\n}\n\n  `},554383:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var i=n(667294),a=n(599611),r=n(341866),o=n(305791),l=n(94047),s=n(325016),d=n(335174),c=n(391254),u=n(829407),p=n(112690),m=n(241244),h=n(883119),g=n(785893);const _={},v={none:{opacity:0},down:{animation:"stelaSlideIn .3s ease-in-out forwards"},up:{animation:"stelaSlideOut .3s ease-in-out forwards"}};function y({alwaysShow:e,contextLogData:t,enablePointerEvents:n=!0,imageHeight:a,imageWidth:r,isSelected:o,label:l,labelPressState:s,xPos:y,yPos:f}){var x;const b=(0,i.useRef)(),w=(0,p.Z)();(0,u.Z)((()=>{w({event_type:120,view_type:3,aux_data:{...t},...t})})),(0,i.useEffect)((()=>{_[l]=null}),[l]),(0,i.useEffect)((()=>{const e=b.current&&b.current.getBoundingClientRect().width;_[l]=e}),[b.current]);const S=null!==(x=_[l])&&void 0!==x?x:0;let P=y,k=f;y+S>r?P=r-S:y<0&&(P=0),f+33>a?k=a-33:f<0&&(k=0);const I=!!_[l];return(0,g.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{top:k,left:P}},display:"flex",position:"absolute",children:(0,g.jsxs)(m.N,{enabled:n,children:[(0,g.jsx)(c.Z,{unsafeCSS:(0,d.Z)()}),(0,g.jsx)(h.xu,{ref:b,dangerouslySetInlineStyle:{__style:I||e?{backgroundColor:e&&o?"#000":"rgba(255, 255, 255)",zIndex:5,whiteSpace:"nowrap",left:void 0,...e?{opacity:I?1:0}:v[s||"none"]}:{opacity:0}},padding:2,position:"relative",rounding:"pill",children:(0,g.jsx)(h.xv,{align:"start",color:e&&o?"inverse":"default",overflow:"normal",size:"200",weight:"bold",children:l})})]})})}var f=n(483205),x=n(616550),b=n(629377);const w=()=>{};function S({alwaysShow:e,cropSource:t,currentSpotlightIdx:n,enablePointerEvents:i,handleStelaClick:r,height:d=1,index:c,labelPressState:u,onStelaDotAnimationComplete:m,pin:_,searchQuery:v,stelaDotAnimationType:S,stelaItem:P,trafficSource:k,width:I=1}){const T=(0,x.useHistory)(),{selectStela:j}=(0,b.b)(),C=(0,p.Z)(),A=((P.label_x||P.x)+P.w/2)*I,E=((P.label_y||P.y)+P.h/2)*d,D={element:1221,image_signature:_.image_signature,visual_objects:JSON.stringify({x:P.x,y:P.y,w:P.w,h:P.h,object_category:P.label}),pin_id:_.id,commerce_data:JSON.stringify({pin_is_stela:!0})};return(0,g.jsxs)(h.iP,{onMouseEnter:w,onMouseLeave:w,onTap:()=>{if(C(e?{event_type:101,view_type:427,element:D.element,aux_data:{...D}}:{event_type:101,view_type:3,element:D.element,aux_data:{...D}}),e&&r&&P&&void 0!==c)j({selectedStelaItem:P}),r(c);else if(P&&T){const{height:e,width:t}=(0,o.Z)({pin:_,maxWidth:f.RZ}),n=(0,a.Z)({cropArea:P,scaledWidth:t,scaledHeight:e}),i=(0,l.Z)({cropArea:n,cropSource:4,entrySource:"shopping",title:P.label,trafficSource:k,searchQuery:v});j({selectedStelaItem:P}),T.push(`/pin/${_.id}/related-products/${i}`)}},children:[(0,g.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{top:E,left:A}},display:"flex",position:"absolute","data-test-id":"stela-label-dot",children:("inOut"===S||!P.label&&("down"===u||e)||I<=400&&e)&&(0,g.jsx)(s.Z,{alwaysShow:e,contextLogData:D,isSelected:P.isSelected,onStelaDotAnimationComplete:m,stelaDotAnimationType:S,imageSignature:_.image_signature,enablePointerEvents:i})}),P.label&&!(e&&I<=400)&&(0,g.jsx)(y,{alwaysShow:e,contextLogData:D,imageWidth:I,imageHeight:d,isSelected:P.isSelected,label:P.label,labelPressState:u,xPos:A,yPos:E,enablePointerEvents:i})]})}var P=n(826067),k=n(407043);function I({alwaysShow:e,cropSource:t,closeupImageHovered:n,currentSpotlightIdx:o,disableSelected:l,enablePointerEvents:s,handleStelaClick:d,height:c,labelPressState:u,onStelaDotAnimationComplete:p,pin:m,searchQuery:_,stelaDotAnimationType:v,trafficSource:y,width:f}){const b=(0,x.useLocation)(),{logContextEvent:w}=(0,k.v)(),{x:I,y:T}=(0,P.mB)(b.search),j=parseInt(I,10),C=parseInt(T,10),[A,E]=(0,i.useState)(!1),[D,F]=(0,i.useState)(!1),L=(0,r.Z)({pin:m}).map((t=>{if(!l&&I&&T){const n=(0,a.Z)({cropArea:t,scaledWidth:null!=f?f:0,scaledHeight:null!=c?c:0});if(n.x===j&&n.y===C)return!e||D||A||E(!0),{...t,isSelected:!0}}return{...t,isSelected:!1}}));return(0,i.useEffect)((()=>{A&&!D&&(w({element:1221,event_type:101,view_type:427,view_parameter:3462}),F(!0))}),[w,F,A,D]),(0,g.jsx)(h.xu,{height:c,position:"absolute",width:f,dangerouslySetInlineStyle:{__style:"in"===v||n?{backgroundColor:"rgba(0, 0, 0, 0.2)"}:{}},children:L.map(((n,i)=>(0,g.jsx)(S,{alwaysShow:e,cropSource:t,currentSpotlightIdx:o,height:c,index:i,handleStelaClick:d,labelPressState:u,onStelaDotAnimationComplete:p,pin:m,searchQuery:_,stelaDotAnimationType:v,stelaItem:n,trafficSource:y,width:f,enablePointerEvents:s},`${n.x}${n.y}`)))})}},325016:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),a=n(335174),r=n(391254),o=n(112690),l=n(883119),s=n(483205),d=n(241244),c=n(785893);function u({alwaysShow:e,contextLogData:t,enablePointerEvents:n=!0,imageSignature:u,isSelected:p,onStelaDotAnimationComplete:m,stelaDotAnimationType:h}){const[g,_]=(0,i.useState)(!1),v=(0,o.Z)();(0,i.useEffect)((()=>{g||_(!0)}),[]);let y;(0,i.useEffect)((()=>{v({event_type:120,view_type:3,aux_data:{...t},...t})}),[]),"in"===h?y="stelaSlideIn .3s ease-in-out forwards":"out"===h?y="stelaSlideOut .3s ease-in-out forwards":"inOut"===h?y="stelaSlideInThenOut 3s ease-in-out forwards":"none"===h&&(y="none");const f=e?"black":"white",x=e?{opacity:1}:{animation:y,opacity:"none"===y?0:void 0};return(0,c.jsx)(i.Fragment,{children:(0,c.jsxs)(d.N,{enabled:n,children:[(0,c.jsx)(r.Z,{unsafeCSS:(0,a.Z)()}),(0,c.jsx)(l.xu,{"data-test-id":"closeup-stela-dot",height:s.b9,width:s.b9,onAnimationEnd:()=>{m&&"inOut"===h&&m()},dangerouslySetInlineStyle:{__style:x},children:(0,c.jsxs)("svg",{fill:"none",height:"36",viewBox:"0 0 36 36",width:"36",xmlns:"http://www.w3.org/2000/svg",children:[(0,c.jsx)("g",{filter:"url(#filter0_d)",children:(0,c.jsx)("circle",{cx:"18",cy:"18",fill:p?f:"white",r:"8"})}),(0,c.jsx)("defs",{children:(0,c.jsxs)("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"36",id:"filter0_d",width:"36",x:"0",y:"0",children:[(0,c.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,c.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,c.jsx)("feOffset",{}),(0,c.jsx)("feGaussianBlur",{stdDeviation:"5"}),(0,c.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,c.jsx)("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow"}),(0,c.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",mode:"normal",result:"shape"})]})})]})})]})})}},483205:(e,t,n)=>{n.d(t,{DY:()=>o,Nv:()=>a,RZ:()=>r,b9:()=>i});const i=36,a=44,r=446,o=16},283698:(e,t,n)=>{function i(e){return"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame")||e&&e(),window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{e&&e()}))}))}n.d(t,{Z:()=>i})},100183:(e,t,n)=>{n.d(t,{CC:()=>i,Ll:()=>r,XF:()=>a});const i=(e,t)=>((e,t,n)=>({x:Math.floor(e*Math.cos(n)),y:Math.floor(t*Math.sin(n))}))(t/2,e/2,2*Math.random()*Math.PI),a=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,r=e=>["@-webkit-keyframes","@keyframes"].map((t=>e.map((e=>t+" "+e)).join("\n"))).join("\n")},613316:(e,t,n)=>{function i(e){return[0,24,21,26].includes(e)}function a({articleType:e,id:t,title:n}){const i=n.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${i}/${t}/`:`/discover/article/${i}/${t}/`}n.d(t,{x:()=>a,y:()=>i})},78714:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(56641),a=n(954931),r=n(867820);const o=(e,t)=>{null!=t&&t.disableOriginCheck||(0,a.Z)(e)||(e="/",(0,r.My)("url_reset")),(0,i.Z)(e)}},792182:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294);function a(e){return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}function r(){return window.innerWidth}function o(){return window.innerHeight}function l(){return null}function s(){const e=(0,i.useSyncExternalStore)(a,o,l),t=(0,i.useSyncExternalStore)(a,r,l);return null!==e&&null!==t?{height:e,width:t}:null}},924196:(e,t,n)=>{n.d(t,{Z:()=>i});const i={GOOGLE_ADWORDS_ID:852082959,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},904431:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>r});class a{static reportGoogleConversion(e,t,n,i){i||(void 0!==window.gtag_report_conversion?window.gtag_report_conversion(e,t,n):a.queuedGoogleConversions.push({id:e,label:t,url:n}))}static reportFacebookConversion(e,t,n){void 0!==window.fbq?n?window.fbq("track",t,n):window.fbq("track",t):a.queuedFacebookConversions.push({id:e,event:t,data:n})}static reportCustomFacebookConversion(e,t,n){void 0!==window.fbq?n?window.fbq("trackCustom",t,n):window.fbq("trackCustom",t):a.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:t,data:n})}static reportPinterestConversion(e,t,n){void 0!==window.pintrk?n?window.pintrk("track",t,n):window.pintrk("track",t):a.queuedPinterestConversions.push({id:e,event:t,data:n})}static reportTwitterConversion(e,t){void 0!==window.twttr?t?window.twttr.conversion.trackPid(e,t):window.twttr.conversion.trackPid(e):a.queuedTwitterConversions.push({id:e,data:t})}static reportTheTradeDeskConversion(e,t){const n=document.createElement("img");n.setAttribute("height","1"),n.setAttribute("width","1"),n.setAttribute("role","presentation"),n.style.borderStyle="none",n.style.position="absolute",n.setAttribute("src",`//insight.adsrvr.org/track/conv/?adv=${e}&ct=0:${t}&fmt=3`),document.body.insertBefore(n,document.body.lastChild)}static reportLinkedInConversion(e,t){const n=document.createElement("img");n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("role","presentation"),n.setAttribute("src",`https://dc.ads.linkedin.com/collect/?pid=${e}&conversionId=${t}&fmt=gif`),n.style.display="none",document.body.insertBefore(n,document.body.lastChild)}static reportDoubleClickConversion(e,t,n){const i=1e13*Math.random(),a=document.createElement("iframe");a.setAttribute("width","1"),a.setAttribute("height","1"),a.setAttribute("frameborder","0"),a.setAttribute("src",`https://${e}.fls.doubleclick.net/activityi;src=${e};\n    type=${t};cat=${n};dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=${i}?`),a.style.display="none",document.body.insertBefore(a,document.body.lastChild)}static insertGoogleAdWordsTag(e,t){const n=document.createElement("script");t||(n.setAttribute("async",""),n.setAttribute("src",`https://www.googletagmanager.com/gtag/js?id=AW-${e}`),n.onload=()=>{window.dataLayer=window.dataLayer||[],window.gtag=function(e,t,n){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,t,n){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+t,event_callback:function(){void 0!==n&&window.location.assign(n)}}),!1};const n=a.queuedGoogleConversions;for(let i=0;i<n.length;i+=1){const r=n[i];r.id===e&&a.reportGoogleConversion(r.id,r.label,r.url,t)}}),document.body.insertBefore(n,document.body.firstChild)}static insertFacebookPixelTag(e){var t,n,i,r,o,l;t=window,n=document,i="script",t.fbq||(r=t.fbq=function(){r.callMethod?r.callMethod.apply(r,arguments):r.queue.push(arguments)},t._fbq||(t._fbq=r),r.push=r,r.loaded=!0,r.version="2.0",r.queue=[],(o=n.createElement(i)).async=!0,o.src="//connect.facebook.net/en_US/fbevents.js",(l=n.getElementsByTagName(i)[0]).parentNode.insertBefore(o,l)),window.fbq("init",e),window.fbq("track","PageView");const s=a.queuedFacebookConversions;for(let d=0;d<s.length;d+=1){const t=s[d];t.id===e&&(t.isCustomEvent?a.reportCustomFacebookConversion(e,t.event,t.data):a.reportFacebookConversion(e,t.event,t.data))}}static insertTwitterUniversalTag(e){var t,n,i,a,r,o;t=window,n=document,i="script",t.twq||((a=t.twq=function(){a.exe?a.exe.apply(a,arguments):a.queue.push(arguments)}).version="1.1",a.queue=[],(r=n.createElement(i)).async=!0,r.src="//static.ads-twitter.com/uwt.js",(o=n.getElementsByTagName(i)[0]).parentNode.insertBefore(r,o)),window.twq("init",e),window.twq("track","PageView")}static insertLinkedInInsightTag(e){window._linkedin_data_partner_id=e;const t=document.createElement("script");t.setAttribute("src","//snap.licdn.com/li.lms-analytics/insight.min.js"),document.body.insertBefore(t,document.body.firstChild)}static insertPinterestTag(e){!function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};const e=window.pintrk;e.queue=[],e.version="3.0";const t=document.createElement("script");t.async=!0,t.src="https://s.pinimg.com/ct/core.js";const n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}}(),window.pintrk("load",e),window.pintrk("page");const t=a.queuedPinterestConversions;for(let n=0;n<t.length;n+=1){const i=t[n];i.id===e&&a.reportPinterestConversion(e,i.event,i.data)}}}i(a,"queuedGoogleConversions",[]),i(a,"queuedFacebookConversions",[]),i(a,"queuedPinterestConversions",[]),i(a,"queuedTwitterConversions",[]);const r=a},81636:(e,t,n)=>{n.d(t,{Q:()=>d,Z:()=>c});var i=n(667294),a=n(682492),r=n.n(a),o=n(112690),l=n(780280),s=n(385740);function d(e,t){const{setViewContextData:n}=(0,s.sV)(),{requestIdentifier:a}=(0,l.B)(),d=(0,o.Z)(),{viewData:c}=(0,s.SU)();(0,i.useEffect)((()=>{var t;e&&(n({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?r()(c,e.view_data):r()({},c),component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),d({...e,event_type:13,request_identifier:a}))}),[t])}function c(e){const{children:t,log:n}=e;return d(n),t||null}},407043:(e,t,n)=>{n.d(t,{B:()=>s,v:()=>l});var i=n(385740),a=n(425288),r=n(785893);const{Provider:o,useHook:l}=(0,a.Z)("ContextLogger");function s({children:e,value:t}){const{setViewContextData:n}=(0,i.sV)();return t.injectSetViewContextDataFromHook=n,(0,r.jsx)(o,{value:t,children:e})}},112690:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(407043);const a=()=>(0,i.v)().logContextEvent},385740:(e,t,n)=>{n.d(t,{BE:()=>d,Ih:()=>c,SU:()=>u,sV:()=>l});var i=n(667294),a=n(425288),r=n(785893);const{Provider:o,useHook:l}=(0,a.Z)("View");let s;function d(){return s}function c({children:e,initialState:t={}}){const[n,a]=(0,i.useState)(t),l=(0,i.useCallback)((()=>{s={},a({})}),[]),d=(0,i.useCallback)((e=>{s={...s,...e},a((t=>({...t,...e})))}),[]),c=(0,i.useMemo)((()=>({viewContextData:n,clearViewContextData:l,setViewContextData:d})),[n,d,l]);return(0,r.jsx)(i.Fragment,{children:(0,r.jsx)(o,{value:c,children:e})})}function u(){const{viewContextData:e}=l();return e}},425288:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294);function a(e,t){return`\n  ${"consumer"===t?`${e}Consumer`:`use${e}`} must be used within a ${e}Provider.\n  Please see https://pdocs.pinadmin.com/docs/webapp/testing-jest#createhydra-errors for more information.\n  `}function r(e,t){const n=(0,i.createContext)(t),{messageDisplayName:r}=function(e,t){let n=e.slice(1);if(n=n.endsWith("Context")?n:`${n}Context`,t)return{hocDisplayName:`with${e[0].toUpperCase()}${n}(${t})`};return{propsDisplayName:`${e[0].toLowerCase()}${n}`,messageDisplayName:`${e[0].toUpperCase()}${n}`}}(e);n.displayName=r;const o=n.Provider,l=({children:e})=>{const t=(0,i.useContext)(n);if(void 0===t)throw new Error(a(r,"consumer"));return e(t)},s=()=>(0,i.useContext)(n);return o.displayName=`${r}Provider`,l.displayName=`${r}Consumer`,{Provider:o,Consumer:l,MaybeConsumer:({children:e})=>e((0,i.useContext)(n)),useMaybeHook:s,useHook:function(){const e=s();if(void 0===e)throw new Error(a(r,"hook"));return e}}}},643010:(e,t,n)=>{n.d(t,{F6:()=>u,Hs:()=>c,Yc:()=>s,vs:()=>d});var i=n(667294),a=n(867820),r=n(844974);const o="theme",l="dark"===(0,r.qn)(o),s=()=>l;function d(){const[e,t]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{t(s())}),[t]),e}const c=()=>{(0,r.Nh)(o,"dark"),(0,a.My)("mweb.dark_mode.enable"),window.location.reload()},u=()=>{(0,r.L_)(o),(0,a.My)("mweb.dark_mode.disable"),window.location.reload()}},782534:(e,t,n)=>{n.d(t,{Z:()=>o,k:()=>a.k});var i=n(780280),a=n(451820),r=n(785893);const o=({dateFormatType:e,useUTC:t=!0,value:n})=>(0,r.jsx)(i.LC,{children:i=>(0,a.Z)(i.locale,n,e,t)})},451820:(e,t,n)=>{n.d(t,{Z:()=>a,k:()=>i});const i={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour",TWO_DIGIT:"two_digit"};function a(e,t,n,a=!0){const r=function(e){switch(e){case i.YEAR:return{year:"numeric"};case i.LONG:return{year:"numeric",month:"long",day:"numeric"};case i.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case i.TWO_DIGIT:return{year:"numeric",month:"2-digit",day:"2-digit"};case i.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case i.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case i.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case i.MONTH_DAY:return{month:"long",day:"numeric"};case i.SHORT_MONTH:return{month:"short"};case i.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case i.DAY:return{day:"numeric"};case i.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case i.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case i.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case i.TIME:return{hour:"numeric",minute:"2-digit"};case i.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case i.HOUR:return{hour:"numeric"};default:throw new Error('invalid dateFormatType "'+e+'"')}}(n);a&&(r.timeZone="UTC");return new Intl.DateTimeFormat(e,r).format(t)}},903095:(e,t,n)=>{n.d(t,{Mi:()=>a,lO:()=>r});var i=n(425288);const{Provider:a,useMaybeHook:r}=(0,i.Z)("pageContext")},375571:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(172071),r=n(395164);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.Component{constructor(...e){super(...e),o(this,"state",{error:null,info:null}),o(this,"resetError",(()=>{this.setState({error:null,info:null})}))}componentDidCatch(e,t){try{var n;const t=this.props.name,i=this.props.type||"secondary";(0,r.T)({extraData:null!==(n=e.extraData)&&void 0!==n?n:{},errorBoundary:t,errorBoundaryType:i,message:e.message,name:e.name,stack:e.stack}),a.Z.increment("react.error_boundary",.1,{component:void 0,name:this.props.name})}catch(i){a.Z.increment("react.error_boundary.error",1,{name:this.props.name})}this.setState({error:e,info:t})}render(){const{renderErrorState:e}=this.props,{error:t,info:n}=this.state;return t&&n?e?e({error:t,info:n,resetError:this.resetError}):null:this.props.children}}},319915:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(375571).Z},121093:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),a=n(702664),r=n(332611),o=n(242923),l=n(785893);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),s(this,"state",{hasCompleted:[],hasDismissed:[]}),s(this,"view",(()=>{const{experience:e,isBackendExperience:t,targeting:n,viewExperience:i,viewExperienceObject:a}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",a(e)):n?i(e.placement_id,e.experience_id,n):i(e.placement_id,e.experience_id))})),s(this,"complete",(e=>{const{completeExperience:t,completeExperienceObject:n,experience:i,isBackendExperience:a,preventRemoval:r,targeting:o}=this.props,l=e||1;if(i&&!this.state.hasCompleted.includes(i.experience_id)){const{placement_id:e,experience_id:s}=i||{},d=r||2===l;(1===l||d)&&e&&s&&(a?n(i,d):o?t(e,s,d,o):t(e,s,d),this.setState((e=>({hasCompleted:[...e.hasCompleted,s]}))))}})),s(this,"dismiss",(()=>{const{dismissExperience:e,dismissExperienceObject:t,experience:n,isBackendExperience:i,preventRemoval:a,targeting:r}=this.props,{placement_id:o,experience_id:l}=n||{};n&&!this.state.hasDismissed.includes(l)&&(i?t(n):r?e(o,l,!!a,r):e(o,l,!!a),this.setState((e=>({hasDismissed:[...e.hasDismissed,l]}))))})),s(this,"shouldRenderExperience",(()=>{const{experience:e}=this.props;if(e){const{eligibleIds:t,eligibleTypes:n,predicate:i,transitionType:a}=this.props,{experience_id:r,type:o}=e;if(t&&t.includes(r))return!0;if(null==t||!t.length){if(i&&i(e))return!0;if(n&&n.includes(o))return!0;if(a&&a===o)return!0}}return!1}))}componentDidMount(){if(this.props.disableAutoView)return;const{experience:e}=this.props;e&&this.shouldRenderExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=e.experience,n=this.props.experience;n&&this.shouldRenderExperience()&&(t&&t.experience_id===n.experience_id||this.view())}render(){const{children:e,experience:t,disableAutoView:n}=this.props;return t&&this.shouldRenderExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...n?{view:this.view}:Object.freeze({})}):i.Children.only(e):null}}function c(e){const t=(0,a.useSelector)((({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0))),n=(0,a.useDispatch)();return(0,l.jsx)(d,{...e,experience:t,completeExperience:(e,t,i,a)=>n((0,r.CK)(e,t,i,!1,{},a)),completeExperienceObject:(e,t)=>n((0,o.Tl)(e,t)),dismissExperience:(e,t,i,a)=>n((0,r.Qu)(e,t,i,void 0,a)),dismissExperienceObject:e=>n((0,o.CF)(e)),viewExperience:(e,t,i)=>n((0,r.UT)(e,t,!1,!1,void 0,i)),viewExperienceObject:e=>n((0,o.dy)(e))})}s(d,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},123159:(e,t,n)=>{n.d(t,{F:()=>p,M:()=>u});var i=n(667294),a=n(702664),r=n(14890),o=n(957191),l=n(425288),s=n(332611),d=n(785893);const{Provider:c,useHook:u}=(0,l.Z)("ExperienceContext");function p({children:e}){const[t,n]=(0,i.useReducer)(((e,t)=>{if("MOUNT_PLACEMENT"===t.type)return{...e,[t.payload]:!0};if("UNMOUNT_PLACEMENT"===t.type){const n={...e};return delete n[t.payload],n}return e}),{}),l=(0,a.useDispatch)(),u=(0,a.useSelector)((e=>e.experiences)),p=(0,i.useMemo)((()=>{const e=(0,r.bindActionCreators)({completeExperience:s.CK,dismissExperience:s.Qu,fetchAllExperiences:s.fO,fetchAllExperiencesMulti:o.NW,fetchExperienceForPlacements:s.pz,mountPlacement:s.N,triggerExperimentsForPlacement:s.kd,viewExperience:s.UT},l);return{...e,mountPlacement:(t,...i)=>{e.mountPlacement(t,...i),n({type:"MOUNT_PLACEMENT",payload:t})},unmountPlacement:e=>{n({type:"UNMOUNT_PLACEMENT",payload:e})}}}),[l,n]),m=(0,i.useMemo)((()=>({experiences:u,mountedPlacements:t,...p})),[u,t,p]);return(0,d.jsx)(c,{value:m,children:e})}},333312:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var i=n(667294),a=n(121093),r=n(570470),o=n(883119),l=n(785893);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.PureComponent{constructor(...e){super(...e),s(this,"onScroll",(()=>{const{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout((()=>{e(),this.dismissed=!0,this.timer=void 0}),3e3))})),s(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{anchor:e,text:t,thumbnails:n,idealDirection:i}=this.props,a=n.slice(-3);return(0,l.jsx)(o.J2,{anchor:e,color:"white",idealDirection:i,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,l.jsxs)(o.xu,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[(0,l.jsx)(o.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,l.jsx)(o.xv,{color:"default",weight:"bold",children:t})}),(0,l.jsx)(o.xu,{display:"flex",marginEnd:-2,paddingX:2,children:a.map((e=>(0,l.jsx)(o.xu,{height:60,width:50,paddingX:1,children:(0,l.jsx)(o.zd,{rounding:2,height:60,children:(0,l.jsx)(o.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e)))})]})})}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),c(this,"dismissRef",(0,i.createRef)()),c(this,"state",{paused:!1}),c(this,"dismissCb",(()=>{var e,t;null===(e=(t=this.dismissRef).current)||void 0===e||e.call(t)})),c(this,"handlePulsarClick",((e,t)=>{e?this.setState({paused:!0}):t()}))}componentWillUnmount(){const{anchor:e}=this.props;clearTimeout(this.timer),null==e||e.removeEventListener("click",this.dismissCb)}setDefaultPulsarTooltip(e){const t=e=>!(null==e);e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}getText(e,t,n){return t&&e.text.replace("{boardName}",t),n?n(e):e.text}render(){const{anchor:e,customWrapper:t,experienceIds:n,boardTextOverride:s,flyoutSize:c,fontSize:u,hasFullWidthButton:p=!0,idealDirection:m,useMasonryFlyout:h,noClickToDismiss:g,onClickComplete:_,onClickDismiss:v,placementId:y,positionRelativeToAnchor:f,shouldTimeoutDismiss:x,showCaret:b,textAlign:w,textOverflow:S,textOverrideFn:P,textWeight:k,customizedComplete:I,pulsarZIndex:T,advertiserId:j}=this.props,C=t||(({children:e})=>h?(0,l.jsx)(o.mh,{children:e}):e),A="blue";return(0,l.jsx)(a.Z,{eligibleIds:n,placementId:y,eligibleTypes:[8],targeting:j?{advertiserId:parseInt(j,10)}:null,children:({complete:t,dismiss:n,experience:a})=>{const{display_data:{scroll_to_dismiss:y,scroll_to_dismiss_delay_in_seconds:j=0,...E}}=a,D=y&&e,F=()=>{L(),setTimeout(n,1e3*j)},L=()=>{D&&(window.removeEventListener("scroll",F),window.removeEventListener("touchmove",F))},R=()=>{L(),t()};if(D&&(window.addEventListener("scroll",F),window.addEventListener("touchmove",F)),this.setDefaultPulsarTooltip(E),!E.has_pulsar&&!E.has_tooltip)return R(),null;x&&E.disappearTime&&E.disappearTime>0&&(this.timer=setTimeout((()=>(F(),null)),E.disappearTime));const z=501041===a.experience_id||505086===a.experience_id;return E.has_tooltip&&!E.has_pulsar&&(this.dismissRef.current=F,null==e||e.addEventListener("click",this.dismissCb)),(0,l.jsxs)(i.Fragment,{children:[E.has_pulsar&&(0,l.jsx)(r.Z,{anchor:e,leftOverride:z?342:void 0,onTouch:()=>this.handlePulsarClick(E.has_tooltip,R),paused:this.state.paused,topOverride:z?-5:void 0,zIndex:T&&T.index()}),E.has_tooltip&&(!E.has_pulsar||this.state.paused)&&(E.thumbnail_urls?(0,l.jsx)(d,{anchor:e,dismiss:F,idealDirection:m||"down",text:E.text,thumbnails:E.thumbnail_urls}):(0,l.jsx)(C,{children:(0,l.jsx)(o.J2,{anchor:e,color:A,idealDirection:m||"down",onDismiss:g?()=>{}:F,positionRelativeToAnchor:!h&&f,shouldFocus:!1,showCaret:b,size:c,children:(0,l.jsxs)(o.xu,{column:12,padding:3,children:[(0,l.jsxs)(o.xv,{align:"right"===w?"end":w,color:"inverse",overflow:S,size:u,weight:k||"bold",children:[this.getText(E,s,P),E.secondary_cta_link&&(0,l.jsx)(o.xu,{display:"inlineBlock",marginStart:1,children:(0,l.jsx)(o.xv,{size:u,weight:"bold",color:"inverse",children:(0,l.jsx)(o.rU,{display:"inlineBlock",target:"blank",href:E.secondary_cta_link.url,underline:"hover",children:E.secondary_cta_link.text})})})]}),E.sub_text&&(0,l.jsx)(o.xu,{paddingY:2,children:(0,l.jsx)(o.xv,{color:"inverse",size:u,children:E.sub_text})}),(E.dismiss_button_text||E.complete_button_text)&&(0,l.jsxs)(o.xu,{display:"flex",alignItems:"center",marginTop:2,children:[E.dismiss_button_text&&(0,l.jsx)(o.xu,{marginEnd:1,column:6,children:(0,l.jsx)(o.zx,{fullWidth:p,color:A,onClick:()=>{v&&v(),F()},size:"md",text:E.dismiss_button_text})}),E.complete_button_text&&(0,l.jsx)(o.xu,{column:E.dismiss_button_text?6:12,children:I?(0,l.jsx)(o.iP,{fullHeight:!0,onTap:()=>{R(),_&&_()},rounding:2,children:(0,l.jsx)(o.xu,{display:"flex",color:"default",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:(0,l.jsx)(o.xv,{color:"shopping",weight:"bold",children:E.complete_button_text})})}):(0,l.jsx)(o.kC,{justifyContent:"center",children:(0,l.jsx)(o.zx,{fullWidth:p,color:"white",href:E.complete_button_cta_url,role:E.complete_button_cta_url?"link":"button",size:"md",target:E.complete_button_cta_url?"blank":null,text:E.complete_button_text,onClick:({event:e})=>{e.preventDefault(),e.stopPropagation(),R(),_&&_()}})})})]})]})})}))]})}})}}c(u,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},242923:(e,t,n)=>{n.d(t,{CF:()=>l,Tl:()=>o,dy:()=>s});var i=n(214494),a=n(332611);const r=(e,t)=>(n,r)=>o=>{if(n&&n.id){const l=i.Z.create(e,{placed_experience_id:n.id,extra_context:{}});switch(t){case"dismissed":l.callDelete().then((()=>{o((0,a.fO)())}));break;case"completed":l.callUpdate().then((()=>{r||o((0,a.fO)())}));break;case"viewed":l.callUpdate()}}},o=r("UserExperienceCompletedResource","completed"),l=r("UserExperienceResource","dismissed"),s=r("UserExperienceViewedResource","viewed")},131108:(e,t,n)=>{n.d(t,{HI:()=>o,f8:()=>s,hm:()=>l,sH:()=>r});var i=n(883119),a=n(785893);const r=({children:e})=>(0,a.jsx)(i.xu,{padding:4,position:"absolute",bottom:!0,left:!0,right:!0,children:e}),o=({children:e})=>(0,a.jsx)(i.xu,{padding:2,children:e}),l=({children:e})=>(0,a.jsx)(i.xu,{display:"flex",position:"absolute",top:!0,height:"100%",width:"100%",alignItems:"center",justifyContent:"center",children:e}),s=({children:e})=>(0,a.jsx)(i.xu,{padding:4,position:"absolute",top:!0,left:!0,right:!0,children:e})},599997:(e,t,n)=>{n.d(t,{Ec:()=>d,IA:()=>_,LX:()=>c,Mf:()=>g,SF:()=>l,_e:()=>s,l0:()=>o,ml:()=>r,q4:()=>a,zn:()=>i});const i=e=>["feed_card_default","feed_card_video"].includes(e),a=2/3,r=2/3,o=1/3,l="36px",s="28px",d=.4,c=.65,u={0:"start",1:"center",2:"end"},p={web:{0:"16",1:"20",2:"24"},mweb:{0:"12",1:"16",2:"18",3:"20"}},m={1:"italics",0:"normal"},h={1:"bold",0:"normal"},g=({color:e,font_style:t,font_weight:n,horizontal_alignment:i,size:a},r)=>({color:e,fontStyle:m[null!=t?t:0],fontWeight:h[null!=n?n:1],horizontalAlignment:u[null!=i?i:0],fontSize:p[r][null!=a?a:0]+"px"}),_=e=>e<=280?1.25:e>280&&e<=540?.75:e>540&&e<1024?c:d},570470:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(883119),r=n(785893);function o({anchor:e,children:t,zIndex:n,leftOverride:o,topOverride:l}){const s=(0,i.useRef)(null),[d,c]=(0,i.useState)(0),[u,p]=(0,i.useState)(0),{height:m,width:h}=e.getBoundingClientRect();(0,i.useEffect)((()=>{const{current:t}=s;if(e&&t){const{height:e,width:n}=t.getBoundingClientRect(),{horizontalOffset:i,verticalOffset:a}=((e,t,n,i)=>({horizontalOffset:-(i/2-t/2),verticalOffset:-(n/2-e/2)}))(m,h,e,n);c(i),p(a)}}));const g=o||d,_=l||u;return(0,r.jsx)(a.xu,{position:"absolute",zIndex:n?new a.Ry(n):void 0,dangerouslySetInlineStyle:{__style:{left:g,top:_}},ref:s,children:t})}const l=function(e){const{anchor:t,leftOverride:n,onTouch:i,onMouseEnter:l,paused:s,size:d,topOverride:c,zIndex:u}=e;return t?(0,r.jsx)(o,{anchor:t,leftOverride:n,topOverride:c,zIndex:u,children:(0,r.jsx)(a.iP,{fullWidth:!1,onTap:({event:e})=>i(e),onMouseEnter:l,rounding:"circle",children:(0,r.jsx)(a.o3,{paused:s,size:d})})}):null}},378518:(e,t,n)=>{n.d(t,{_:()=>d,a:()=>c});var i=n(667294),a=n(702664),r=n(618446),o=n.n(r),l=n(780280),s=n(332611);const d=({extraContext:e,id:t,shouldUsePlacedExperience:n=!0})=>{const r=(0,i.useRef)(),d=(0,a.useDispatch)(),{isBot:c}=(0,l.B)(),u=(0,a.useSelector)((e=>e.experiences[t]));return(0,i.useEffect)((()=>{d((0,s.kd)(t))}),[d,u,t]),(0,i.useEffect)((()=>{n||o()(r.current,e)||(d((0,s.pz)([t],c,e)),r.current=e)}),[d,e,c,t,n]),u},c=e=>(d(e),(0,a.useSelector)((t=>t.experiencesMulti[e.id])))},497529:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=(n(957191),n(764990)),r=n(123159),o=n(780280);n(332611);function l(e){const{mountedPlacements:t,completeExperience:n,dismissExperience:l,experiences:s,fetchAllExperiences:d,fetchAllExperiencesMulti:c,fetchExperienceForPlacements:u,triggerExperimentsForPlacement:p,viewExperience:m}=(0,r.M)(),{isBot:h}=(0,o.B)(),g=e&&!h?(0,a.MQ)(s,t,e):null;return(0,i.useMemo)((()=>({completeExperience:n,dismissExperience:l,experienceForPlacement:g,fetchAllExperiences:d,fetchAllExperiencesMulti:c,fetchExperienceForPlacements:u,triggerExperimentsForPlacement:p,viewExperience:m})),[n,l,g,d,c,u,p,m])}},605841:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294);const a=(0,i.createContext)();var r=n(883119),o=n(785893);function l(e){(0,i.useContext)(a);const{alt:t,color:n,children:l,crossOrigin:s,decoding:d,elementTiming:c,fetchPriority:u,fit:p,loading:m,naturalHeight:h,naturalWidth:g,onError:_,onLoad:v,role:y,sizes:f,src:x,srcSet:b}=e;return(0,o.jsx)(r.Ee,{alt:t,color:n,crossOrigin:s,decoding:d,elementTiming:c,fetchPriority:u,fit:p,loading:m,naturalHeight:h,naturalWidth:g,onError:_,onLoad:v,role:y,sizes:f,src:x,srcSet:b,children:l})}},572551:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var i=n(667294),a=n(319915),r=n(757184),o=n(317254),l=n(773285),s=n(463076);function d({isRTL:e,maxItemWidth:t=300,maxColumns:n=16,minColumns:i=2}){let a=`\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n  max-width: ${n*t}\n}\n\n.gridCentered .static {\n  position: absolute !important;\n  visibility: hidden !important;\n}\n\n@media (min-width: ${n*t}px) {\n  .gridCentered .static:nth-child(-n+${n}) {\n    position: static !important;\n    visibility: visible !important;\n    float: ${e?"right":"left"};\n    display: block;\n  }\n\n  .gridCentered .static:nth-child(-n+${n}) {\n    position: static !important;\n    visibility: visible !important;\n    float: ${e?"right":"left"};\n    display: block;\n  }\n\n  .gridCentered .static {\n    width: ${t}px !important;\n  }\n}\n`;for(let r=i;r<n+1;r+=1){a+=`\n@media (min-width: ${r===i?0:(r-1)*t+1}px) and (max-width: ${r*t}px) {\n  .gridCentered .static:nth-child(-n+${r}) {\n    position: static !important;\n    visibility: visible !important;\n    float: ${e?"right":"left"};\n    display: block;\n  }\n\n  .gridCentered .static {\n    width: calc(100% / ${r}) !important;\n  }\n}\n`}return a}var c,u,p,m=n(391254),h=n(780280),g=n(444445),_=n(883119),v=n(785893);class y extends i.Component{getGutters(){const{gutterWidth:e,paddingStyle:t}=this.props,n="simplified"===t,i=n?g.oX:e,a=n?16:6;return{gutterWidth:null!=i?i:g.ZZ,paddingBottom:a}}render(){const{columnWidth:e,flexible:t,isGridCentered:n,isInitialRender:i,isRTL:a,items:r,layout:o,loadItems:l,masonryRef:c,measurementStore:u,minCols:p,renderItem:h,scrollContainerRef:y,serverRender:f,virtualize:x,virtualBufferFactor:b,_batchPaints:w}=this.props,{gutterWidth:S,paddingBottom:P}=this.getGutters(),k=f?"serverRenderedFlexible":"flexible";let I;n&&i&&(I="gridCentered");const T=()=>(null==y?void 0:y.current)||window;return(0,v.jsxs)("div",{className:I,children:[f&&i&&(0,v.jsx)(m.Z,{unsafeCSS:t?d({isRTL:a,maxItemWidth:(e||g.yF)+S,maxColumns:r.length||g.g5,minColumns:p||g.yc}):(0,s.Z)({isRTL:a,itemWidth:(e||g.yF)+S,maxColumns:r.length||g.g5,minColumns:p||g.yc})}),(0,v.jsx)(_.Rk,{columnWidth:(null!=e?e:g.yF)+S,gutterWidth:0,items:r,layout:t?k:null!=o?o:"basic",loadItems:l,measurementStore:u,minCols:p,ref:e=>{c&&(c.current=e)},renderItem:e=>(0,v.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:P,paddingLeft:S/2,paddingRight:S/2}},children:h(e)}),scrollContainer:T,virtualize:x,virtualBufferFactor:b,_batchPaints:w})]})}}function f(e){var t;const{isRTL:n}=(0,h.B)(),{checkExperiment:a}=(0,l.F)(),r=null!==(t={enabled_0_3:"0.3",enabled_0_5:"0.5",enabled_0_9:"0.9",enabled_1_1:"1.1",enabled_1_3:"1.3"}[a("web_masonry_virtual_buffer_factor").group])&&void 0!==t?t:.7,o=(0,i.useRef)(!0);return(0,i.useEffect)((()=>{o.current&&(o.current=!1)}),[]),(0,v.jsx)(y,{...e,isInitialRender:o.current,isRTL:n,virtualBufferFactor:r})}c=y,u="defaultProps",p={gutterWidth:g.ZZ,isGridCentered:!0,minCols:g.yc,paddingStyle:"simplified",virtualize:!0},u in c?Object.defineProperty(c,u,{value:p,enumerable:!0,configurable:!0,writable:!0}):c[u]=p;class x extends i.Component{constructor(...e){super(...e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"loadItems",(()=>{const{isFetching:e,loadItems:t}=this.props;!e&&t&&t()}))}render(){const{cacheKey:e,columnWidth:t,flexible:n,gutterWidth:i,isGridCentered:o,items:l,layout:s,masonryRef:d,minCols:c,paddingStyle:u,renderItem:p,scrollContainerRef:m,serverRender:h,virtualize:g,_batchPaints:_}=this.props;return(0,v.jsx)(f,{columnWidth:t,flexible:n,gutterWidth:i,isGridCentered:o,renderItem:e=>(0,v.jsx)(a.Z,{name:"MasonryPerfTimingItem",children:p(e)}),items:l,layout:s,loadItems:this.loadItems,masonryRef:d,measurementStore:(0,r.Z)(e),minCols:c,paddingStyle:u,scrollContainerRef:m,serverRender:h,virtualize:g,_batchPaints:_})}}function b({cacheKey:e,columnWidth:t,flexible:n,gutterWidth:i,isAtEnd:a,isFetching:r,isGridCentered:s=!0,renderItem:d,items:c,pinData:u,layout:p,loadItems:m,masonryRef:h,minCols:g,paddingStyle:_,scrollContainerRef:y,serverRender:f=!0,virtualize:b=!0,includeBackgroundImages:w,includeVideos:S}){const{checkExperiment:P}=(0,l.F)(),k=P("web_masonry_batched_paints").anyEnabled;return(0,v.jsx)(o.Z,{isAtEndOfFeed:a,pinData:u,itemCount:c.length,includeBackgroundImages:w,includeVideos:S,children:(0,v.jsx)(x,{cacheKey:e,columnWidth:t,flexible:n,gutterWidth:i,isFetching:r,isGridCentered:s,items:c,layout:p,loadItems:m,masonryRef:h,minCols:g,paddingStyle:_,renderItem:d,scrollContainerRef:y,serverRender:f,virtualize:b,_batchPaints:k})})}},920231:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294),a=n(319915);function r({flexible:e,gutterWidth:t,id:n,isRTL:i,itemWidth:a,maxColumns:r,minColumns:o}){const l=n.replace(/\:/g,"\\:"),s=a+t;return`\n    .gridCentered {\n      margin-left: auto;\n      margin-right: auto;\n    }\n\n    .gridCentered .static {\n      position: absolute !important;\n      visibility: hidden !important;\n    }\n\n    ${Array.from({length:r+1-o},((e,t)=>t+o)).map((n=>{const d=n===r?null:(n+1)*s-1;return`\n      @media (min-width: ${n===o?0:n*s}px) ${d?`and (max-width: ${d}px)`:""} {\n        #${l} .static:nth-child(-n+${n}) {\n          position: static !important;\n          visibility: visible !important;\n          float: ${i?"right":"left"};\n          display: block;\n        }\n\n        ${e?`\n      #${l} .static {\n        width: calc(100% / ${n}) !important;\n      }\n    `:`\n      #${l} {\n        width: ${n*s}px;\n      }\n\n      #${l} .static {\n        padding: 0 ${t/2}px;\n        width: ${a}px !important;\n      }\n    `}\n      }\n    `})).join("")}\n  `}var o=n(757184),l=n(391254),s=n(50286),d=n(883119),c=n(773285),u=n(780280),p=n(444445),m=n(785893);function h({cacheKey:e,columnWidth:t,gutterWidth:n,id:h,renderItem:g,items:_,layout:v,loadItems:y,masonryRef:f,minCols:x,scrollContainerRef:b,serverRender:w,resetPositions:S,virtualize:P=!0}){var k;const{isRTL:I}=(0,u.B)(),T="desktop"!==(0,s.ZP)(),j=w?"serverRenderedFlexible":"flexible",C=(0,i.useCallback)((()=>(null==b?void 0:b.current)||window),[b]),A=(0,o.Z)(e),[E,D]=(0,i.useState)(!1);(0,i.useEffect)((()=>{S&&!E&&(null==A||A.reset(),D(!0))}),[A,S,E]);const{checkExperiment:F}=(0,c.F)(),L=null!==(k={enabled_0_3:"0.3",enabled_0_5:"0.5",enabled_0_9:"0.9",enabled_1_1:"1.1",enabled_1_3:"1.3"}[F("duplo_masonry_virtual_buffer_factor").group])&&void 0!==k?k:.7,R=F("web_masonry_batched_paints").anyEnabled;return(0,m.jsxs)("div",{id:h,className:"gridCentered","data-test-id":"masonry-container",children:[w&&h&&(0,m.jsx)(l.Z,{"data-test-id":"mobile-grid-styles",unsafeCSS:r({flexible:T,gutterWidth:n||0,id:h,isRTL:I,itemWidth:t||p.yF,maxColumns:_.length||p.g5,minColumns:x||p.yc})}),(0,m.jsx)(d.Rk,{columnWidth:t,renderItem:e=>(0,m.jsx)(a.Z,{name:"MobileGridItem",children:g(e)}),gutterWidth:n||1,layout:T?j:null!=v?v:"basic",items:_,loadItems:y,measurementStore:(0,o.Z)(e),minCols:x||p.yc,ref:e=>{f&&(f.current=e)},scrollContainer:C,virtualize:P,virtualBufferFactor:L,_batchPaints:R})]})}},757184:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119);const a={};function r(e){if(null!=e)return a[e]&&a[e].screenWidth===window.innerWidth||(a[e]={screenWidth:window.innerWidth,cache:i.Rk.createMeasurementStore()}),a[e].cache}},463076:(e,t,n)=>{function i({isRTL:e,itemWidth:t=236,maxColumns:n=16,minColumns:i=2}){let a="\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n}\n.gridCentered .static {\n  position: absolute;\n  visibility: hidden;\n}\n";for(let r=i;r<n+1;r+=1){a+=`\n@media (min-width: ${r===i?0:r*t}px) and (max-width: ${(r+1)*t-1}px) {\n  .gridCentered {\n    width: ${r*t}px;\n  }\n  .gridCentered .static:nth-child(-n+${r}) {\n    position: static !important;\n    visibility: visible !important;\n    float: ${e?"right":"left"};\n    display: block;\n  }\n}\n`}return a}n.d(t,{Z:()=>i})},121151:(e,t,n)=>{n.d(t,{ZP:()=>d,b7:()=>o.b7,bN:()=>l,p4:()=>s});var i=n(50286),a=n(240684),r=n(785893),o=n(968121);const l=(0,a.ZP)({resolved:{},chunkName:()=>"DesktopModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(51879).then(n.bind(n,373420)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 373420}}),s=(0,a.ZP)({resolved:{},chunkName:()=>"MobileModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(72430).then(n.bind(n,430322)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 430322}});function d(e){const t=(0,i.ZP)(),n=void 0===e.isOpen||e.isOpen;if("desktop"===t&&n){const{isOpen:t,mobileAccessibilityCloseIconLabel:n,mobileAllowScroll:i,mobileHideCloseIcon:a,mobileIsFullscreen:o,mobileIsSlideUp:s,type:d,mobileIsFooter:c,zIndex:u,...p}=e;return(0,r.jsx)(l,{...p})}const{allowClickAndDrag:a,allowMediaPlay:o,allowScroll:d,role:c,size:u,_dangerouslyDisableScrollBoundaryContainer:p,...m}=e;return(0,r.jsx)(s,{...m,isOpen:n})}},373420:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var i=n(667294),a=n(124580),r=n(223815),o=n(968121),l=n(883119),s=n(785893);function d({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,allowClickAndDrag:d,allowMediaPlay:c,allowScroll:u,children:p,closeOnOutsideClick:m,footer:h,heading:g,onDismiss:_,role:v,size:y,subHeading:f}){(0,i.useEffect)((()=>(a.Z.pause(),function(){a.Z.resume()})),[]);return(0,s.jsx)(l.mh,{zIndex:o.b7,children:(0,s.jsx)(r.Z,{allowClickAndDrag:d,allowEsc:!0,allowMediaPlay:c,allowScroll:u,children:(0,s.jsx)(l.u_,{_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,closeOnOutsideClick:m,heading:g,footer:h,onDismiss:()=>{a.Z.resume(),_()},role:v,size:y,subHeading:f,padding:"none",children:p})})})}},430322:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var i=n(667294),a=n(124580),r=n(283698),o=n(223815),l=n(50286),s=n(898781),d=n(965900),c=n(780280),u=n(968121),p=n(867820),m=n(883119),h=n(785893);function g({accessibilityModalLabel:e,align:t="center",allowScroll:n=!1,children:g,closeOnOutsideClick:_=!0,footer:v,heading:y,mobileAccessibilityCloseIconLabel:f,mobileHideCloseIcon:x,mobileIsFullscreen:b,isOpen:w,mobileIsSlideUp:S,mobileIsFooter:P,onDismiss:k,zIndex:I,subHeading:T,type:j}){const C=(0,s.ZP)(),{isRTL:A}=(0,c.B)(),E=(0,i.useRef)(!1),[D,F]=(0,i.useState)(!1),{setAppFocusState:L}=(0,d.I)(),R=(0,l.ZP)();(0,i.useEffect)((()=>{(0,p.My)(`mweb_unauth.mobile_modal.${j||"unknown_type"}.did_mount.is_open.${String(!!w)}`)}),[w,j]),(0,i.useEffect)((()=>(E.current=(0,r.Z)((()=>{E.current&&F(!0)})),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&E.current&&(window.cancelAnimationFrame(E.current),E.current=null)})),[]),(0,i.useEffect)((()=>(w?(a.Z.pause(),L(!1)):(a.Z.resume(),L(!0)),()=>{w&&(a.Z.resume(),L(!0))})),[L,w]),(0,i.useEffect)((()=>{const e=w&&!n;return e&&(()=>{if(document.body){const{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}})(),()=>{e&&(()=>{if(document.body){const{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}})()}}),[w,n]);return w?(0,h.jsx)(o.Z,{children:(0,h.jsx)(m.mh,{children:(0,h.jsxs)(m.xu,{"aria-label":e,display:"inlineBlock",zIndex:I||u.ZM,position:"relative",role:"dialog",children:[(0,h.jsx)(m.iP,{accessibilityLabel:C._('Mobile Signup Modal Mask', 'mweb.signup_modal.mask', 'The acessibility label for the mask of mobile signup modal'),onTap:({event:e})=>{const t=e;(0,p.tj)(`mweb_unauth.mobile_modal.wash_tap.${j||"unknown_type"}.with_dismissal`,{x:t.clientX,y:t.clientY}),_&&k()},tapStyle:"none",children:(0,h.jsx)(m.xu,{height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new m.Ry(1),dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}}})}),(0,h.jsxs)(m.xu,{position:"fixed",color:"default",dangerouslySetInlineStyle:S?(0,u.Vf)({isFullscreen:b,isTablet:"tablet"===R,isShowing:D,isRelatedInterestsModal:"related_interests_modal"===j}):(0,u.JN)({variant:b?"fullscreen":"tablet"===R?"tablet":P?"footer":"signup"===j?"signup":void 0}),children:[(0,h.jsxs)(m.kC,{alignItems:"center",justifyContent:"start",width:"100%",gap:{row:2,column:0},children:[f&&!x?(0,h.jsx)(m.xu,{padding:2,"data-test-id":"mobile-modal-cancel-button",children:(0,h.jsx)(m.hU,{accessibilityLabel:f,iconColor:"darkGray",icon:"cancel",onClick:k,padding:4,size:"sm"})}):null,y?(0,h.jsx)(m.kC.Item,{flex:"grow",children:(0,h.jsx)(m.kC,{direction:"column",alignItems:"center",justifyContent:"center",children:(0,h.jsxs)(m.xu,{dangerouslySetInlineStyle:{__style:f&&!x?{marginRight:A?-10:50,marginLeft:A?50:-10}:{}},children:[b?y:(0,h.jsx)(m.xv,{align:t,weight:"bold",size:"400",children:y}),T?(0,h.jsx)(m.xv,{align:t,children:T}):null]})})}):null]}),(0,h.jsxs)(m.xu,{overflow:"auto",children:[g,v]})]})]})})}):null}},968121:(e,t,n)=>{n.d(t,{JN:()=>d,Vf:()=>c,ZM:()=>l,b7:()=>o,i_:()=>s});var i=n(379764),a=n(643010),r=n(883119);const o=new r.Ry(1e3),l=new r.H3([i.Z]),s=12,d=({variant:e})=>{let t;return t="fullscreen"===e?{touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"}:"tablet"===e?{border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1}:"footer"===e?{border:(0,a.Yc)()?void 0:"1px solid #efefef",bottom:0,boxShadow:"0 0 16px rgba(0,0,0, 0.16)",left:0,touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1}:"signup"===e?{border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"8px",right:"8px",background:"#FFFFFF"}:{border:(0,a.Yc)()?void 0:"1px solid #efefef",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1,left:"0px",bottom:0,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden",borderRadius:"32px 32px 0 0"},{__style:t}},c=({isFullscreen:e,isTablet:t,isShowing:n,isRelatedInterestsModal:i})=>{let r={border:(0,a.Yc)()?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},o=n?"translateY(0)":"translateY(100vh)";return r.height=e?"100vh":"",t&&i&&(r={...r,width:425,left:"50%",transform:"translateX(-50%)"},o=n?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:{...r,transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:o}}}},694379:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(892819),a=n(780280),r=n(785893);const o=({currency:e,maximumFractionDigits:t,minimumFractionDigits:n,shortform:o,shortformMaximumFractionDigits:l,formatStyle:s,uplimit:d,value:c})=>{const u=(0,i.Z)();return(0,r.jsx)(a.LC,{children:i=>u(i.locale||"en-US",c,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:n,shortform:o,shortform_maximum_fraction_digits:l,style:s,uplimit:d})})}},298361:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(898781),a=n(349700),r=n(202139);function o(){const e=(0,i.ZP)();return function(t,n){const i=new Date(t),o=new Date-i,l=Math.floor(o/r.FS),s=Math.floor(o/r.UK),d=Math.floor(o/r.F4),c=Math.floor(o/r.VL),u=Math.floor(o/r.N1),p=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', l, ' - ', ' -- '),m=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', s, ' - ', ' -- '),h=e.ngettext('{{ days }} day ago', '{{ days }} days ago', d, ' - ', ' -- '),g=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', c, ' - ', ' -- '),_=e.ngettext('{{ years }} year ago', '{{ years }} years ago', u, ' - ', ' -- '),v=e.ngettext('{{ minutes }}m', '{{ minutes }}m', l, 'minutes ago abbreviated', 'minutes ago abbreviated'),y=e.ngettext('{{ hours }}h', '{{ hours }}h', s, 'hours ago abbreviated', 'hours ago abbreviated'),f=e.ngettext('{{ days }}d', '{{ days }}d', d, 'days ago abbreviated', 'days ago abbreviated'),x=e.ngettext('{{ weeks }}w', '{{ weeks }}w', c, 'weeks ago abbreviated', 'weeks ago abbreviated'),b=e.ngettext('{{ years }}y', '{{ years }}y', u, 'years ago abbreviated', 'years ago abbreviated');return u>0?(0,a.nk)(n?b:_,{years:u}).join(""):c>0?(0,a.nk)(n?x:g,{weeks:c}).join(""):d>0?(0,a.nk)(n?f:h,{days:d}).join(""):s>0?(0,a.nk)(n?y:m,{hours:s}).join(""):l>0?(0,a.nk)(n?v:p,{minutes:l}).join(""):e._('Just now', ' - ', ' -- ')}}},898781:(e,t,n)=>{n.d(t,{ZP:()=>l,oz:()=>r,q6:()=>a});var i=n(425288);const{Provider:a,Consumer:r,useHook:o}=(0,i.Z)("i18n"),l=o},892819:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(66699),a=n(898781);const r=(e,t)=>{const n=t||0,i=10**n,a=+(n?e*i:e).toFixed(8),r=Math.floor(a),o=a-r,l=o>.5-1e-8&&o<.5+1e-8?r%2==0?r:r+1:Math.round(a);return n?l/i:l},o=e=>{try{(0).toLocaleString([e])}catch(t){return!1}return!0};function l(){const e=(0,a.ZP)();return(t,n,a)=>{let l=0,s=0;const d=a&&a.style||void 0,c=a&&a.shortform||!1,u=a&&a.uplimit||void 0,p=a&&a.currency||void 0,m=!!u&&n>=u,h=u&&m?u:n;if("currency"===d){const{minimumFractionDigits:e,maximumFractionDigits:n}=((e,t)=>{if(t){const{minimumFractionDigits:n,maximumFractionDigits:i}=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions();if(void 0!==n&&void 0!==i)return{minimumFractionDigits:n,maximumFractionDigits:i}}return{minimumFractionDigits:2,maximumFractionDigits:2}})(t,p);l=void 0===a||void 0===a.maximum_fraction_digits?n:a.maximum_fraction_digits,s=void 0===a||void 0===a.minimum_fraction_digits?e:a.minimum_fraction_digits}else l=void 0===a||void 0===a.maximum_fraction_digits?0:a.maximum_fraction_digits,s=void 0===a||void 0===a.minimum_fraction_digits?0:a.minimum_fraction_digits;if(c&&h>999&&(l=void 0===a||void 0===a.shortform_maximum_fraction_digits?2:a.shortform_maximum_fraction_digits,s=0),l<s)return String(h);let g=h,_="";const v=[{"100M":{value:1e8,localeKey:e._('億', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('万', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],y=[{b:{value:1e9,localeKey:e._('B', 'Abbreviation for one billion.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('M', 'Abbreviation for one million.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Abbreviation for one thousand.', 'Abbreviation for one thousand.')}}],f=/^zh|ja|ko/.test(t);if(c&&h>999){const e=f?v:y;for(let t=0;t<e.length;t+=1){const n=Object.keys(e[t])[0],i=e[t][n].value;if(h>=i){g=r(h/i*Math.pow(10,l))/Math.pow(10,l),_=e[t][n].localeKey;break}}}if(null==g)return"";const x=g.toLocaleString([o(t)&&"ar-SA"!==t?t:"en-US"],(({maximumFractionDigits:e,minimumFractionDigits:t,style:n,currency:i})=>{const a={maximumFractionDigits:e,minimumFractionDigits:t};return n?{...a,style:n,..."currency"===n?{currency:i,currencyDisplay:"symbol"}:{}}:a})({maximumFractionDigits:l,minimumFractionDigits:s,currency:p,style:d}));return _&&_.length>0?(0,i.Z)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:x,numberSuffix:_})+(m?"+":""):x+(m?"+":"")}}},564194:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),a=n(973935),r=n(124580),o=n(407043),l=n(785893);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};class c extends i.Component{constructor(e){super(e),s(this,"trackImpression",(()=>{try{this.node=(0,a.findDOMNode)(this),this.node instanceof HTMLElement&&this.impressionsFramework.start(this.node).onExitViewport(this.logImpression).setDebugId(this.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),s(this,"logImpression",(e=>{const{carouselData:t,closeupImpressionType:n,closeupNavigationType:i,componentType:a,contextLogData:r,elementType:o,impressionAuxFields:l,impressionType:s,loggingId:c,objectIdStr:u,slotIndex:p,trackCarousel:m,viewData:h,viewParameter:g,viewType:_,logContextEvent:v}=this.props,y=d[s],f=y.idType,x=e.forcedExit&&"removed"===e.forcedExit?0:void 0;let b={endTime:e.endTime,[f]:c,slotIndex:p,time:e.startTime,renderDuration:e.endTime-e.startTime,type:n,...l,forcedExit:x};var w,S;"Pin"===s&&(b={...b,pinCellWidth:this.node.offsetWidth,pinCellHeight:this.node.offsetHeight,windowWidth:null===(w=window)||void 0===w?void 0:w.innerWidth,windowHeight:null===(S=window)||void 0===S?void 0:S.innerHeight});if(m||v({event_type:y.eventType,component:a,element:o,event_data:{[y.impressionType]:"Story"===s?b:[b]},object_id_str:u,view_type:_,view_data:h||{},view_parameter:g,aux_data:{...r,closeup_navigation_type:i}}),t&&m){const{carousel_slots:e,index:n=0,id:i}=t;v({event_type:7352,component:a,event_data:{pinCarouselSlotImpressions:[{...b,carouselDataId:Number(i),carouselSlotId:(null==e?void 0:e[n])&&Number(e[n].id),slotIndex:n}]},object_id_str:u,view_type:_,view_data:h||{},view_parameter:g,aux_data:{...r}})}})),this.impressionsFramework=e.impressionsFramework||r.Z}componentDidMount(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}componentWillUnmount(){this.node instanceof HTMLElement&&this.impressionsFramework.stop(this.node)}render(){return i.Children.only(this.props.children)}}function u(e){const{logContextEvent:t}=(0,o.v)();return(0,l.jsx)(c,{...e,logContextEvent:t})}},349700:(e,t,n)=>{n.d(t,{Wc:()=>s,bF:()=>c,nk:()=>l,r7:()=>u});var i=n(667294),a=n(785893);function r(e,t,n){return e.split(n).map((e=>{if(e.match(n)){const n=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}return e}))}const o=/(\{\{\s*\w+\s*\}\})/g;function l(e,t){return r(e,t,o)}function s(e,t){return r(e,t,o).join("")}const d=/(\{\s*\w+\s*\})/g;function c(e,t){return r(e,t,d)}const u=({text:e})=>Array.isArray(e)?e.map(((e,t)=>(0,a.jsx)(i.Fragment,{children:e},t))):e},995081:(e,t,n)=>{n.d(t,{Rq:()=>i,Vf:()=>a,jd:()=>r,oy:()=>o});const i=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,a=28,r=e=>window.innerHeight>=748&&i(e),o=function(){return!("undefined"==typeof window||!window.navigator)&&(/iPad/.test(navigator.platform)||navigator.maxTouchPoints>1&&"MacIntel"===navigator.platform)}},411938:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e,t,n=28){if(!(e||{}).resurrection_info&&!(t||{}).resurrectionInfo)return!1;let i;i=t?((t||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;const a=new Date,r=i?new Date(i):a;return r.setDate(r.getDate()+n),(new Date).getTime()<r.getTime()}},313047:(e,t,n)=>{n.r(t),n.d(t,{DEFAULT_HEIGHT:()=>c,DEFAULT_PADDING_Y:()=>u,FixedFooter:()=>h,FixedHeader:()=>m});var i=n(667294),a=n(124580),r=n(773285),o=n(834256),l=n(883119),s=n(643010),d=n(785893);const c=64,u=3;function p({children:e,footerConfig:t,headerConfig:n,height:o,hideOnScroll:p,hideOnScrollState:{isHidden:m,updateHiddenState:h},noPadding:g,paddingY:_=u,type:v,zIndex:y}){const{headerLimitedOverflow:f,ignoreObstructions:x,zIndexForGestaltBug:b}=n||{},{appUpsellFooterConfig:w,footerInLego:S,navFooterConfig:P}=t||{},k=!!w,I="header"===v?"top":"bottom",{anyEnabled:T}=(0,r.F)().checkExperiment("hfp_hf_ssr_mweb",{dangerouslySkipActivation:!0}),j=(0,s.vs)(),C=T?j:(0,s.Yc)(),A=(0,i.useRef)(null),E=(0,i.useRef)(null);(0,i.useEffect)((()=>{try{if(!x){const e=A.current;E.current=f&&e&&Array.isArray(e.children)?e.children[0]:e,E.current instanceof HTMLElement&&a.Z.addObstruction(I,E.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{x||E.current instanceof HTMLElement&&a.Z.removeObstruction(I,E.current)}}),[x,f,I,C]);const D="top"===I?"relative":"fixed",F=g?0:_,L=(null!=o?o:c)+((null==n?void 0:n.overrideTop)||0),R=p||P?{transition:S?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...m?{transform:`translateY(${"top"===I?-L:L}px)`,opacity:S?0:1}:Object.freeze({})}:{},z="relative"!==D||null!=n&&n.noGutter?0:2,M=z?-z:0,O=C?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)";let Z,N;return C&&("header"===v?Z=-1:N=-1),(0,d.jsx)(l.xu,{ref:A,dangerouslySetInlineStyle:{__style:{top:Z,bottomStyle:N,...!y||b?{zIndex:b||1}:Object.freeze({}),...f?{background:"transparent",overflow:"hidden",paddingBottom:100,marginBottom:-100,pointerEvents:"none"}:Object.freeze({}),...null!=n&&n.hasBorder?{borderBottom:"1px solid #efefef"}:Object.freeze({}),...null!=t&&t.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...R}},zIndex:b?void 0:y,"data-test-id":v,display:k?"flex":void 0,height:o&&!S?o:void 0,position:D,bottom:"footer"===v,top:"header"===v,left:!0,right:!0,marginStart:S?"auto":M,marginEnd:S?"auto":M,onTransitionEnd:()=>{(p||P)&&E.current&&(m?a.Z.removeObstruction(I,E.current):a.Z.addObstruction(I,E.current))},width:S||"fixed"!==D?void 0:"100%",children:(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:(null==n?void 0:n.isTranslucent)&&O||(null==n?void 0:n.isTransparentBackground)&&"transparent"||"var(--color-background-default)",height:S?k?void 0:null!=o?o:c:"100%",boxShadow:S?"0px 0px 8px rgba(0, 0, 0, 0.1)":void 0,marginBottom:!S||null!=P&&P.docked?void 0:16,...f?{pointerEvents:"auto"}:Object.freeze({}),...null!=n&&n.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},paddingX:("footer"!==v||g?0:4)+z,paddingY:F,position:"relative",width:P?P.footerWidth:k?void 0:"100%",rounding:!S||null!=P&&P.docked?void 0:"pill",display:S||null!=t&&t.alignCenter?"flex":void 0,marginStart:S?"auto":void 0,marginEnd:S?"auto":void 0,alignItems:null!=t&&t.alignCenter?"center":void 0,children:"function"==typeof e?e({updateHiddenState:h}):e})})}function m({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:n,isTranslucent:i,isTransparentBackground:a,noGutter:r,overrideTop:s,useRoundedCorners:c,zIndexForGestaltBug:m,...h}){const{noPadding:g,paddingY:_=u,zIndex:v}=h,y=g?0:_;return(0,d.jsx)(l.Le,{top:s||0,height:t?44+2*y*4:void 0,zIndex:v||void 0,children:(0,d.jsx)(o.Z,{hideOnScroll:h.hideOnScroll,children:o=>(0,d.jsx)(p,{...h,hideOnScrollState:o,type:"header",headerConfig:{isTranslucent:i,isTransparentBackground:a,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:n,noGutter:r,overrideTop:s,zIndexForGestaltBug:m,useRoundedCorners:c}})})})}function h({alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,hasTopShadow:i,navFooterConfig:a,...r}){return(0,d.jsx)(o.Z,{appUpsellFooterConfig:t,hideOnScroll:r.hideOnScroll,navFooterConfig:null==a?void 0:a.scrollConfig,children:o=>(0,d.jsx)(p,{...r,hideOnScrollState:o,type:"footer",footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,hasTopShadow:i,navFooterConfig:a}})})}},834256:(e,t,n)=>{n.d(t,{Z:()=>l,m:()=>o});var i=n(667294),a=n(700380);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o=20;class l extends i.Component{constructor(...e){var t;super(...e),r(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!(null===(t=this.props.navFooterConfig)||void 0===t||!t.isDockedNavOnPlp)}),r(this,"lastScrollPos",0),r(this,"updateHiddenState",(e=>{this.reqAnimationId=window.requestAnimationFrame((()=>{this.setState({isHidden:e})}))})),r(this,"handleScroll",(0,a.Z)((()=>{var e;const{appUpsellFooterConfig:t,navFooterConfig:n}=this.props,{isHidden:i}=this.state,a=window.scrollY,r=a-this.lastScrollPos;let l="none";const{scrollHeight:s,clientHeight:d}=document.documentElement||{};if(!Number.isNaN(s)&&!Number.isNaN(d))if(r<0){const e=window.scrollMinY||0;l=a<=Math.abs(e+Math.max(r,o))?"start":"none"}else{l=a>=(window.scrollMaxY||s-d)-Math.max(r,o)?"end":"none"}const c=null!=n&&n.isModal?0:55;if(t)if(r>o&&i&&a>=500){t.shouldShowAfterScroll()&&(this.updateHiddenState(!1),null==n||n.onScroll(!1))}else(r<-o&&!i||a<=c)&&(this.updateHiddenState(!0),null==n||n.onScroll(!0));else null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp?"start"===l&&!i||a<=c?(this.updateHiddenState(!0),null==n||n.onScroll(!0)):(a>c||"end"===l)&&i&&(this.updateHiddenState(!1),null==n||n.onScroll(!1)):(r<-o||"start"===l)&&i||a<=c?(this.updateHiddenState(!1),null==n||n.onScroll(!1)):(r>o||"end"===l)&&!i&&(this.updateHiddenState(!0),null==n||n.onScroll(!0));this.lastScrollPos=a}),30))}componentDidMount(){try{var e;(this.props.hideOnScroll||null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(t){window.console.error(t),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){var e;(this.props.hideOnScroll||null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){var t,n,i,a;!e.hideOnScroll&&this.props.hideOnScroll||(null===(t=e.navFooterConfig)||void 0===t||!t.isDockedNavOnPlp)&&null!==(n=this.props.navFooterConfig)&&void 0!==n&&n.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||null!==(i=e.navFooterConfig)&&void 0!==i&&i.isDockedNavOnPlp&&(null===(a=this.props.navFooterConfig)||void 0===a||!a.isDockedNavOnPlp))&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){const{children:e,navFooterConfig:t}=this.props,{isHidden:n}=this.state;return e({isHidden:!(null!=t&&t.forceShow)&&n,updateHiddenState:this.updateHiddenState})}}},166300:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(50286),a=n(883119),r=n(444445),o=n(134879),l=n(785893);const s=({children:e,roundedForLargeDevice:t})=>{const n="phone"!==(0,i.ZP)()&&t;return(0,o.V)()?(0,l.jsx)(a.xu,{marginStart:-r.D6,marginEnd:-r.D6,rounding:n?6:void 0,overflow:n?"hidden":void 0,children:(0,l.jsx)(o.C,{value:!1,children:e})}):e}},542554:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var i=n(883119),a=n(134879),r=n(444445),o=n(780280),l=n(995081),s=n(785893);const d=({children:e,dataLayoutShiftBoundaryId:t,hasFixedHeader:n=!1,hasGutter:d=!0,height:c,showKeychainError:u=!1,useViewport:p=!1})=>{const m=(0,o.B)(),h=(0,l.jd)(m.userAgent.platform)?l.Vf:0;return(0,s.jsx)(i.xu,{"data-layout-shift-boundary-id":t||"PageContainer",height:p?`calc(100vh - ${h}px)`:c,paddingX:d?r.D6:void 0,paddingY:n||u?void 0:3,children:(0,s.jsx)(a.C,{value:!!d,children:e})})}},620707:(e,t,n)=>{function i(e,t){if("object"==typeof e&&"object"==typeof t){const n=Object.keys(e),i=Object.keys(t);return n.length===i.length&&n.every((n=>e[n]===t[n]))}return e===t}n.d(t,{Ak:()=>i,_Y:()=>a,qe:()=>l,xZ:()=>o});const a=(e,t)=>e.length===t.length&&e.every(((e,n)=>i(e,t[n]))),r=(e,t)=>e.length===t.length&&e.every(((e,n)=>e===t[n])),o=(e,t=r)=>n=>{const i=[];return function(...a){const r=this,o=i.find((e=>e.context===r&&t(e.args,a)));if(o)return o.result;const l={context:r,args:a,result:n.apply(this,a)};return i.push(l),e&&i.length>e&&i.shift(),l.result}},l=o(1);o()},567450:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>o});const a=new class{constructor(){i(this,"onResumeListeners",[]),i(this,"onPauseListeners",[]),i(this,"inExp",!1),i(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter((t=>t!==e))}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter((t=>t!==e))}getAppState(){return this.windowInFocus?0:void 0}},r=e=>{if(e.isHidden){const{reason:t}=e;a.windowInFocus=!1,a.onPauseListeners.forEach((e=>e(t)))}else a.windowInFocus=!0,a.onResumeListeners.forEach((e=>e()))};setTimeout((()=>{window.addEventListener("beforeunload",(()=>r({isHidden:!0,reason:"beforeunload"}))),window.addEventListener("focus",(()=>r({isHidden:!1}))),window.addEventListener("blur",(()=>r({isHidden:!0,reason:"blur"}))),window.addEventListener("pageshow",(()=>r({isHidden:!1}))),window.addEventListener("pagehide",(()=>r({isHidden:!0,reason:"pagehide"}))),void 0!==document.hidden?document.addEventListener("visibilitychange",(()=>r(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",(()=>r(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1)}),0);const o=a},627995:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(927104),a=n(898781),r=n(903095),o=n(112690),l=n(883119),s=n(785893);const d=(e,t)=>{let n={};if(e){const{pinData:i,viewData:a}=e;n={unauth_click_pin_id:i.id,unauth_click_pin_image_signature:i.imageSignature},3===t?n={...n,unauth_page_pin_id:a.id,unauth_page_pin_image_signature:a.imageSignature}:5===t&&(n={...n,unauth_page_board_id:a.id})}return n},c=({clickLoggingOptions:e,domain:t,link:n,onClick:c})=>{var u;const p=null===(u=(0,r.lO)())||void 0===u?void 0:u.logging,m=(0,a.ZP)(),h=(0,o.Z)(),g=()=>[{event_type:8948},{event_type:12},{event_type:101,element:0,aux_data:d(e.unauthRankingLoggingData,null==p?void 0:p.viewType)}].map((t=>({component:0,element:162,view_type:null==p?void 0:p.viewType,view_parameter:null==p?void 0:p.viewParameter,aux_data:e.auxData,object_id_str:e.auxData.objectId,...t})));return(0,s.jsx)(l.iP,{onTap:({event:e})=>{e.stopPropagation(),g().forEach((e=>h(e))),c(e)},children:(0,s.jsxs)(l.xu,{marginBottom:4,marginStart:4,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",left:!0,bottom:!0,children:[(0,s.jsx)(l.xu,{marginEnd:1,children:(0,s.jsx)(l.JO,{size:9,icon:"arrow-up-right",color:"light",accessibilityLabel:m._('Link', 'unauth.pin.domain.link', 'Link to take them to the source of the iamge')})}),(0,s.jsx)("a",{href:n,onClick:e=>{e.stopPropagation(),g().forEach((e=>h(e))),c(e)},rel:"nofollow noopener noreferrer",target:"_blank",type:"button",children:(0,s.jsx)(l.xv,{size:"200",inline:!0,weight:"bold",lineClamp:1,color:"inverse",children:(0,i.Z)(t,27)})})]})})}},153209:(e,t,n)=>{function i(e,t,n){return!(!(e&&e.trim().length>0&&t)||n)}n.d(t,{r:()=>i})},55275:(e,t,n)=>{n.d(t,{P:()=>l,t:()=>s});var i=n(689070),a=n(214494);const r=()=>{};const o={complaint:function(e,t){a.Z.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},followBoard:function(e,t){a.Z.create("BoardFollowResource",e).callCreate().then((()=>t()))},followPinner:function(e,t){a.Z.create("UserFollowResource",e).callCreate().then((()=>t()))},followTopic:function(e,t){a.Z.create("InterestFollowResource",e).callCreate().then((()=>t()))},newsHubPinHide:function(e,t){(0,i.Z)({url:e.undo?`/v3/news_hub/${e.newsId}/pin/${e.pinId}/undo/`:`/v3/news_hub/${e.newsId}/pin/${e.pinId}/hide/`,method:"PUT"}).then((()=>t()))},promotedComplaint:function(e,t){a.Z.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},relatedPinHide:function(e,t){(0,i.Z)({url:e.undo?`/v3/p2p/${e.pin}/unhide/`:`/v3/p2p/${e.pin}/hide/`,method:"PUT"}).then((()=>t()))},reportPin:function(e,t){t()},showAdReasons:function(e,t){t()},unfollowBoard:function(e,t){a.Z.create("BoardFollowResource",e).callDelete().then((()=>t()))},unfollowPinner:function(e,t){a.Z.create("UserFollowResource",e).callDelete().then((()=>t()))},unfollowTopic:function(e,t){a.Z.create("InterestFollowResource",e).callDelete().then((()=>t()))},unrelatedSearchPin:function(e,t){(0,i.Z)({url:e.undo?`/v3/search/${e.pin_id}/unhide/`:`/v3/search/${e.pin_id}/hide/`,method:"PUT",data:{query:e.query,pin_type:e.pin_type}}).then((()=>t()))}},l=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function s(e,t,n=r){const i=e?o[e]:null;return i?i(t,n):n()}},680046:(e,t,n)=>{n.d(t,{EF:()=>g,Iv:()=>c,Ud:()=>d,XZ:()=>m,fJ:()=>s,hP:()=>l,nb:()=>h,oK:()=>u,yl:()=>p});var i=n(55275),a=n(760372),r=n(349700);const o=e=>e.length>32?`${e.substring(0,32).trim()}...`:e;function l({boardFollowedByMe:e,feedbackType:t,viewParameter:n,promotion:i,recommendationReason:a,pinnerFollowedByMe:r}){if(i&&!i.isDownstreamPromotion)return"promoted";if(t)return t;if(a){if("FOLLOWED_INTEREST"===a.reason)return"topic";if("FOLLOWING_FEED"!==a.reason&&"RECENT_FOLLOWED_BOARD"!==a.reason)return a.hasBoard?"pfyBoard":"pfy"}if(e||r)return"followed";switch(n){case 140:case 144:case 141:case 145:case 139:case 3173:return"related";case 3082:return"newsHub";case 92:default:return"default"}}function s({feedbackData:e,feedbackType:t,pinId:n,recommendationReasonId:i,pinFeedbackType:a,complaintReason:r,throughId:o,throughProperties:l,clientTrackingParams:s}){switch(t){case"search":return{action:"unrelatedSearchPin",actionOptions:{query:null==e?void 0:e.query,pin_id:n}};case"related":return{action:"relatedPinHide",actionOptions:{pin:n}};case"newsHub":return{action:"newsHubPinHide",actionOptions:{pinId:n,newsId:null==e?void 0:e.newsId}};default:const d="promoted"===t;return{action:d?"promotedComplaint":"complaint",actionOptions:{complaint_reason:r||0,pin_id:n,...i?{recommendation_reason_id:i}:{},feedback_type:a||1,promoted:d,...o?{through_id:o}:{},...l?{through_properties:l}:{},...s?{client_tracking_params:s}:{}}}}}function d({feedback:e,i18n:t,makeNavigateLink:n}){var i,a,l,s,d,c,u,p;switch(e.type){case"pfy":return t._('This Pin was inspired by your recent activity', 'Pin feedback reason', 'Pin feedback reason');case"pfyBoard":const{recommendationReasonBoard:m}=e;return m?(0,r.nk)(t._('This Pin was inspired by your board {{ boardLink }}', 'Pin feedback - inspired by your board', 'Pin feedback - inspired by your board'),{boardLink:n("navigation",m.url,m.name)}):null;case"topic":const{sourceInterest:h}=e;return h?(0,r.nk)(t._('This Pin was inspired by {{ formattedTopic }}', 'Pin feedback', 'Pin feedback'),{formattedTopic:n("topicUrl",`/topics/${h.url_name}`,h.name)}):null;case"followed":const{followed:g}=e;return"pinner"===g.type?(0,r.nk)(t._('This Pin is from {{ formattedPinner }}, a profile you follow', 'Pin feedback', 'Pin feedback'),{formattedPinner:n("pinnerUrl",`/${null!==(i=null===(a=g.pinner)||void 0===a?void 0:a.username)&&void 0!==i?i:""}`,o(null!==(l=null===(s=g.pinner)||void 0===s?void 0:s.full_name)&&void 0!==l?l:""))}):(0,r.nk)(t._('This Pin is from {{ formattedBoard }}, a board you follow', 'Pin feedback', 'Pin feedback'),{formattedBoard:n("boardUrl",null!==(d=null===(c=g.board)||void 0===c?void 0:c.url)&&void 0!==d?d:"",o(null!==(u=null===(p=g.board)||void 0===p?void 0:p.name)&&void 0!==u?u:""))});case"promoted":if(e.promoter){const{full_name:i,username:a}=e.promoter,o=n("promotedLink",a?"/"+a+"/":"/",i);return(0,r.nk)(t._('{{ promoterLink }} paid to have this Pin show up where\n          you\u2019d be more likely to notice it', 'Pin feedback', 'Pin feedback'),{promoterLink:o})}return t._('This ad was personalized for you using info from one of our partners', 'Pin feedback', 'Pin feedback');default:return null}}function c({sourceInterest:e,i18n:t,makeNavigateLink:n}){var i,o;return{action:"unfollowTopic",actionOptions:{interest_id:e.id,interest_list:a.X},title:"",subTitle:(0,r.nk)(t._('We\u2019ll show you less Pins from {{ formattedTopic }} in the future.', 'pin.contextualMenu.feedback.unfollowTopic.subtitle', 'Confirmation text after unfollowing a topic'),{formattedTopic:n("topicUrl",`/topics/${null!==(i=e.url_name)&&void 0!==i?i:""}`,null!==(o=e.name)&&void 0!==o?o:"",!0)})}}function u({boardId:e,display:t,i18n:n,makeNavigateLink:i}){var a,o,l,s;return{action:"unfollowBoard",actionOptions:{board_id:e},title:"",subTitle:"pinner"===t.type?(0,r.nk)(n._('You unfollowed {{ formattedPinner }} and won\u2019t see Pins they save anymore.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedPinner:i("pinnerUrl",`/${null!==(a=t.data.username)&&void 0!==a?a:""}`,null!==(o=t.data.full_name)&&void 0!==o?o:"",!0)}):(0,r.nk)(n._('You unfollowed the board {{ formattedBoard }} and won\u2019t see Pins saved to it anymore.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:i("boardUrl",null!==(l=t.data.url)&&void 0!==l?l:"",null!==(s=t.data.name)&&void 0!==s?s:"",!0)})}}function p(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function m(e){return null==e?void 0:e.through_properties}function h(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function g(e,t,n,a,r,o,l){return()=>{const s={...e,undo:!0};let d=t;"unfollowPinner"===t?d="followPinner":"unfollowBoard"===t?d="followBoard":"unfollowTopic"===t&&(d="followTopic"),(0,i.t)(d,s),o(n),l({event_type:101,component:0,element:11181,view_type:a,view_parameter:r})}}},66084:(e,t,n)=>{n.d(t,{A:()=>s,n:()=>o});var i,a=n(667294),r=n(167912);const o=(e,t,n)=>{const i=!!(e&&e.name&&(e.categorized_ingredients&&!e.from_aggregated_data||e.categorizedIngredients&&e.categorizedIngredients.length>0&&e.categorizedIngredients[0].category&&!e.fromAggregatedData)),a=!!t;let r=n._('Visit', ' - ', ' -- ');return i?r=n._('Make it', ' - ', ' -- '):a&&(r=n._('Read it', ' - ', ' -- ')),r},l=void 0!==i?i:i=n(433549),s=(e,t)=>{const n=(0,r.useFragment)(l,e);return(0,a.useMemo)((()=>{var e,i;return n?o(null===(e=n.richMetadata)||void 0===e?void 0:e.recipe,null===(i=n.richMetadata)||void 0===i?void 0:i.article,t):t._('Visit', ' - ', ' -- ')}),[n,t])}},743217:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(752802),a=n(622305),r=n(802933);function o(e){const{images:t={}}=(0,a.Z)((0,r.Z)({pin:e}))||{},n=(0,i.Z)({images:t});return{url:(null==n?void 0:n.url)||"",height:(null==n?void 0:n.height)||1,width:(null==n?void 0:n.width)||1}}},305791:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(752802),a=n(743217);function r(e,t,n=564){return e>n&&(t*=n/e,e=n),{width:e,height:t}}var o=n(835209);const l=({pin:e,maxWidth:t,imageSignature:n})=>{var l,s;const{image_signature:d}=e;if(!n||""===n||d===n){const{width:n,height:i,url:o}=(0,a.Z)(e);return{...r(n,i,t),url:o}}const c=(0,o.Z)({richPinData:e.rich_metadata||e.rich_summary}),u=[...(null==c||null===(l=c.variant_set)||void 0===l||null===(s=l.variants)||void 0===s?void 0:s.flatMap((e=>e.additional_images||[])))||[],...(null==c?void 0:c.additional_images)||[]],{canonical_images:p}=u.find((({image_signature:e})=>n===e))||{},{height:m=1,width:h=1,url:g=""}=(0,i.Z)({images:p||{}})||{};return{...r(h,m,t),url:g}}},958007:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(992750);const a=e=>(e||"").trim().replace(/\s+/g," "),r=({storyPinDataId:e,pinDescription:t,richMetadataDescription:n,richSummaryDisplayName:r,closeupDescription:o,closeupUnifiedDescription:l,seoDescription:s,seoNoindexReason:d})=>{if(d&&i.eg.has(d))return a(s);return!!e?a(t):a((0,i.eK)({richMetadataDescription:n,richSummaryDisplayName:r,closeupUnifiedDescription:l}).description)||a(l||"")||a(o)||a(t)||a(n)||""}},307061:(e,t,n)=>{n.d(t,{Z:()=>i});const i=function(e){return function(t){return null!=t?e(t):null}}},873441:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(985913),a=n(66084);const r=(e,t)=>{const n=e.link_domain||{},r=e.tracked_link||e.link||e.images&&e.images.orig&&e.images.orig.url,o=e.rich_metadata||e.richMetadata,l=e.domain,s=e.closeup_attribution||e.native_creator||n.official_user||e.pinner||e.origin_pinner,d=!(!(o&&o.recipe&&o.recipe.name&&o.recipe.categorized_ingredients)||o.recipe.from_aggregated_data);let c,u;o&&o.products&&o.products[0]&&(c=!!(o&&o.products[0].name&&o.products[0].offer_summary));const p=c,m=!(!o||!o.article),h=!(!o||!o.tutorial),g=!(!s||!s.username);let _=t._('Saved from ', 'Closeup pin annotation', 'Closeup pin annotation'),v=g?t._('Saved by', ' - ', ' -- '):t._('Saved from', ' - ', ' -- ');o&&o.products&&o.products[0]&&o&&o.products[0].name&&o.products[0].offer_summary&&(_=t._('Product sold by ', 'pin annotation', 'pin annotation'),u=o.products[0].offer_summary),p?v=t._('Sold by', ' - ', ' -- '):h?(_=t._('Saved from ', 'pin annotation', 'pin annotation'),v=g?t._('Saved by', ' - ', ' -- '):t._('Saved from', ' - ', ' -- ')):d?(_=t._('Recipe from ', 'pin annotation', 'pin annotation'),v=g?t._('Recipe by', ' - ', ' -- '):t._('Recipe from', ' - ', ' -- ')):m&&(_=t._('Article from ', 'pin annotation', 'pin annotation'),v=g?t._('Article by', ' - ', ' -- '):t._('Article from', ' - ', ' -- '));const y=e.rich_summary;if(!u&&y){let e;y&&y.products&&y.products[0]&&(e=!!(y&&y.products[0].name&&y.products[0].offer_summary),e&&(_=t._('Product sold by ', 'pin annotation', 'pin annotation')))}let f,x;g?(f="/"+s.username+"/",x=s.full_name):(f="/source/"+l,x=o&&o.site_name||l);const b=s&&(s.image_medium_url||s.image_small_url)||e.board&&e.board.image_thumbnail_url,w=(0,i.Z)(t._('More from {{ subtitle }}', ' - ', ' -- '),{subtitle:x});return{actionButtonText:(0,a.n)(null==o?void 0:o.recipe,null==o?void 0:o.article,t),image:b,link:f,pinLink:r,pin:e,pinCreditPrefix:_,prefixText:v,subtitle:x,title:w,pinTitle:e.closeup_unified_title,pinDescription:e.closeup_unified_description,pinCategory:e.category}}},992750:(e,t,n)=>{n.d(t,{eg:()=>o,kt:()=>h,hP:()=>p,fs:()=>d,eK:()=>c,Ly:()=>u,BY:()=>m,bN:()=>g,RC:()=>l,EU:()=>s});const i=/\s\s+/g,a=e=>e.replace(i," ");var r=n(883561);const o=Object.freeze(new Set(["sensitive_raw_pin_text","is_sensitive_rich_pin_description","is_sensitive_rich_pin_title","is_sensitive_board_title"])),l=({storyPinDataMetadataPinTitle:e,pinTitle:t})=>e||t,s=(e,t)=>e?e.trim().length>t?(0,r.ZP)(e.trim(),t).trim():e.trim():"",d=({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:a,storyPinDataMetadataPinTitle:r})=>{const o=r||e,l=s(t,200);return l||(n||(i||(a&&o?o:null)))},c=e=>{const{richSummaryDisplayName:t}=e,n=e.pinJoinVisualAnnotation||[],i=e.pinJoinAnnotationsWithLinks||{},o=e.richMetadataDescription||"",l=e.closeupUnifiedDescription||"",s=n.map((e=>(i||{})[e]||{name:e,url:""}));let d="";const c=(t||"").toLocaleLowerCase().trim(),u=o.toLocaleLowerCase().trim(),p=l.toLocaleLowerCase().trim();return l&&l.length>3&&p!==c?d=l:o&&o.length>3&&u!==c&&(d=o),d&&(d=a((0,r.ZP)(d,496)).trim()),{description:d,annotationsWithLinks:s}},u=({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:a,storyPinDataMetadataPinTitle:r,pinJoinVisualAnnotation:l,pinJoinAnnotationsWithLinks:s,seoNoindexReason:u,seoTitle:p})=>{if(u&&o.has(u))return p;const{annotationsWithLinks:m}=c({pinJoinVisualAnnotation:l,pinJoinAnnotationsWithLinks:s}),h=(m||[]).map((e=>e.name)),g=e=>(e||[])[0]||null;return d({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:a,storyPinDataMetadataPinTitle:r})||g(l)||g(h)||e},p=(e,t,n,i)=>{var a;let r=(a=e,"string"==typeof a?a:"").trim();return n?(i&&i.trim().length&&(r=i),n.length>0&&(r&&(r+=" "),r+=n.join(", ")),r):i&&i.trim().length?i:r},m=e=>`/pin/${e}/`,h=(e,t)=>{const n=`Pinterest video from ${t}: `.concat(e);return""===t?e:n},g=({pinId:e,seoUrl:t})=>t&&"string"==typeof t?t:m(e)},622305:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(307061).Z)((e=>{const{pin:t}=e,{images:n}=t,i=Object.keys(n||{}).reduce(((e,t)=>{const i=n[t],{url:a,width:r,height:o}=i;return e&&a&&r&&o?{...e,[t]:{url:a,width:r,height:o}}:null}),{});return i&&Object.keys(i).length>0?{...e,images:i}:null}))},802933:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(307061).Z)((e=>e.pin&&e.pin.id?{...e,id:e.id,aggregatedPinData:e.pin.aggregated_pin_data}:null))},760372:(e,t,n)=>{n.d(t,{X:()=>i});const i="favorited"},773285:(e,t,n)=>{n.d(t,{F:()=>r,a:()=>a});var i=n(425288);const{Provider:a,useHook:r}=(0,i.Z)("ExperimentContext")},383690:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),a=n(773285);const r=()=>{const e=(0,a.F)();return(0,i.useCallback)((()=>{e.flush()}),[e])}},523657:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(883119),r=n(785893);const o=(e,t,n)=>{const a=(0,i.useRef)(null),r=(0,i.useRef)(null);(0,i.useEffect)((()=>{if(e!==a.current||n&&n!==r.current){a.current=e;const n=(i=e,document.querySelector(`img[src="${i}"]`)||null);null!=n&&n.complete&&t()}var i;r.current=n}),[e,t,n])};function l({alt:e,children:t,color:n,elementTiming:i,isActive:l=!1,naturalHeight:s,naturalWidth:d,onLoad:c,src:u,fit:p="none"}){return o(u,c,l),(0,r.jsx)(a.Ee,{alt:e,color:n,elementTiming:i,naturalHeight:s,naturalWidth:d,onLoad:c,src:u,fit:p,children:t})}},42447:(e,t,n)=>{n.d(t,{Z:()=>B});var i=n(667294),a=n(317672),r=n(790348);const o=e=>{const t=performance.getEntriesByType("resource").filter((e=>e.name.includes("i.pinimg"))).reduce(((e,t)=>{const n=t.name.replace(".jpg","").split("/");return{[n[n.length-1]]:{downloadSize:t.name.split("/")[3].split("x")[0]},...e}}),{});[...Array.from(document.getElementsByTagName("img")).map((e=>{const n=e.src.replace(".jpg","").split("/"),i=n[n.length-1];if(t[i]){var r;const n=(null===(r=(0,a.rZ)(e))||void 0===r?void 0:r.width)||1,o=t[i].downloadSize;return{fileName:i,renderedSize:n,downloadedSize:o,ratio:o/n}}return{fileName:i,renderedSize:1,downloadedSize:1,ratio:1}})),...Array.from(document.querySelectorAll('div[role="img"]')).map((e=>{const n=e.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),i=n[n.length-1];if(t[i]&&e instanceof HTMLDivElement){var r;const n=(null===(r=(0,a.rZ)(e))||void 0===r?void 0:r.width)||1,o=t[i].downloadSize;return{fileName:i,renderedSize:n,downloadedSize:o,ratio:o/n}}return{fileName:i,renderedSize:1,downloadedSize:1,ratio:1}}))].forEach((t=>{const{ratio:n,fileName:i,downloadedSize:a}=t;t.ratio>1.05&&(0,r.A9)(`checkImageRatio.${e}`,{count:Math.round(10*n)/10,tags:{fileName:`${a}_${i}`}})}))};var l=n(860273),s=n(543059),d=n(607150);const c=({constraintMap:e,initialNavTiming:t,annotations:n})=>({...n,...(0,d.jh)("constraint_",e),...(0,d.jh)("mark_",(0,s.gQ)()),...(0,d.jh)("browser_",{...t?(0,d.D3)(t):{},...(0,d.rX)()})});var u=n(358864),p=n(505771),m=n(156381);const h=(e,t)=>{const{firstInputDelay:n}=(0,m.v2)();return[...e.map((e=>(0,p.Z)(e,t))).filter(Boolean),...n?[{name:"fid",id:(0,u.Z)(),parentId:t,startTime:n.startTime,endTime:n.endTime,annotationMap:{},binaryAnnotationMap:{}}]:[]]};var g=n(435851),_=n(172071);const v=({eventPrefix:e,endTime:t,tags:n,resourceArr:i,resourceType:a="allResources"})=>{const r=i.length;if(r>0&&"object"==typeof i[0]&&!Array.isArray(i[0])){const o=[...i].sort(((e,t)=>e.fetchStart-t.fetchStart)),l=[...i].sort(((e,t)=>e.responseEnd-t.responseEnd));let s=1;const d=t/5;let c=0;for(;s<=5;){let t=0;for(;c<=r-1&&o[c].fetchStart<=d*s;)c+=1,t+=1;_.Z.gauge(`${e}.tags.${a}.fetchStartInterval${s}of5`,t,.2,n),_.Z.gauge(`${e}.${a}.fetchStartInterval${s}of5`,t,.2),s+=1}const u={zeroPercentInFlight:o[0].fetchStart,twentyFivePercentInFlight:o[Math.floor(r/4)].fetchStart,fiftyPercentInFlight:o[2*Math.floor(r/4)].fetchStart,seventyFivePercentInFlight:o[3*Math.floor(r/4)].fetchStart,hundredPercentInFlight:o[r-1].fetchStart,twentyFivePercentComplete:l[Math.floor(r/4)].responseEnd,fiftyPercentComplete:l[2*Math.floor(r/4)].responseEnd,seventyFivePercentComplete:l[3*Math.floor(r/4)].responseEnd,hundredPercentComplete:l[r-1].responseEnd};for(const t in u)u[t]&&(_.Z.timing(`${e}.tags.${a}.${t}`,u[t],.2,n),_.Z.timing(`${e}.${a}.${t}`,u[t],.2))}},y=({annotateExperiments:e,endTime:t,entries:n,metricId:i,pwtStaticContext:a})=>{const r=`${(0,g.Z)(a)}.${i.surface}`,o=[r];e&&e.forEach((e=>{const t=a.getExperimentGroup(e)||"null";o.push(`${r}.${e}.${t}`)}));const l={lcpTimingBucket:(e=>{let t;return t=e<=2500?"Good":e>2500&&e<=4e3?"Needs Improvement":"Poor",t})((0,m.Bn)())||"unknown",isAuthenticated:a.isAuthenticated,navigationType:i.navigationType},s=Array.from(n.filter((e=>"number"==typeof e.encodedBodySize&&e.encodedBodySize>=1e4&&e.responseEnd<=t))),d=[],c=[],u=[],p=[],h=[];s.forEach((e=>{"img"===e.initiatorType?d.push(e):"css"===e.initiatorType?c.push(e):"script"===e.initiatorType?u.push(e):"xmlhttprequest"===e.initiatorType?p.push(e):"link"===e.initiatorType&&e.name.includes("i.pinimg.com")&&h.push(e)})),o.forEach((e=>{v({eventPrefix:e,endTime:t,tags:l,resourceArr:s}),v({eventPrefix:e,endTime:t,tags:l,resourceArr:d,resourceType:"image"}),v({eventPrefix:e,endTime:t,tags:l,resourceArr:c,resourceType:"css"}),v({eventPrefix:e,endTime:t,tags:l,resourceArr:u,resourceType:"scripts"}),v({eventPrefix:e,endTime:t,tags:l,resourceArr:p,resourceType:"xhr"}),v({eventPrefix:e,endTime:t,tags:l,resourceArr:h,resourceType:"preloadedImage"})}))};var f=n(22773),x=n(453821),b=n(638089);const w=({annotateExperiments:e,annotations:t,binaryAnnotations:n,constraintMap:i,endTime:a,imageTimings:r,metricId:o,pwtStaticContext:s,startTime:d,traceId:u,spans:p})=>{const m=(0,f.Cg)();let g;"initial_app_load"===o.navigationType&&(g=(0,l.Z)());const _=r.map((({name:e})=>e)),v=m.map((e=>(0,x.p)(e,_))).filter((({timing:e})=>!(({startTime:e,responseEnd:t},n)=>e>n.endTime||!!t&&t<n.startTime||e<n.startTime-100)(e,{startTime:d,endTime:a})));return"board"!==o.surface&&"pin_closeup"!==o.surface||y({annotateExperiments:e,endTime:a,entries:m,metricId:o,pwtStaticContext:s}),{type:"COMPLETE",traceId:u,startTime:d,endTime:a,spans:h(v,u).concat(p),annotationMap:c({constraintMap:i,initialNavTiming:g,annotations:t}),binaryAnnotationMap:(0,b.rA)({annotateExperiments:e,binaryAnnotations:n,entries:m,metricId:o,performanceResources:v,pwtEndTime:a,pwtStaticContext:s})}};let S=!1;const P=(e,t)=>e&&t?S?((0,r.H)("duplicated_initial_app_load_surface_pwt"),(0,u.Z)()):(S=!0,t):(0,u.Z)();var k=n(558775);const I=(e,t)=>{const n=(0,i.useRef)(t);return{getState:()=>n.current,dispatch:t=>{n.current=e(n.current,t)}}};var T=n(985271),j=n(383434),C=n(226464),A=n(567450),E=n(276602),D=n(198462),F=n(785893);const L=["initial_app_load","client_route_push"],R=(0,j.XV)("PwtSurface"),z="NavigationComplete",M="VisuallyComplete",O=(e,t)=>{e.isSampled&&(0,k.Z)({metricId:e.metricConfig.metricId,pwtStaticContext:e.metricConfig.pwtStaticContext,result:{type:"ABORT",reason:t}})},Z=e=>{if(e.metricConfig.constraints.every((t=>e.constraintMap[t]))){const t=Math.max(...e.metricConfig.constraints.map((t=>e.constraintMap[t])));return((e,t)=>{var n;const{metricConfig:{metricId:i,pwtStaticContext:a,annotateExperiments:l},annotations:d,binaryAnnotations:c,constraintMap:u,startTime:p,imageTimings:m,isSampled:h,spans:g}=e;(0,s.L8)(`PWT_Complete_${(0,C.KJ)(i)}`);const _=P("initial_app_load"===i.navigationType,null===(n=a.serverData)||void 0===n?void 0:n.trace_id),v=w({annotateExperiments:l,annotations:d,binaryAnnotations:c,constraintMap:u,endTime:t,imageTimings:m,metricId:i,pwtStaticContext:a,startTime:p,traceId:_,spans:g});h&&(0,k.Z)({metricId:i,pwtStaticContext:a,result:v});try{o(String(v.binaryAnnotationMap["metricId.surface"].value))}catch(y){(0,r.H)("image_ratio_check_error",{error:y})}return{...e,result:v,status:"DONE"}})(e,t)}return e},N=(e,t)=>{const{constraint:n,time:i}=t,a=(0,C.KJ)(e.metricConfig.metricId);return T.Z?e.metricConfig.constraints.find((e=>e===n))?e.constraintMap[n]?(R(`constraint "${n}" is already complete.`),(0,r.H)("duplicated_constraint_complete",{constraint:n,action:a}),e):(R(`marking constraint "${n}" as complete`),(0,s.ZP)(`constraint_${n}_is_complete`),Z({...e,constraintMap:{...e.constraintMap,[n]:i||T.Z.now()}})):(R(`marked constraint "${n}" is not a required constraint.`),e):((0,r.H)("missing_window_performance",{action:a}),e)},U=(e,t)=>{if(R("dispatch action",t),"INIT_ROUTE"===t.type)return((e,t)=>{const{metricConfig:n,startTime:i,isSampled:a}=t;if("TIMING"===e.status&&i!==e.startTime&&O(e,"routeUpdatedOnSameSurface"),!n)return{status:"DISABLED",metricConfig:null};const o=(0,C.KJ)(n.metricId);return"TIMING"===e.status&&e.startTime===i&&e.constraintMap.NavigationComplete?((0,r.H)("duplicated_init_route_action",{action:o}),e):("Other"===n.pwtStaticContext.browserName&&!1===n.metricId.isAuthenticated&&"initial_app_load"===n.metricId.navigationType?((0,r.A9)(`TIMING.${o}`,{tags:{userAgent:null===(l=window)||void 0===l||null===(s=l.navigator)||void 0===s?void 0:s.userAgent}}),(0,r.A9)(`TIMING.sampled.${o}`,{tags:{userAgent:null===(d=window)||void 0===d||null===(c=d.navigator)||void 0===c?void 0:c.userAgent},sampleRate:.5})):((0,r.A9)(`TIMING.${o}`),(0,r.A9)(`TIMING.sampled.${o}`,{sampleRate:.5})),N({status:"TIMING",metricConfig:n,startTime:i,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:a,spans:[]},{constraint:z}));var l,s,d,c})(e,t.payload);if("TIMING"!==e.status)return R(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":O(e,t.reason);const n={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:n};case"ANNOTATE":const{name:i}=t.payload;if(!T.Z)return e;const a=T.Z.now();return R(`adding annotation {${i}: ${a}}`),{...e,annotations:{...e.annotations,[i]:a}};case"BINARY_ANNOTATE":const{name:o,value:l,annotationType:s}=t.payload;return R(`adding binary annotation {${o}: ${l}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[o]:{value:l,type:s}}};case"MARK_CONSTRAINT_COMPLETE":return N(e,t.payload);case"REMOVE_CONSTRAINT":return((e,t)=>{if(!T.Z){const t=(0,C.KJ)(e.metricConfig.metricId);(0,r.H)("missing_window_performance",{action:t})}R(`removing constraint "${t}"`);const n=e.metricConfig.constraints.filter((e=>e!==t)),{[t]:i,...a}=e.constraintMap;return Z({...e,constraintMap:a,metricConfig:{...e.metricConfig,constraints:n}})})(e,t.payload);case"SET_SEGMENT":return((e,t)=>{if(!T.Z){const t=(0,C.KJ)(e.metricConfig.metricId);(0,r.H)("missing_window_performance",{action:t})}R(`updating pwt segment to "${t}"`);const n={...e.metricConfig.metricId,segment:t};return{...e,metricConfig:{...e.metricConfig,metricId:n}}})(e,t.payload);case"SET_VISUALLY_COMPLETE_RESULT":{const{payload:{imageTimings:n}}=t;if(0===n.length){O(e,"visuallyComplete_noImages");const t={type:"ABORT",reason:"visuallyComplete_noImages"};return{...e,status:"DONE",result:t}}const i=Math.max(...n.map((e=>e.responseEnd||0)));return N({...e,imageTimings:n},{constraint:M,time:i})}case"ADD_SUBSPAN":const{startTime:d}=e,{payload:{name:c,startTime:p,endTime:m,annotations:h,binaryAnnotations:g,parentId:_}}=t;return{...e,spans:[...e.spans,{name:c,id:(0,u.Z)(),startTime:p||d,endTime:m,annotationMap:{...h},binaryAnnotationMap:{...g},parentId:_}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,u.Z)(),startTime:T.Z?T.Z.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":const v=e.spans.findIndex((e=>e.name===t.payload.name));return v>-1?(e.spans[v].endTime=T.Z?T.Z.now():0,t.payload.annotations&&(e.spans[v].annotationMap={...e.spans[v].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[v].binaryAnnotationMap={...e.spans[v].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,r.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:const y=(0,C.KJ)(e.metricConfig.metricId);return(0,r.H)("invalid_pwt_surface_action",{action:y}),e}};function B({children:e,...t}){var n;const a=(0,D.fM)(),o=(e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}})(a),l=[...null!==(n=t.annotateExperiments)&&void 0!==n?n:[]],s={...t,annotateExperiments:l,navigationInfo:{navigationType:o,clientNavigation:a}},{context:d}=(({surface:e,constraints:t,segment:n,measureGridVisuallyComplete:a,annotateExperiments:r,customEnabledNavigationTypes:o,navigationInfo:{clientNavigation:l,navigationType:s},sampleRate:d})=>{const c=(0,i.useRef)("NOT_SET"),u=(0,D.N5)(),{getState:p,dispatch:m}=I(U,{status:"DISABLED",metricConfig:null});if(c.current!==l&&(c.current=l,u)){const{isAuthenticated:i}=u,c=o||L,p=e&&s&&c.includes(s)?{metricId:{type:"surface",surface:e,navigationType:s,isAuthenticated:i,segment:n},annotateExperiments:r,constraints:[z,...t||[],...a?[M]:[]],pwtStaticContext:u}:null;m({type:"INIT_ROUTE",payload:{metricConfig:p,startTime:l?l.time:0,isSampled:!d||Math.random()<d}})}const h=p();if((0,i.useEffect)((()=>{const e=e=>{m({type:"ABORT",reason:e})};A.Z.onSessionPause(e);const t=()=>{window.removeEventListener("resize",t),m({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",t),()=>{const n=p();R("handling unmount",n),"TIMING"===n.status&&O(n,"unmount"),A.Z.removePauseListener(e),window.removeEventListener("resize",t)}}),[]),"TIMING"!==h.status||!h.constraintMap.NavigationComplete)return{state:h,context:null};const{startTime:g,metricConfig:_}=h;return{state:h,context:{abort:e=>m({type:"ABORT",reason:e}),addAnnotation:e=>m({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,n)=>m({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:n}}),addSubspan:(e,t,n,i={},a={},r=null)=>m({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:a,parentId:r}}),getId:()=>g,getMetricId:()=>_.metricId,markConstraintComplete:e=>m({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:T.Z?T.Z.now():0}}),removeConstraint:e=>m({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>m({type:"SET_SEGMENT",payload:e}),setVisuallyCompleteResult:_.constraints.includes(M)?e=>m({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,startSubspan:(e,t={},n={},i=null)=>m({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}}),stopSubspan:(e,t={},n={},i=null)=>m({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}})}}})(s);return(()=>{const e=(0,E.E)(),t=!!e;(0,i.useEffect)((()=>{if(t){const t=null==e?void 0:e.getMetricId(),n=t?(0,C.KJ)(t):null;(0,r.H)("nested_pwt_surface",{action:n})}}),[t])})(),(0,F.jsx)(E.S,{value:d,children:e})}},317254:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(969853),a=n(667294),r=n(276602),o=n(543059);var l=n(198462);function s({children:e,isAtEndOfFeed:t,pinData:n,itemCount:s,includeBackgroundImages:d=!1,includeVideos:c=!1,includeSections:u=!1}){var p;return(null===(p=(0,l.N5)())||void 0===p?void 0:p.isAuthenticated)||(u=!0),(0,i.Z)({pinData:n,isAtEndOfFeed:t,includeBackgroundImages:d,includeVideos:c,includeSections:u}),function(e){const t=(0,r.E)(),n=(0,a.useRef)(null);(0,a.useEffect)((()=>{e!==n.current&&(n.current=e,t&&(0,o.ZP)(o.at))}),[!!t,e])}(s),e}},311560:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";case"CA":return"CA";case"GB":return"GB";case"FR":return"FR";case"DE":return"DE";default:return"OTHER"}}},844897:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(667294),a=n(485710),r=n(985913),o=n(883119),l=n(785893);function s({category:e,ingredients:t,textSize:n="300"}){return(0,l.jsxs)(o.xu,{children:[e&&(0,l.jsx)(o.xu,{children:(0,l.jsx)(o.xv,{weight:"bold",size:n,children:e})}),(0,l.jsx)("ul",{children:t.map(((e,t)=>(0,l.jsx)("li",{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",children:(0,l.jsx)(o.xu,{marginTop:1,children:(0,l.jsxs)(o.xv,{size:n,children:["• ",e.amt||null," ",e.name]})})},t)))})]})}var d=n(134185),c=n(319530),u=n(898781),p=n(288889),m=n(578661),h=n(773285);function g({columnGap:e,recipeProps:t,marginOverrides:n}){const g=(0,u.ZP)(),{diets:_,image:v,name:y,categorizedIngredients:f,fromAggregatedData:x}=t.recipe,{checkExperiment:b}=(0,h.F)(),w=b("closeup_dweb_onepin_title_and_description").anyEnabled,S=g._('Ingredients', 'Ingredients title and count in closeup recipe description', 'Ingredients title and count in closeup recipe description');let P;if(f&&f.length){const e=[];f.forEach((t=>e.push(t.ingredients)));const t=(k=e.filter(Boolean),k.reduce(((e,t)=>e.concat(t)),[])).length;P=f&&f.length&&t?(0,r.Z)(g.ngettext('{{ count }} ingredient', '{{ count }} ingredients', t, 'Ingredients title and count in closeup recipe description', 'Ingredients title and count in closeup recipe description'),{count:t.toString()}):S}var k;const I=w?8:(null==n?void 0:n.outerMarginTop)||80;return(0,l.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginTop:I}},children:(0,l.jsxs)(d.Z,{itemScope:!0,itemType:m.G,children:[(0,l.jsx)("meta",{content:y,itemProp:"name"}),(0,l.jsx)("meta",{content:v,itemProp:"image"}),!w&&(0,l.jsx)(o.xu,{"data-test-id":"ingredients-heading",marginBottom:4,children:(0,l.jsx)(o.X6,{size:"400",children:x?y:P})}),!w&&_&&_.length>0&&(0,l.jsx)(o.xu,{marginBottom:4,children:(0,l.jsx)(o.xv,{inline:!0,size:"200",children:_.join(" ")})}),w?(0,l.jsx)(a.Z,{heading:S,children:(0,l.jsx)(c.Z,{children:(0,l.jsx)(o.xu,{marginTop:4,children:f.map((({category:e,ingredients:t},a)=>{const r=`ingredient-${a}`;return(0,l.jsx)(i.Fragment,{children:(0,l.jsx)(o.xu,{marginBottom:(null==n?void 0:n.ingredientMarginBottom)||4,children:(0,l.jsx)(s,{category:e,ingredients:t,textSize:p.n})})},r)}))})})}):Array.isArray(f)&&f.length>0&&(1===f.length?(0,l.jsx)(o.xu,{column:12,"data-test-id":"single-column-ingredients",children:f.map((({category:e,ingredients:t},i)=>(0,l.jsx)(o.xu,{marginBottom:(null==n?void 0:n.ingredientMarginBottom)||2,children:(0,l.jsx)(s,{category:e,ingredients:t,textSize:"100"})},i)))}):(0,l.jsxs)(o.xu,{display:"flex","data-test-id":"dual-column-ingredients",children:[(0,l.jsx)(o.xu,{column:6,children:f.slice(0,Math.ceil(f.length/2)).map((({category:e,ingredients:t},i)=>(0,l.jsx)(o.xu,{marginBottom:(null==n?void 0:n.ingredientMarginBottom)||2,children:(0,l.jsx)(s,{category:e,ingredients:t,textSize:"100"})},i)))}),e,(0,l.jsx)(o.xu,{column:6,children:f.slice(Math.ceil(f.length/2)).map((({category:e,ingredients:t},i)=>(0,l.jsx)(o.xu,{marginBottom:(null==n?void 0:n.ingredientMarginBottom)||2,children:(0,l.jsx)(s,{category:e,ingredients:t,textSize:"100"})},i)))})]}))]})})}},469823:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(561195),r=n(883119),o=n(785893);function l({recipeData:e}){var t;if(null!==(t=e.aggregate_rating)&&void 0!==t&&t.rating_value&&e.aggregate_rating.review_count){var n,l,s;const t="number"==typeof(null===(n=e.cook_times)||void 0===n||null===(l=n.cook)||void 0===l?void 0:l.m)&&"number"==typeof(null===(s=e.cook_times.prep)||void 0===s?void 0:s.m)?`${e.cook_times.cook.m+e.cook_times.prep.m} minutes · `:"";return(0,o.jsxs)(i.Fragment,{children:[(0,o.jsx)(a.Z,{rating:e.aggregate_rating.rating_value,max_rating:e.aggregate_rating.best_rating,width:12},e.aggregate_rating.rating_value),(0,o.jsx)(r.xv,{inline:!0,size:"200",children:` ${e.aggregate_rating.review_count} · ${t}`})]})}return null}},932995:(e,t,n)=>{function i(e,t,n){const i=[...e],a=i.splice(t,1)[0];return i.splice(n,0,a),i}n.d(t,{Z:()=>i})},780280:(e,t,n)=>{n.d(t,{B:()=>u,LC:()=>d,P2:()=>s,fH:()=>c,gf:()=>p});var i=n(667294),a=n(608832),r=n(620707),o=n(785893);const l=(0,i.createContext)();function s({children:e,value:t}){const[n,s]=(0,i.useState)(t),d=(0,i.useMemo)((()=>({requestContext:n,updateRequestContext:e=>{const t={...n,...e};(0,r.Ak)(n,e)||s(t),(0,a.J)(t)}})),[n]);return(0,o.jsx)(l.Provider,{value:d,children:e})}const d=({children:e})=>{const t=(0,i.useContext)(l);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t.requestContext)},c=({children:e})=>{const t=(0,i.useContext)(l);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t.requestContext)};function u(){const e=(0,i.useContext)(l);if(!e)throw new Error("useRequestContext must be used within a RequestContextProvider");return e.requestContext}function p(){const e=(0,i.useContext)(l);if(!e)throw new Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},608832:(e,t,n)=>{let i;function a(e){i=e}function r(){return i}n.d(t,{J:()=>a,l:()=>r})},784590:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),a=n(702664),r=n(886858),o=n(718368),l=n(616550),s=n(780280),d=n(248327);const c={};function u(e){const{enabledRouteRefresh:t,__unstableEnableSuspenseSupport:n,headers:u,name:p,noCache:m,options:h,schema:g}=null!=e?e:{name:"DisabledResource",options:null},_=!e,v=(0,a.useDispatch)(),y=(0,r.Z)(h),f=(0,i.useRef)(null),x=(0,i.useRef)(),b=(0,l.useHistory)(),w=b&&"POP"!==b.action,S=e=>(e[p]||c)[y]||c,P=(0,a.useSelector)((({resources:e})=>S(e).nextBookmark)),k=(0,a.useSelector)((({resources:e})=>S(e).data)),I=(0,a.useSelector)((({resources:e})=>S(e).auxData)),T=(0,a.useSelector)((({resources:e})=>S(e).error)),j=(0,a.useSelector)((({resources:e})=>Boolean(S(e).fetching))),C=Boolean(T)||void 0!==k,A=C&&!j&&P===o.q,E=Boolean(C&&t&&w&&!_),[D,F]=(0,i.useState)(E),L=(0,i.useCallback)((e=>{f.current=v((0,d.U)(p,{options:h,schema:g,bookmark:e,headers:u}))}),[v,p,y,g,u]),R=()=>{f.current=v((0,d.b)(p,{options:h,schema:g,headers:u}))},{isBot:z}=(0,s.B)(),M=()=>{if(!_&&x.current!==y){const e=void 0===x.current;x.current=y,!C&&!j||e&&T&&(({httpStatus:e})=>!e||e>=500)(T)?L():(!z&&m||E)&&R()}};(0,i.useEffect)((()=>{n||M()})),n&&M();const O=(0,i.useCallback)((()=>{_||(R(),F(!0))}),[_,d.b,p,y,u,F]),Z=(0,i.useCallback)((()=>{!P||A||j||_||L(P)}),[_,L,P,A,j]);if(f.current)if(C&&!j)f.current=null;else if(n)throw f.current;const N=(0,i.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:Z,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:O}),U={auxData:I,data:k,error:T,fetchMore:Z,isAtEnd:A,isFetching:j,isLoaded:C,isRefreshing:D,nextBookmark:P,refresh:O};return(0,a.shallowEqual)(U,N.current)||(!D||!N.current.data&&E||(0,a.shallowEqual)(U.data,N.current.data)||(U.isRefreshing=!1,F(!1)),N.current=U),N.current}},418614:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(784590),a=n(50286),r=n(780280),o=n(826067);var l=n(616550);function s({checkExperiments:e,disableFetch:t,viewer:n}){var i;const s=(0,l.useLocation)(),d=(0,l.useRouteMatch)(),c=(0,r.B)(),u=function({advertiser:e,deviceType:t,location:{pathname:n,search:i},inviteCode:a,match:{params:r,path:l},viewer:s}){return{advertiser:e,deviceType:t,routeData:{inviteCode:a,matchPath:l,params:r,parsedSearch:(0,o.mB)(i),pathname:n,search:i},user:{country:s.country||void 0,id:s.id||void 0,isAuth:s.isAuth,isEmployee:!!s.isEmployee||!1,isPartner:!!s.isPartner||!1,username:s.username||void 0,firstHomeFeedRequestAfterNux:s.firstHomeFeedRequestAfterNux||void 0}}}({advertiser:c.advertiser,deviceType:(0,a.Mq)(c),location:s,match:d,viewer:n,inviteCode:null!==(i=c.inviteCode)&&void 0!==i?i:""}),p=!!t&&t(u),m=!(!p&&e)||e(c.experimentsClient);return{args:u,fetchDisabled:p||!m}}var d=n(19121);function c({getOptions:e,checkExperiments:t,disableFetch:n,...a}){const r=function(){const e=(0,d.Z)();return{country:e.country||void 0,id:e.id||void 0,isAuth:e.isAuth,isEmployee:!!e.isEmployee||!1,isPartner:!!e.isPartner||!1,username:e.username||void 0,firstHomeFeedRequestAfterNux:e.firstHomeFeedRequestAfterNux||void 0}}(),{args:o,fetchDisabled:l}=s({checkExperiments:t,disableFetch:n,viewer:r}),c=e?e(o):void 0;return(0,i.Z)(l?null:{options:c,...a})}},857079:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),a=n(785893);function r({accessibilityLabel:e}){return(0,a.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,a.jsx)(i.$j,{accessibilityLabel:e,show:!0})})}},995228:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),a=n(785893);function r({children:e,fallback:t,dangerouslyServerRenderForGraphQL:n=!1}){const r=t||null;return(0,a.jsx)(i.Suspense,{fallback:r,children:e})}},740990:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(667294).createContext)("undefined"!=typeof window?window:null)},909499:(e,t,n)=>{n.d(t,{Hd:()=>s,_R:()=>o,gi:()=>a,lw:()=>i,wF:()=>l,zh:()=>r});const i={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins"},a=e=>{switch(e){case i.PINS:return 0;case i.PINS_MINE:return null;case i.PINS_BUYABLE:return 1;case i.PINS_VIDEO:return 2;case i.BOARDS:return 3;case i.USERS:return 4;default:return null}},r=e=>{switch(e){case 0:return i.PINS;case 1:return i.PINS_BUYABLE;case 2:return i.PINS_VIDEO;case 3:return i.BOARDS;case 4:return i.USERS;default:return null}},o=e=>{switch(e){case i.PINS:return 43;case i.PINS_MINE:return 107;case i.PINS_BUYABLE:return 254;case i.PINS_VIDEO:return 3306;case i.BOARDS:return 44;case i.USERS:return 45;default:return null}},l=e=>{switch(e){case i.PINS:return 60;case i.PINS_MINE:return 63;case i.PINS_BUYABLE:return 3800;case i.PINS_VIDEO:return 64;case i.BOARDS:return 61;case i.USERS:return 62;default:return null}},s=e=>{switch(e){case i.USERS:return 1000392;case i.PINS_BUYABLE:return 1000391;case i.PINS:default:return 29}}},391143:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(643913),a=n(613316);function r({bubbleId:e,pinId:t,query:n,referringSource:r,storyCategory:o,storyId:l,title:s}){const d=[0,24,21,26].includes(o),c=(0,i.Z)({q:n,rs:r||void 0,b_id:e,source_id:l,top_pin_id:t}),u=d&&s?(0,a.x)({title:s,id:e,articleType:"discover"}):`/discover/article/${e}/`;return d?u:"/search/pins/"+(c?"?"+c:"")}},648284:(e,t,n)=>{function i({appliedProductFilters:e,autoCorrectionDisabled:t,filters:n,query:i,scope:a,selectedPinImgSig:r,user:o}){const l=[a,n,e,o,r,i].map((e=>null!=e?e:"")).join(":");return t?"auto-correction-disabled:"+l:l}function a(e){const{autoCorrectionDisabled:t,appliedProductFilters:n,appliedFilters:i,filters:a,selectedPinImgSig:r,query:o,rs:l,scope:s,bubbleId:d,user:c}=e;return{name:"BaseSearchResource",options:function({autoCorrectionDisabled:e=!1,appliedFilters:t=null,appliedProductFilters:n=null,bubbleId:i=null,filters:a=null,query:r=null,rs:o="direct_navigation",scope:l="pins",selectedPinImgSig:s=null,sourceId:d=null,user:c}){return{article:i,applied_filters:t,appliedProductFilters:n,auto_correction_disabled:e,corpus:s?"personalize":null,customized_rerank_type:s?"manas_graph_sage_only_wand_rewrite":null,filters:a,query:r,query_pin_sigs:s,redux_normalize_feed:!0,rs:o,scope:l,source_id:d,user:c}}({autoCorrectionDisabled:!!t,appliedProductFilters:n,appliedFilters:i,filters:a,query:o,rs:l,scope:s,selectedPinImgSig:r,bubbleId:d,user:c})}}n.d(t,{Ht:()=>a,Tb:()=>i})},706922:(e,t,n)=>{function i(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function a(e,t){if(i(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(let r=0;r<n.length;r+=1)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!i(e[n[r]],t[n[r]]))return!1;return!0}n.d(t,{Z:()=>a})},619277:(e,t,n)=>{n.d(t,{o$:()=>a,ty:()=>r,vE:()=>o});var i=n(425288);const{Provider:a,MaybeConsumer:r,useMaybeHook:o}=(0,i.Z)("inviteContext")},296011:(e,t,n)=>{n.d(t,{Z:()=>s,t:()=>d});var i=n(667294),a=n(214494),r=n(167912);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l={};class s extends i.Component{constructor(...e){super(...e),o(this,"state",{invite:l[this.props.invite_code]||null,loaded:this.props.invite_code in l})}componentDidMount(){const{invite_code:e}=this.props;a.Z.create("InviteCodeMetadataResource",{invite_code:e}).callGet().then((t=>{if(t&&t.resource_response){const n=t.resource_response.data;l[e]=n,this.setState({invite:n,loaded:!0})}})).catch((()=>{this.setState({invite:null,loaded:!0})}))}render(){const{invite:e,loaded:t}=this.state;return t?this.props.children(e):null}}class d extends i.Component{constructor(...e){super(...e),o(this,"state",{invite:l[this.props.invite_code]||null,loaded:this.props.invite_code in l})}componentDidMount(){const{invite_code:e,relayEnvironment:t,inviteQuery:n}=this.props;(0,r.fetchQuery)(t,n,{invite_code:e}).subscribe({next:e=>{var t;if(null!==(t=e.v3GetInviteCodeQuery)&&void 0!==t&&t.data){const t=e.v3GetInviteCodeQuery;this.setState({invite:t,loaded:!0})}},error:()=>{this.setState({invite:null,loaded:!0})}})}render(){const{invite:e,loaded:t}=this.state;return t?this.props.children(e):null}}},676142:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(858142);const a=/\{\s*(\w+)\s*\}/g,r=(e,t)=>(0,i.Z)(a,e,t);function o({args:e,format:t}){const n=(e||[]).reduce(((e,t,n)=>({...e,[n]:t.text})),{});return r(t,n)}},940882:(e,t,n)=>{n.d(t,{J:()=>i,Z:()=>a});const i=-1;function a(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},985913:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(858142);const a=/\{\{\s*(\w+)\s*\}\}/g,r=(e,t)=>(0,i.Z)(a,e,t)},858791:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},858142:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t,n)=>t?t.replace(e,((e,t)=>n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:"")):""},66699:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(985913),a=n(858791);const r=(e,t)=>{const n={};return Object.keys(t).forEach((e=>{n[e]=t[e]?(0,a.Z)(t[e].toString()):""})),(0,i.Z)(e,n)}},70061:(e,t,n)=>{function i(e){return e.replace(/[_.-](\w|$)/g,((e,t)=>t.toUpperCase()))}n.d(t,{Z:()=>i})},430323:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(667294),a=n(722767),r=n(706922),o=n(245474),l=n(558068),s=n(350118),d=n(780280),c=n(790123),u=n(425288);const{Provider:p,useMaybeHook:m}=(0,u.Z)("timeSpentContext");var h=n(785893);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends i.Component{constructor(e){super(e),g(this,"componentWillUnmount",(()=>{this.unregisterComponent()})),g(this,"getContext",(()=>{const{clientTrackingParams:e,component:t,element:n,objectId:i,timeSpentContext:a,view:r,viewParameter:o}=this.props;return{view:r||a&&a.view,viewParameter:o||a&&a.viewParameter,component:t||a&&a.component,element:n,objectId:i||a&&a.objectId,clientTrackingParams:e||a&&a.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}})),g(this,"getLoggerContext",(()=>{const e={...this.getContext()};return delete e.getParentUuid,e})),g(this,"getParentId",(()=>{const{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){const t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0})),g(this,"getUuid",(()=>this.state.timedPair?this.state.timedPair.uuid:void 0)),g(this,"getTimedPair",(()=>this.state.timedPair)),g(this,"setTimedPair",(e=>this.setState({timedPair:e}))),g(this,"isRegistered",!1),g(this,"registerComponent",(()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0})),g(this,"unregisterComponent",(()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)})),g(this,"handleVisibilityChange",(e=>{const{intersectionRatio:t}=e[0],{bottom:n,left:i,right:a,top:r}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===n&&0===i&&0===a&&0===r?this.unregisterComponent():this.registerComponent())})),this.state={timedPair:new o.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,r.Z)(e.auxData,this.props.auxData)&&(0,r.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){const{children:e}=this.props;return(0,h.jsx)(p,{value:this.getContext(),children:(0,h.jsx)(a.Z,{options:{threshold:0},onVisibilityChange:this.handleVisibilityChange,children:i.Children.only(e)})})}}function v(e){var t;const n=(0,l.Hv)(),a=m(),r=(0,c.w)(),o=(0,s.H0)(),{requestIdentifier:u=""}=(0,d.B)(),p={app_instance_id:u.slice(0,8),...null!==(t=e.auxData)&&void 0!==t?t:{}};return(0,i.useEffect)((()=>{null==r||r.setHistoryStackContext(n)}),[n,r]),(0,i.useEffect)((()=>{null==r||r.setPins(null!=o?o:{})}),[o,r]),r?(0,h.jsx)(_,{...e,auxData:p,timeSpentContext:a,timeSpentManager:r,children:e.children}):e.children}v.displayName="TimeSpent";const y=v},790123:(e,t,n)=>{n.d(t,{j:()=>u,w:()=>c});var i=n(829407),a=n(407043),r=n(50286),o=n(780280),l=n(425288),s=n(785893);const{Provider:d,useMaybeHook:c}=(0,l.Z)("TimeSpentManagerContext");function u({children:e,value:t}){const n=(0,a.v)(),l=(0,r.HG)(),{isAuthenticated:c}=(0,o.B)(),u=l&&c;return(0,i.Z)((()=>{document.hasFocus()&&t(n,u).registerApp(),t(n,u).addEventListeners()})),(0,s.jsx)(d,{value:t(n,u),children:e})}},245474:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(172045),a=n(17314);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now();const l=class{constructor(e){r(this,"start",(()=>(this.startTime=o(),this.startTime))),r(this,"end",(()=>(this.endTime=o(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration)));try{this.uuid=(0,i.Z)()}catch(t){this.uuid=(0,a.Z)()}e&&Object.assign(this,e)}}},932046:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(826067);function a(){const e=(0,i.mB)(window.location.search);if("31"===e.utm_source)return"email";if(e.utm_pai)return"paid";const t=document.referrer;return t?t.includes("/t.co/")?"twitter":t.includes("cdn.ampproject.org")?"amp":t.includes("google.")?"google":t.includes("bing.")?"bing":t.includes("facebook.")?"facebook":"other":"direct"}},758127:(e,t,n)=>{n.d(t,{U:()=>r,Z:()=>o});var i=n(883119),a=n(785893);const r=", ";function o(){return(0,a.jsx)(i.xu,{display:"visuallyHidden",children:r})}},477802:(e,t,n)=>{n.d(t,{W:()=>o,Z:()=>r});var i=n(883119),a=n(785893);function r({data:e}){return(0,a.jsx)(i.xu,{overflow:"auto",dangerouslySetInlineStyle:{__style:{border:"2px solid red"}},"data-test-id":"debug-info",children:(0,a.jsx)("pre",{children:JSON.stringify(e,null,2).replace(/\\n/g,"\n")})})}const o=e=>(0,a.jsx)(i.xu,{width:236,dangerouslySetInlineStyle:{__style:{marginTop:10}},children:(0,a.jsx)(r,{...e})})},948618:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),a=n(785893);function r({ariaHidden:e=!1,color:t="darkGray",size:n}){return(0,a.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,a.jsx)(i.xv,{color:t,inline:!0,size:null!=n?n:"200",children:"·"})})}},681291:(e,t,n)=>{n.d(t,{Z:()=>s,n:()=>o});var i=n(512855),a=n(883119),r=n(785893);function o({items:e,itemWidth:t,itemGap:n,numRows:a=1,actionItemType:r}){const[o,l]=(0,i.Z)(),s=Math.floor((o+n)/(t+n))*a||a,d=e.slice(0,s);let c,u=[];switch(r){case"nextFour":s>=e.length?u=[d.pop()]:(d.pop(),u=e.slice(s-1,s+3));break;case"one":c=s>e.length?e[Math.floor(e.length/2)]:d.pop()}return{containerRef:l,itemsToRender:d,actionItem:c,nextFourItems:u}}const l={center:{outer:"center",inner:"center"},left:{outer:"start",inner:"start"},right:{outer:"end",inner:"end"}};function s({children:e,itemGap:t,containerRef:n,numRows:i=1,rowAlignment:o="center"}){const s=l[o];return(0,r.jsx)(a.xu,{ref:n,width:"100%",children:(0,r.jsx)(a.kC,{alignItems:"center",justifyContent:s.outer,children:(0,r.jsx)(a.kC,{justifyContent:s.inner,gap:{row:Math.floor(t/4),column:0},wrap:i>1,children:e})})})}},343341:(e,t,n)=>{n.d(t,{F9:()=>o,Zo:()=>a,nE:()=>r});var i=n(425288);const{Provider:a,Consumer:r,useHook:o}=(0,i.Z)("toastManagerContext")},753311:(e,t,n)=>{n.d(t,{M:()=>o,Q:()=>r});var i=n(667294);const a=(0,i.createContext)(null),r=()=>(0,i.useContext)(a),o=a.Provider},690035:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(753311);const a=()=>{var e;return(null===(e=(0,i.Q)())||void 0===e?void 0:e.showUnauthContextMenu)||(()=>{})}},149230:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(954931);const a=({url:e})=>!(!e||!e.match(/^https{0,1}:\/\//)||(0,i.Z)(e))},280446:(e,t,n)=>{function i(e){const t="--";if((e||"").includes(t)){const n=e.split(t),i=n.pop();return{text:n.join(t),pinId:i}}return{text:"",pinId:e}}n.d(t,{Z:()=>i})},327476:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(773285);function a(){const{checkExperiment:e}=(0,i.F)();return t=>e("web_transform_promoted_text").anyEnabled?t.replace(" ","  "):t}},512855:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294);function a(){const[e,t]=(0,i.useState)(0),n=(0,i.useRef)(null),a=(0,i.useCallback)((()=>{n.current&&t(n.current.clientWidth)}),[n]);return(0,i.useEffect)((()=>(window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)})),[a]),(0,i.useEffect)(a),[e,n]}},50286:(e,t,n)=>{n.d(t,{HG:()=>u,Kf:()=>o,Mq:()=>a,Wb:()=>c,ZP:()=>p,dA:()=>l,ds:()=>s,ml:()=>d});var i=n(780280);function a(e){const{isMobile:t,isTablet:n}=e.userAgent;return n?"tablet":t?"phone":"desktop"}const r=()=>a((0,i.B)()),o=e=>"phone"===e,l=e=>"tablet"===e,s=e=>"desktop"===e,d=()=>o(r()),c=()=>l(r()),u=()=>s(r()),p=r},829407:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294);const a=e=>{(0,i.useEffect)(e,[])}},215292:(e,t,n)=>{n.d(t,{Z:()=>o,q:()=>r});var i=n(667294);const a=()=>{const[e,t]=(0,i.useState)(!1),[n,a]=(0,i.useState)(!1),[r,o]=(0,i.useState)(!1);return{active:e,focused:n,hovered:r,onBlur:()=>{a(!1),t(!1)},onFocus:()=>a(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>o(!0),onMouseLeave:()=>{o(!1),t(!1)},onMouseUp:()=>t(!1)}};function r({children:e}){return e(a())}const o=a},411465:(e,t,n)=>{n.d(t,{G:()=>l,Z:()=>s});var i=n(667294),a=n(616550),r=n(785893);const o=(0,i.createContext)(!0);function l({children:e}){const t=(0,a.useLocation)(),[n,l]=(0,i.useState)(!0),s=(0,i.useRef)(t);return(0,i.useEffect)((()=>{s.current!==t&&(s.current=t,l(!1))}),[t]),(0,r.jsx)(o.Provider,{value:n,children:e})}function s(){return(0,i.useContext)(o)}},19121:(e,t,n)=>{n.d(t,{$:()=>a,Z:()=>o});var i=n(425288);const{Provider:a,useHook:r}=(0,i.Z)("viewer"),o=r},46584:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294);const a=new Map;let r=null;const o=e=>{e.forEach((e=>{const t=a.get(e.target);t&&t(e)}))};function l({onVisibilityChanged:e,inAdsDesktopVideoExperiment:t,trackFullVisible:n,rootMargin:l}){const s=(0,i.useRef)(null);let d=!1;const c=()=>{var t;s.current instanceof HTMLElement&&(t=s.current,a.has(t))&&(d&&(e(!1),d=!1))},u=(0,i.useCallback)((i=>{s.current instanceof HTMLElement&&((e,t="-64px 0px 0px 0px",n)=>{const i={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};r=r||new window.IntersectionObserver(o,i),a.set(e,n),r.observe(e)})(s.current,i,(i=>{if(!a.has(s.current))return;const r=t?i.intersectionRatio>=.5:i.intersectionRatio>0||i.isIntersecting,o=n?i.intersectionRatio>=1:r,l=n?0===i.intersectionRatio:!o;!d&&o?(t=>{const n=t.intersectionRatio>0||t.isIntersecting;d=n,d&&e(!0)})(i):d&&l&&c()}))}),[s.current]);return(0,i.useEffect)((()=>(u(l),()=>{var e;s.current instanceof HTMLElement&&(c(),e=s.current,r.unobserve(e),a.delete(e))})),[u]),s}},964082:(e,t,n)=>{function i(e,t){const{organicVideosAutoplaying:n,promotedVideosAutoplaying:i}=t,a={...n,...i};for(const r in a){const{paused:t}=a[r];if(r!==e&&!t)return!1}return!0}n.d(t,{Z:()=>i})},36971:(e,t,n)=>{function i(e,t){const{organicVideosAutoplaying:n,promotedVideosAutoplaying:i}=t,a={...n,...i};return a[e]&&a[e].currentTime}n.d(t,{Z:()=>i})},868565:(e,t,n)=>{function i(e){const t=e.videos&&e.videos.video_list;return t&&Object.keys(t).length?t.V_HLSV3_MOBILE||t.V_HLSV4||t.V_720P:null}n.d(t,{Z:()=>i})},463045:(e,t,n)=>{function i(e,t){const{organicVideosAutoplaying:n,promotedVideosAutoplaying:i}=t,a={...n,...i};return!!a[e]&&!a[e].paused}n.d(t,{Z:()=>i})},905723:(e,t,n)=>{n.d(t,{Z:()=>i});const i={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},523563:(e,t,n)=>{function i(e,t,n){return Object.keys(e).reduce(((n,i)=>n+Math.abs(e[i]-t[i])),0)<=n}n.d(t,{Z:()=>i})},975540:(e,t,n)=>{function i({cropArea:{x:e,y:t,w:n,h:i},scaledWidth:a,scaledHeight:r}){return{x:e/a,y:t/r,w:n/a,h:i/r}}n.d(t,{Z:()=>i})},599611:(e,t,n)=>{function i({cropArea:{x:e=0,y:t=0,w:n=0,h:i=0},scaledWidth:a,scaledHeight:r}){return{h:Math.floor(i*r),w:Math.floor(n*a),x:Math.floor(e*a),y:Math.floor(t*r)}}n.d(t,{Z:()=>i})},94047:(e,t,n)=>{function i({cropArea:{x:e,y:t,w:n,h:i},cropSource:a,searchQuery:r,entrySource:o,title:l,trafficSource:s,imageSignature:d}){const c=[];e>=0&&t>=0&&n>=0&&i>=0&&c.push(`x=${e}`,`y=${t}`,`w=${n}`,`h=${i}`),a&&c.push(`cropSource=${a}`),o&&c.push(`entrySource=${o}`),r&&c.push(`q=${r}`),l&&c.push(`full_feed_title=${encodeURIComponent(l)}`),d&&c.push(`imageSignature=${d}`),s&&"unknown"!==s&&c.push(`rs=${s}`);return c.length?`?${c.join("&")}`:""}n.d(t,{Z:()=>i})},297852:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(94047);function a({cropArea:e,cropSource:t,entrySource:n,isProductOnlyFeed:a,isUnified:r,imageSignature:o,pinId:l,searchQuery:s,title:d,trafficSource:c,view:u}){return`/pin/${l}/${r?"related-products":"visual-search"}/${r||"products"!==u?"":"products/"}${a?"all/":""}${(0,i.Z)({cropArea:e,cropSource:t,entrySource:n,title:d,trafficSource:c,searchQuery:s,imageSignature:o})}`}},522679:(e,t,n)=>{n.d(t,{N:()=>p,t:()=>m});var i=n(667294),a=n(904431),r=n(924196),o=n(78714),l=n(214494),s=n(773285),d=n(425288),c=n(785893);const{Provider:u,useHook:p}=(0,d.Z)("LinkedAccount");function m({children:e}){const[t,n]=(0,i.useState)(!1),[d,p]=(0,i.useState)([]),{checkExperiment:m}=(0,s.F)(),h=m("ppm_p_gate").anyEnabled,g=(0,i.useCallback)((({businessName:e,thirdPartyApps:t,thirdPartyMarketingTrackingEnabled:i,nextUrl:s})=>{n(!0);const d={business_name:e,third_party_apps:t};return l.Z.create("BusinessOwnershipResource",d).callCreate({showError:!0}).then((()=>{i&&(e=>{a.Z.reportFacebookConversion(r.Z.FACEBOOK_ADVERTISER_ID,"CompleteRegistration",{content_name:"/business/convert"}),a.Z.reportPinterestConversion("track","lead",{lead_type:"Self-serve"}),a.Z.reportLinkedInConversion(r.Z.LINKEDIN_PARTNER_ID,r.Z.LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT),a.Z.reportGoogleConversion(r.Z.GOOGLE_ADWORDS_ID,r.Z.GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT,"/",e)})(h),n(!1),(e=>{(0,o.Z)(e?`/?next=${encodeURIComponent(e)}`:"/")})(s)})).catch((e=>(n(!1),Promise.reject({error:e}))))}),[n,h]),_=(0,i.useMemo)((()=>({createLinkedBusinessAccount:g,linkedBusinessCreationLoading:t,userAccounts:d,userAccountsRetrieved:p})),[g,t,p,d]);return(0,c.jsx)(u,{value:_,children:e})}},350445:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(898781),a=n(883119),r=n(785893);const o={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},l={__path:"M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},s={overlay:{__style:{backgroundColor:"#000"}}};function d({backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:d,pinTitle:c,pinId:u}){const p=(0,i.ZP)();return(0,r.jsxs)(a.Ee,{alt:c||p._('pin image', 'image of a pin', 'image of a pin'),naturalHeight:t,naturalWidth:n,src:e,children:[(0,r.jsx)(a.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:s.overlay}),(0,r.jsxs)(a.xu,{justifyContent:"center",direction:"column",display:"flex",position:"absolute",height:"100%",width:"100%","data-test-id":`video-end-card-${u}`,children:[(0,r.jsx)(a.iP,{rounding:2,children:(0,r.jsxs)(a.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,r.jsx)(a.JO,{accessibilityLabel:p._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website'),color:"light",dangerouslySetSvgPath:l,size:25}),(0,r.jsx)(a.xu,{margin:1}),(0,r.jsx)(a.xv,{color:"light",lineClamp:1,weight:"bold",children:p._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website')})]})}),(0,r.jsx)(a.xu,{margin:3}),(0,r.jsx)(a.iP,{onTap:d,rounding:2,children:(0,r.jsxs)(a.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,r.jsx)(a.JO,{accessibilityLabel:p._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video'),color:"light",dangerouslySetSvgPath:o,size:25}),(0,r.jsx)(a.xu,{margin:1}),(0,r.jsx)(a.xv,{color:"light",lineClamp:1,weight:"bold",children:p._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video')})]})})]})]})}},439506:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(702664),a=n(116303),r=n(46584),o=n(792182),l=n(407043),s=n(599997),d=n(883119),c=n(332611),u=n(785893);function p({isFullWidth:e,actionType:t,buttonAction:n,buttonText:p,experience:m,hideCompleteButton:h,imageAlt:g,imageUrl:_,openNewTab:v,avatarImageDetails:y,examplePinImage:f,titleText:x,titleTextColor:b,titleTextCustomization:w,descriptionText:S,descriptionTextCustomization:P}){var k,I;const{logContextEvent:T}=(0,l.v)(),j=(e=>0===e?3833:1===e?3834:2===e?3835:null)(t),C=(0,i.useDispatch)(),{experience_id:A,placement_id:E}=m||{},D=(0,r.Z)({onVisibilityChanged:e=>{e&&m&&(m.status="viewed",T({event_type:13,view_type:612,view_parameter:j}),C((0,c.UT)(E,A,!1,!0)))}}),{width:F}=(0,o.Z)()||{width:8},L=F-8,R=(0,s.IA)(F),z=L*R,M=R===s.LX||R===s.Ec,{url:O,full_name:Z}=y||{},N=z*s.l0,{url:U}=f||{},B=U?z*s.l0:0,K=U?s.ml*B:0,{color:H,fontStyle:$,fontWeight:W,horizontalAlignment:G,fontSize:V}=(0,s.Mf)(w||{},"mweb"),{color:q,fontStyle:Y,fontWeight:J,horizontalAlignment:X,fontSize:Q}=(0,s.Mf)(P||{},"mweb");return(0,u.jsx)(d.xu,{position:"relative",padding:1,marginBottom:2,ref:D,children:(0,u.jsxs)(d.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)",backgroundColor:e?"#003441":"education"}},color:e?"default":"education",paddingX:2,paddingY:4,position:"relative",rounding:4,children:[e&&_&&O&&(0,u.jsx)(d.xu,{height:z,width:L,children:(0,u.jsx)(d.Ee,{alt:g||x||"",color:"rgb(111, 91, 77)",naturalHeight:z,naturalWidth:L,src:_,fit:"cover",children:(0,u.jsx)(d.xu,{paddingY:O?12:3,children:(0,u.jsxs)(d.kC,{direction:"column",gap:2,alignItems:"center",flex:"grow",width:"100%",justifyContent:"center",children:[Z&&O&&(0,u.jsx)(d.xu,{height:N,width:N,children:(0,u.jsx)(a.Z,{name:Z,src:O,size:"fit"})}),(0,u.jsx)(d.xv,{align:G,color:b,italic:"italics"===$,weight:W,children:(0,u.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(k=H||b)&&void 0!==k?k:void 0,fontSize:M?s.SF:V}},children:x})}),(0,u.jsx)(d.xv,{align:X,italic:"italics"===Y,weight:J,children:(0,u.jsx)(d.xu,{paddingX:12,dangerouslySetInlineStyle:{__style:{color:null!=q?q:void 0,fontSize:M?s._e:Q}},children:S})})]})})})}),(!e||e&&U)&&(0,u.jsxs)(d.kC,{direction:"column",gap:2,alignItems:"center",flex:"grow",justifyContent:"center",children:[f&&U&&(0,u.jsx)(d.xu,{paddingY:4,children:(0,u.jsx)(d.zd,{height:B,width:K,rounding:4,children:(0,u.jsx)(d.Ee,{alt:"Your first saved Pin",naturalHeight:B,naturalWidth:K,src:U,fit:"cover"})})}),(0,u.jsx)(d.xv,{align:G,color:b,italic:"italics"===$,weight:W,children:(0,u.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(I=H||b)&&void 0!==I?I:void 0,fontSize:M&&e?s._e:V}},children:x})}),S&&P&&(0,u.jsx)(d.xu,{paddingX:e?2:0,paddingY:0,children:(0,u.jsx)(d.xv,{align:X,italic:"italics"===Y,weight:J,children:(0,u.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{color:null!=q?q:void 0,fontSize:M&&e?s._e:Q}},children:S})})}),!h&&(0,u.jsx)(d.kC.Item,{alignSelf:"center",children:(0,u.jsx)(d.xu,{marginTop:2,marginBottom:e?4:0,children:(0,u.jsx)(d.zx,{accessibilityLabel:p,color:"white",text:p,size:"md",role:"link",href:n,target:v?"blank":null,onClick:()=>{m&&(T({event_type:102,view_type:612,view_parameter:j}),C((0,c.CK)(E,A,!1,!0)))}})})})]})]})})}},8320:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(63552),a=n(883119),r=n(785893);const o={__style:{borderRadius:"4px",padding:"10px 14px"}},l={borderWidth:"1px",borderStyle:"solid",borderColor:"white"},s={__style:{borderRadius:"4px",padding:"10px 14px 9px 8px",whiteSpace:"nowrap"}},d=({accessibilityLabel:e,color:t,customStyles:n,forwardedRef:d,icon:c,inline:u=!1,minHeight:p=40,minWidth:m=70,onTouch:h,pressState:g,shape:_,text:v})=>{const y=(e=>"primary"===e||"transparent"===e||"dark"===e?"inverse":"default")(t),f=(({color:e,icon:t})=>t?s:"transparent"===e?{__style:{...o.__style,...l}}:o)({color:t,icon:c}),x=(0,r.jsx)(a.xu,{position:"relative",children:(0,r.jsx)(a.xu,{color:t,display:u?"inlineBlock":"flex",justifyContent:"center",minHeight:p,minWidth:m,dangerouslySetInlineStyle:"pill"===_?(b=n,{__style:{borderRadius:"24px",paddingTop:"10px",paddingBottom:"10px",paddingLeft:"14px",paddingRight:"14px",...b}}):f,children:(0,r.jsxs)(a.kC,{alignItems:"center",justifyContent:"center",children:[c&&(0,r.jsx)(a.xu,{paddingX:"check"===c?2:0,children:(0,r.jsx)(a.JO,{accessibilityLabel:e,color:y,icon:c,inline:!0,size:"check"===c?16:20})}),(0,r.jsx)(a.xv,{color:y,inline:!0,size:"300",lineClamp:1,weight:"bold",children:v})]})})});var b;return h?(0,r.jsx)(i.Z,{onTouch:h,rounding:"pill"===_?"pill":2,pressState:g||"none",children:(0,r.jsx)(a.xu,{ref:d,children:x})}):x}},167234:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),a=n(977558),r=n(883119),o=n(992813),l=n(697335),s=n(49028),d=n(785893);function c({children:e,className:t,forwardRef:n,offset:c=0,position:u,shouldShowShadow:p=!1,style:m={},top:h}){const{setIsContentHeaderPresent:g}=(0,o.i)();(0,i.useEffect)((()=>(g(!0),function(){g(!1)})),[]);const{currentScrollPosition:_,isScrolled:v,setSubheaderShadow:y}=(0,s.WQ)();(0,i.useEffect)((()=>(p&&y("contentHeader"),()=>{p&&y(null)})),[p]);let f=!1;"pending"!==h&&(f=null!=h?_>=h:v);const x=(0,l.t)(),b=(0,d.jsx)("div",{className:t,ref:n,style:{...m,top:x+c,...f&&p?{...a.Rz,zIndex:499}:{},...u&&"sticky"!==u?{position:u}:{}},children:e});return"sticky"===u?(0,d.jsx)(r.Le,{top:x+c,children:b}):b}},992813:(e,t,n)=>{n.d(t,{Z:()=>s,i:()=>l});var i=n(667294),a=n(425288),r=n(785893);const{Provider:o,useHook:l}=(0,a.Z)("ContentHeader");function s({children:e}){const[t,n]=(0,i.useState)(!1),a=(0,i.useMemo)((()=>({isContentHeaderPresent:t,setIsContentHeaderPresent:n})),[t]);return(0,r.jsx)(o,{value:a,children:e})}},57791:(e,t,n)=>{n.d(t,{MZ:()=>F,di:()=>R,Ai:()=>L});var i=n(667294),a=n(296679),r=n(8320),o=n(329900),l=n(926275),s=n(250059),d=n(149230),c=n(407043),u=n(48714),p=n(616550);const m=({children:e,external:t,externalQueryParams:n,target:i,href:a})=>{const{logContextEvent:r}=(0,c.v)(),o=(0,p.useHistory)(),l=(0,p.useLocation)();if(!a)return null;const m=(0,s.Z)(a);return e({navigate:e=>{e.preventDefault(),(0,d.Z)({url:m})||t?(0,u.lI)({href:m,queryParams:n,location:l},r,null):(0,u.G3)({event:e,href:a,history:o,target:"blank"===i?"blank":null})}})};var h=n(883119),g=n(785893);const _=({accessibilityLabel:e,children:t,external:n,externalQueryParams:i,inline:a=!1,newTab:r,nofollow:o,onTouch:l,onBlur:d,onFocus:c,pressState:u,rounding:p,to:_})=>(0,g.jsx)(m,{external:n,target:r?"blank":null,externalQueryParams:i,href:_,children:({navigate:n})=>(0,g.jsx)(h.rU,{accessibilityLabel:e,onBlur:d?({event:e})=>d(e):void 0,onFocus:c?({event:e})=>c(e):void 0,underline:"none",href:(0,s.Z)(_),display:a?"inlineBlock":"block",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),null==l||l(e),e.defaultPrevented||n(e)},rel:o?"nofollow":"none",rounding:p,tapStyle:(Array.isArray(u)?u:[u]).includes("compress")?"compress":"none",children:t})}),v=({external:e,externalQueryParams:t,newTab:n,onTouch:i,to:a,...o})=>(0,g.jsx)(m,{external:e,target:n?"blank":null,externalQueryParams:t,href:a,children:({navigate:e})=>(0,g.jsx)(r.Z,{onTouch:t=>{null==i||i(t),t.defaultPrevented||e(t)},...o})});var y=n(938917),f=n(383690),x=n(112690),b=n(19121),w=n(30287),S=n(598615),P=n(948376),k=n(867820),I=n(773285),T=n(780280),j=n(698330),C=n(844974),A=n(339363),E=n(53987);const D=(e,t=!1)=>function({isAppUpsellDisabled:n,...r}){const{children:s,clientTrackingParams:d,deeplinkUri:c,external:u,onTouch:m,refresh:_,to:v,viewParameter:D,viewType:F}=r,L=(0,y.Z)(),[R,z]=(0,i.useState)(!1),[M,O]=(0,i.useState)(!1),[Z,N]=(0,i.useState)(!1),[U,B]=(0,i.useState)("control"),{isAuth:K}=(0,b.Z)(),{userAgent:{platform:H,browserName:$},locale:W}=(0,T.B)(),G=(0,j.Tt)(),V=(0,x.Z)(),{checkExperiment:q}=(0,I.F)(),Y=(0,p.useLocation)(),J=(0,f.Z)();(0,i.useEffect)((()=>{!async function(){if("getInstalledRelatedApps"in navigator){N(!0);(await navigator.getInstalledRelatedApps()).length>0&&O(!0)}}()}),[]),(0,i.useEffect)((()=>{K||(0,k.My)(`unauth.app_upsell.has_app.${M.toString()}`,{browser:$,platform:H})}),[$,M,K,H]);const X=()=>{V({event_type:1701,view_type:F,view_parameter:D}),R&&z(!1)};return(0,g.jsxs)(h.xu,{"data-test-id":"deeplink-wrapper",children:[R&&(0,g.jsx)(a.Z,{clientTrackingParams:d,copyChangeGroup:U,deepLinkUri:c,isOpen:!0,onDismiss:()=>{V({component:14157,element:10308,event_type:10220,view_type:F||202,view_parameter:D,aux_data:{app_upsell_type:"deep-link-app-upsell-modal"}})},onOpenInApp:()=>{(0,C.Nh)("deeplinkBehavior","branchfallback"),X()},shouldTrackDismiss:!0,to:v,viewParameter:D,viewType:F,within:"deep-link-app-upsell-modal"}),(0,g.jsx)(o.Z,{children:i=>(0,g.jsx)(e,{...r,onTouch:e=>{const a=L&&!n&&K&&!u&&!_&&!(0,w.FP)(window)&&!("ios"===H&&(W||"").startsWith("ar"))&&(0,P.kp)((0,l.Z)(null==G?void 0:G.created_at));if(a){let t=!0,n=!1;if("string"==typeof c&&(c||"").startsWith("/pin/")&&((0,E.uM)(Y)||(0,E.am)(Y)||(0,E.C$)(Y))){if(Z){if(M&&c&&"android"===H&&q("mweb_auth_deep_link_app_installed_user").anyEnabled){J();const e=q("mweb_auth_deep_link_app_installed_user").group;"enabled_triggering_change"===e?t=!1:B(e)}M||B("enabled_copy_change_4")}}else q("mweb_auth_deep_link_other_triggering").anyEnabled&&(J(),t=!1,"enabled_no_deeplink"===q("mweb_auth_deep_link_other_triggering").group&&(n=!0));t?(e.stopPropagation(),e.preventDefault(),z(!0)):n||(e.stopPropagation(),e.preventDefault(),V({component:14347,element:13582,event_type:702,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:"deep-link-app-upsell-modal"}}),i(null!=c?c:(0,S.B)(Y),"deep-link-app-upsell-modal"))}else"branchfallback"!==(0,C.qn)("deeplinkBehavior")||(0,A.qn)("fallbackAttempt")||(e.stopPropagation(),e.preventDefault(),(0,A.Nh)("fallbackAttempt",1),i(c,"deep-link-app-upsell-modal",`${window.location.origin}${r=v,"string"==typeof r?r:`${r.pathname||""}${r.search?`?${r.search}`:""}`}`),X());var r;t&&a||!m||m(e)},children:s})})]})},F=D(_),L=D(v),R=D(r.Z,!0)},329900:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(172071),a=n(826067);const r="http://play.google.com/store/apps/details?id=com.pinterest",o=["access_token","new_password","new_password_confirm","password","next"],l=(e,t)=>t?(0,a.ru)(e,{invite_code:t}):e,s=(e,t,n)=>{if("ios"===t&&"string"==typeof e&&e.startsWith("discover/article/")){const t=e.split("/")[2];e=`discover_article/${t}/?is_deeplink=1`}return"string"==typeof e&&"shopping/"===e&&(e="?is_deeplink=1"),"string"==typeof e?l(e,n):"ios"===t||"ipad"===t?l(e.iOS,n):"android"===t?l(e.android,n):null},d=({deeplinkUri:e,fallbackUrl:t,invite_code:n,logContextEvent:l,platform:d,redirectToLite:c,unauthId:u,userAgent:p,within:m})=>{if(null==l||l({component:14347,element:13582,event_type:703,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),e){const h=(({deeplinkUri:e,invite_code:t,platform:n,fallbackUrl:i,unauthId:r})=>({deeplink_path:s(e,n,t),current_page_url:(0,a.Gw)("undefined"!=typeof window?window.location.href:"",o),install_id:r,utm_source:140,utm_medium:2152,...i?{af_r:i}:null}))({deeplinkUri:e,fallbackUrl:t,invite_code:n,platform:d,unauthId:u,userAgent:p});if(i.Z.increment("mweb.deeplink",1,{platform:d}),n&&i.Z.increment("mweb.deeplink.invite_code",1),i.Z.increment("mweb.deeplink.unauthId",1,{withUnauthId:Boolean(u)}),c){i.Z.increment("mweb.deeplink.lite_link",1),null==l||l({component:14347,element:13582,event_type:14540,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}});const e=(({unauthId:e})=>{const t=(0,a.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e});return{referrer:encodeURI(t)}})({unauthId:u});window.location.href=(0,a.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===d){const t=(({deeplinkUri:e,invite_code:t,platform:n,unauthId:i})=>{const r=JSON.stringify({deeplink_path:s(e,n,t),current_page_url:(0,a.Gw)("undefined"!=typeof window?window.location.href:"",o),install_id:i});return{referrer:(0,a.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:r})}})({deeplinkUri:e,invite_code:n,platform:d,unauthId:u});"getInstalledRelatedApps"in navigator?navigator.getInstalledRelatedApps().then((e=>{if(e.length>0){null==l||l({component:14347,element:13582,event_type:700,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}});const e=(0,a.ru)(window.location.href,h);window.open(e)}else null==l||l({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),window.location.href=(0,a.ru)(r,t)})).catch((()=>{i.Z.increment("mweb_android.deeplink.playStore.error",1)})):(null==l||l({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),window.location.href=(0,a.ru)(r,t))}else{if(i.Z.increment("mweb.deeplink.appsflyer_link",1),"ios"===d&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal"))return void(window.location.href=(0,a.ru)("https://pinterest.com/pinterest-predicts",h));null==l||l({component:14347,element:13582,event_type:14539,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),window.location.href=(0,a.ru)("https://pinterest.onelink.me/TVSr/21e04bfd",h)}}};var c=n(619277),u=n(948376),p=n(407043),m=n(780280),h=n(785893);function g({children:e,invite_code:t}){const{unauthId:n,userAgent:{platform:i,raw:a}}=(0,m.B)(),{logContextEvent:r}=(0,p.v)();return e((async(e,o,l)=>{r({component:14347,element:13582,event_type:3830,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:o}}),d({deeplinkUri:e,fallbackUrl:l,invite_code:t,logContextEvent:r,platform:i,redirectToLite:(0,u.Rp)({platform:i,userAgent:a}),unauthId:n,userAgent:a,within:o})}))}const _=e=>(0,h.jsx)(c.ty,{children:t=>(0,h.jsx)(g,{...e,invite_code:t})});_.displayName="DeepLinkNavigator";const v=_},79113:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294),a=n(124580),r=n(740990),o=n(223815),l=n(643010),s=n(968121),d=n(965900),c=n(883119),u=n(785893);const p={border:(0,l.Yc)()?void 0:"1px solid #efefef",width:"100vw",maxHeight:"100%",height:"100%",overflow:"auto",top:"0",left:"0",position:"fixed",backgroundColor:(0,l.Yc)()?"#000":"#fff",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"},m={modalOpen:{__style:{...p}},modalClose:{__style:{...p,transform:"translate3d(0px, 100%, 0px)"}}};function h({accessibilityModalLabel:e,allowClickAndDrag:t,children:n,isOpen:l}){const{setAppFocusState:p}=(0,d.I)(),h=(0,i.useRef)(null);return(0,i.useEffect)((()=>(l&&(a.Z.pause(),p(!1),document.body&&(document.body.style.overflow="hidden")),()=>{l&&(a.Z.resume(),p(!0),document.body&&(document.body.style.overflow=""))})),[l,p]),(0,u.jsx)(o.Z,{allowClickAndDrag:t,children:(0,u.jsx)(c.mh,{zIndex:s.b7,children:(0,u.jsx)(c.xu,{display:"inlineBlock",role:"dialog","aria-label":e,children:(0,u.jsx)(c.xu,{ref:h,dangerouslySetInlineStyle:{__style:l?m.modalOpen.__style:m.modalClose.__style},children:(0,u.jsx)(r.Z.Provider,{value:h.current,children:n})})})})})}},604344:(e,t,n)=>{n.d(t,{Zt:()=>ge,iK:()=>_e,ZP:()=>ve,cV:()=>pe});var i=n(667294),a=n(702664),r=n(157796),o=n(391254),l=n(283698),s=n(313047),d=n(100183),c=n(639952),u=n(81636),p=n(898781),m=n(883119),h=n(785893);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _="BizNuxHomefeedLoader",v=[140,220,265],y=["#E2780D","#0074e8","#0FA573","#FAB904","#133A5E","#FF8A8A"],f=e=>({position:"absolute",width:"100%",height:"100%",top:"0px",left:"0px",zIndex:"1",pointerEvents:"none",...e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:"1.15s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${_}_FadeOut`,animationDuration:".5s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${_}_FadeOut`}:{}}),x=e=>e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:".5s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${_}_FadeOut`,animationDuration:".4s",animationDelay:".5s",animationFillMode:"forwards",animationName:`${_}_FadeOut`}:{},b=[`${_}_FadeOut {\n    from { opacity: 1 }\n    to { opacity: 0 }\n  }`,`${_}_SlideUp {\n    from {\n      -webkit-transform: translateY(100vh);\n      transform: translateY(100vh);\n    }\n    to {\n      -webkit-transform: translateY(0);\n      transform: translateY(0);\n    }\n  }`];class w extends i.PureComponent{constructor(...e){super(...e),g(this,"state",{enterAnimationFinished:!1,startExitAnimation:!1}),g(this,"enterAnimationDidFinished",(()=>{this.setState({enterAnimationFinished:!0})})),g(this,"startExitAnimation",(()=>{const{dismissLoader:e}=this.props;this.setState({startExitAnimation:!0},(()=>{this.exitAnimationTimeout=setTimeout((()=>{e()}),1700)}))}))}componentDidMount(){window.scrollTo(0,0),this.enterAnimationTimeout=setTimeout((()=>{this.enterAnimationDidFinished()}),2e3)}componentDidUpdate(){const{homefeedLoading:e}=this.props,{enterAnimationFinished:t,startExitAnimation:n}=this.state;!t||e||n||(0,l.Z)(this.startExitAnimation)}componentWillUnmount(){clearTimeout(this.enterAnimationTimeout),clearTimeout(this.exitAnimationTimeout)}get gridCellDimensionsByColumn(){const{gridContainerRef:e}=this.props;if(!e.current)return null;const t=e.current.querySelectorAll(".PinCard__imageWrapper"),n=Array.from({length:this.numberOfColumns},(()=>[]));for(let i=0;i<t.length;i+=1){const e=t[i].getBoundingClientRect();n[Math.round(e.left/(window.innerWidth/this.numberOfColumns))].push(e)}return n}get numberOfColumns(){return Math.max(Math.floor(window.innerWidth/200),2)}computeGridCellLayout(e,t,n){const i=this.numberOfColumns+1,a=(window&&window.innerWidth-16*i)/this.numberOfColumns;return{left:e*a+16*(e+1),top:n,width:a,height:v[(e+t)%v.length]}}renderGrid(){const{selectedTopics:e}=this.props,{startExitAnimation:t}=this.state,n=Array(this.numberOfColumns).fill(s.DEFAULT_HEIGHT),i=this.gridCellDimensionsByColumn,a=e.map(((e,a)=>{const r=a%this.numberOfColumns,o=Math.floor(a/this.numberOfColumns),l=y[a%y.length],s=n[r],d=this.computeGridCellLayout(r,o,s),c=(({color:e,startAnimation:t,originDimension:n,destinationDimension:i})=>{const a=i&&i.height>0?{top:i.top,left:i.left,width:i.width,height:i.height}:{opacity:0};return{position:"absolute",WebkitTransitionDuration:".5s",WebkitTransitionDelay:".6s",WebkitTransitionProperty:"all",WebkitTransitionTimingFunction:"ease-in-out",transitionDuration:".5s",transitionDelay:".6s",transitionProperty:"all",transitionTimingFunction:"ease-in-out",height:n.height,width:n.width,left:n.left,top:n.top,backgroundColor:e,borderRadius:"8px",...t?a:{}}})({color:l,startAnimation:t,originDimension:d,destinationDimension:i&&i[r][o]});return n[r]+=16+d.height,(0,h.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:c},children:(0,h.jsx)(m.xu,{margin:5,display:"flex",justifyContent:"start",alignItems:"start",dangerouslySetInlineStyle:{__style:x(t)},children:(0,h.jsx)(m.X6,{color:"light",size:"500",children:e.name})})},a)}));return(0,h.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{position:"absolute",height:"100%",width:"100%",left:0,top:0,WebkitTransform:"translateY(100vh)",WebkitAnimationDuration:".8s",WebkitAnimationDelay:"1.2s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${_}_SlideUp`,transform:"translateY(100vh)",animationDuration:".8s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${_}_SlideUp`}},children:a})}render(){const{startExitAnimation:e}=this.state;return(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(o.Z,{unsafeCSS:(0,d.Ll)(b)}),(0,h.jsx)(m.xu,{color:"default",dangerouslySetInlineStyle:{__style:f(e)},children:(0,h.jsxs)(m.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(r.Z,{duration:3700,finalProgress:100}),(0,h.jsx)(m.xu,{margin:10,dangerouslySetInlineStyle:{__style:{WebkitAnimationDuration:".5s",WebkitAnimationDelay:"1.4s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${_}_FadeOut`,animationDuration:".5s",animationDelay:"1.25s",animationFillMode:"forwards",animationName:`${_}_FadeOut`}},children:(0,h.jsx)(m.X6,{children:this.props.i18n._('Personalizing your feed with...', 'Loading homefeed details', 'Loading homefeed details')})})]}),this.renderGrid()]})})]})}}function S(e){const t=(0,p.ZP)(),n=(0,a.useSelector)((({topics:e})=>e)),i=(0,a.useDispatch)();return(0,u.Q)({view_type:24,view_parameter:261}),(0,h.jsx)(w,{...e,dismissLoader:()=>i((0,c.MI)(!1)),i18n:t,selectedTopics:Object.keys(n).filter((e=>n[e].is_followed)).map((e=>n[e]))})}var P=n(223019),k=n(491563),I=n(920231),T=n(698629),j=n(535996),C=n(439506),A=n(368156),E=n(934494),D=n(112690),F=n(19121),L=n(773285),R=n(350118),z=n(861411),M=n(616550);function O({pin:e,width:t,height:n,showDivider:i}){var a,r,o,l,s,d,c;const u=null===(a=e.images)||void 0===a?void 0:a["236x"];return(0,h.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:i?{borderRight:"2px solid #fff"}:{}},children:(0,h.jsx)(m.GH,{contentAspectRatio:(null!==(r=null==u?void 0:u.width)&&void 0!==r?r:1)/(null!==(o=null==u?void 0:u.height)&&void 0!==o?o:1),height:n,width:t,children:(0,h.jsx)(m.Ee,{alt:null!==(l=e.description)&&void 0!==l?l:"",naturalWidth:null!==(s=null==u?void 0:u.width)&&void 0!==s?s:1,naturalHeight:null!==(d=null==u?void 0:u.height)&&void 0!==d?d:1,src:null!==(c=null==u?void 0:u.url)&&void 0!==c?c:""})})})}function Z({storyId:e,slotIndex:t}){const n=(0,M.useHistory)(),r=(0,M.useLocation)(),{isAuth:o}=(0,F.Z)(),{checkExperiment:l}=(0,L.F)(),[s,d]=(0,i.useState)(0),c=(0,i.useRef)(),u=(0,D.Z)(),p=(0,R.S6)();(0,i.useLayoutEffect)((()=>{const e=c.current;e&&d(e.offsetWidth)}),[]);const g=(0,a.useSelector)((({stories:t})=>t[e])),_=g.objects.map((e=>p(e.id))).filter(Boolean).slice(0,2),{story_type:v,action:y}=g,f=`${r.pathname}products/${r.search}`,x=()=>{u({component:200,event_type:102,view_parameter:3050,view_type:72}),n.push(f)};return l(o?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,h.jsx)(z.qS,{auxData:{story_type:v,content_ids:_.map((e=>e.id)),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:({impressionTrackerRef:e})=>s?(0,h.jsx)(m.xu,{padding:2,ref:e,children:(0,h.jsx)(m.zd,{rounding:2,children:(0,h.jsxs)(m.iP,{onTap:x,children:[(0,h.jsx)(m.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:_.map(((e,t)=>(0,h.jsx)(O,{pin:e,width:(s-16)/2-1,height:s-16,showDivider:!t},e.id)))}),(0,h.jsx)(m.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,h.jsx)(m.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,h.jsx)(m.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:(0,h.jsx)(m.xv,{weight:"bold",children:y.text})})})})]})})}):(0,h.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative"})}):(0,h.jsx)(z.Hs,{auxData:{story_type:v,content_ids:_.map((e=>e.id)),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:s?(0,h.jsx)(m.xu,{padding:2,children:(0,h.jsx)(m.zd,{rounding:2,children:(0,h.jsxs)(m.iP,{onTap:x,children:[(0,h.jsx)(m.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:_.map(((e,t)=>(0,h.jsx)(O,{pin:e,width:(s-16)/2-1,height:s-16,showDivider:!t},e.id)))}),(0,h.jsx)(m.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",children:(0,h.jsx)(m.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,h.jsx)(m.xu,{rounding:"pill",paddingX:4,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",color:"secondary",children:(0,h.jsx)(m.xv,{weight:"bold",children:y.text})})})})]})})}):(0,h.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",ref:c})})}var N=n(172071),U=n(706794),B=n(566102),K=n(946036),H=n(163321),$=n(962551),W=n(826067);const G=["#CFFFCA","#D7EDFF","#DAD4FF","#DAFFF6","#FFE2EB","#FFE4C1","#FFFD92"],V=e=>G[e.charCodeAt(0)%G.length];function q({guides:e,storyId:t,slotIndex:n,titleFormat:a}){var r;const{isAuth:o}=(0,F.Z)(),{checkExperiment:l}=(0,L.F)(),s=null!==(r=(0,W.mB)((0,M.useLocation)().search).q)&&void 0!==r?r:"";return l(o?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,h.jsx)(z.qS,{auxData:{story_type:"search_guides"},component:200,loggingId:t,objectIdStr:t,slotIndex:n,viewParameter:43,viewType:2,children:({impressionTrackerRef:t})=>(0,h.jsxs)(m.xu,{ref:t,children:[a&&(0,h.jsx)(m.xu,{paddingY:1,marginTop:2,children:(0,h.jsx)(m.xv,{align:"center",children:a})}),(0,h.jsx)($.Z,{guides:e.map((e=>({display:e.display,dominant_color:V(e.display),position:-1,term:e.term}))),isSlot0Style:!0,query:s})]})}):(0,h.jsx)(z.Hs,{auxData:{story_type:"search_guides"},component:200,loggingId:t,objectIdStr:t,slotIndex:n,viewParameter:43,viewType:2,children:(0,h.jsxs)(i.Fragment,{children:[a&&(0,h.jsx)(m.xu,{paddingY:1,marginTop:2,children:(0,h.jsx)(m.xv,{align:"center",children:a})}),(0,h.jsx)($.Z,{guides:e.map((e=>({display:e.display,dominant_color:V(e.display),position:-1,term:e.term}))),isSlot0Style:!0,query:s})]})})}function Y({slotIndex:e,storyId:t,viewParameter:n,viewType:a,storyData:r}){const{actionText:o,actionUrl:l,contextualSearchFromObjects:s,customProperties:d,descriptionFormat:c,displayOptions:u,experience:p,storyType:g,titleFormat:_}=r;switch((0,i.useEffect)((()=>{N.Z.increment("webapp.graphql.pinStory",.1,{viewType:a,storyType:g})}),[a,g]),g){case K.q:{var v,y,f;if(!d||!u)return null;const{numColumnsRequested:e,titleTextColor:t}=u;return 2===e?null:(0,h.jsx)(C.Z,{isFullWidth:!1,actionType:d.actionType,buttonAction:null!=l?l:"",buttonText:null!=o?o:"",experience:null!=p?p:void 0,hideCompleteButton:d.hide_complete_button,imageAlt:d.image_alt,imageUrl:d.image,openNewTab:d.open_new_tab,avatarImageDetails:null!==(v=d.avatar_image_details)&&void 0!==v?v:{},examplePinImage:null!==(y=null===(f=d.example_pin_image_details)||void 0===f?void 0:f.originals)&&void 0!==y?y:{},titleText:null!=_?_:"",titleTextColor:H.e[t],titleTextCustomization:d.title_text_customization,descriptionText:null!=c?c:"",descriptionTextCustomization:d.description_text_customization})}case"feed_card_default":case"feed_card_video":return(0,h.jsx)(H.Z,{buttonAction:null!=l?l:"",buttonCustomization:d.button_customization,buttonText:null!=o?o:"",experience:null!=p?p:void 0,hideCompleteButton:d.hide_complete_button,imageAlt:d.image_alt,imageUrl:d.image,openNewTab:d.open_new_tab,storyType:g,titleText:null!=_?_:"",titleTextColor:H.e[u.titleTextColor],titleTextCustomization:d.title_text_customization,videoPin:d.video_pin,videoPlaceholderImage:d.video_placeholder_image});case"general_shopping_upsell":return(0,h.jsx)(H.Z,{buttonAction:null!=l?l:"",buttonText:null!=o?o:"",imageAlt:null==d?void 0:d.image_alt,imageUrl:null==d?void 0:d.image,storyType:g,titleText:null!=_?_:"",titleTextColor:H.e[u.titleTextColor]});case"BUBBLE_ONE_COL":return(0,h.jsx)(m.xu,{padding:2,children:(0,h.jsx)(A.Z,{slotIndex:e,storyId:t,viewType:a,viewParameter:n})});case"pinner_authority":case"pinner_authority_unified":return(0,h.jsx)(U.Z,{storyId:t,slotIndex:e});case"stela_in_flashlight_onecol":return(0,h.jsx)(Z,{storyId:t,slotIndex:e});case"search_guides":return(0,h.jsx)(q,{guides:null!=s?s:[],slotIndex:e,storyId:t,titleFormat:null!=_?_:""});default:return null}}const J=(0,E.Z)({useGraphQLAdapter:()=>null,useLegacyAdapter:e=>{const t=(0,a.useSelector)((({stories:t})=>t[e]));if(!t)return null;const{action:n,container_type:i,custom_properties:r,display_options:o,experience:l,story_type:s,title:d,description:c,objects:u}=t;if(!s)return null;const p=u,m=null==p?void 0:p.filter((e=>"contextual_search"===e.schema||"contextual_search"===e.type)).map((e=>{var t,n;return{schema:"contextual_search",display:null!==(t=e.display)&&void 0!==t?t:"",term:null!==(n=e.term)&&void 0!==n?n:""}}));return{actionText:null==n?void 0:n.text,actionUrl:null==n?void 0:n.url,customProperties:r,displayOptions:o?{numColumnsRequested:o.num_columns_requested,titleTextColor:o.title_text_color}:null,experience:l,storyType:(0,B.Z)({containerTypeIsItemGrid:56===i,storyType:s})?"BUBBLE_ONE_COL":s,titleFormat:null==d?void 0:d.format,descriptionFormat:null==c?void 0:c.format,contextualSearchFromObjects:m}}}),X=e=>(0,h.jsx)(J,{input:{enabled:!1,data:e.storyId},children:({data:t})=>t&&(0,h.jsx)(Y,{...e,storyData:t})});var Q=n(889884),ee=n(740990),te=n(182476),ne=n(784590),ie=n(844887),ae=n(780280),re=n(317254),oe=n(50286),le=n(444445),se=n(679031),de=n(90221);function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ue={},pe=e=>{ue[e]&&ue[e].handlePullToRefresh()},me=()=>{const{plpImageRenderData:e}=(0,ie.HW)(),[t]=e;return t?t.pin_id:null};class he extends i.PureComponent{constructor(...e){super(...e),ce(this,"state",{refreshing:!1,unauthLandingPinStateForAuthHomefeed:this.props.authHomefeedComponentDidUpdate?{pinId:me(),feedItem:null}:null}),ce(this,"backOnlineAutoFetchResource",(()=>{this.props.pagination.loadNext()})),ce(this,"handlePullToRefresh",(()=>{this.props.pagination.refetch(),this.setState({refreshing:!0})})),ce(this,"gridContainerRef",(0,i.createRef)()),ce(this,"renderFeedPin",((e,t)=>{const{feedItemProps:n,location:i,performanceOptimization:a,renderSquarePins:r,showSeoMetadata:o,squarePins:l,trafficSource:s,duploUnauthRelatedPinsAutoplayExpGroup:d}=this.props,{auxData:c,componentType:u,feedback:p,imageOnly:m,impressionData:g,objectIdStr:_,oneTapSave:v,onFeedItemClick:y,onPinLinkClick:f,shouldAllowProductPriceIndicator:x,showSeoMetadata:b,viewData:w,viewParameter:S,viewType:P}=n||{},k=(i.search||"").includes("force_seo"),I=!(null==a||!a.lazyLoadBelowFoldIndex)&&t>a.lazyLoadBelowFoldIndex,T=!(null==a||!a.priorityFetchAboveFoldIndex)&&t<=a.priorityFetchAboveFoldIndex;return(0,h.jsx)(j.default,{auxData:c,componentType:u||0,duploFeedItemProps:{onPinClick:y,onPinLinkClick:f,showSeoMetadata:o||k||b},duploIsSquarePin:r||l,duploLazyLoadImage:I,duploOneTapSave:v,duploPriorityFetchImage:T,duploShouldAllowProductPriceIndicator:x,feedback:p,imageOnlyOption:m?"image-only":"default",impressionData:g,objectIdStr:_,pinId:e.id,slotIndex:t,trackingParams:e.trackingParams,trafficSource:s,viewData:w,viewParameter:S,duploUnauthRelatedPinsAutoplayExpGroup:d,viewType:P||1})}))}componentDidMount(){var e,t;window.addEventListener("online",this.backOnlineAutoFetchResource),e=this.props.feedKey,t=this,ue[e]=t}componentWillUnmount(){var e;window.removeEventListener("online",this.backOnlineAutoFetchResource),e=this.props.feedKey,delete ue[e]}componentDidUpdate(e){const{refreshing:t,unauthLandingPinStateForAuthHomefeed:n}=this.state,{feedItems:i,authHomefeedComponentDidUpdate:a}=this.props,r=t&&e.pagination.isLoadingNext&&!this.props.pagination.isLoadingNext;if(r&&this.setState({refreshing:!1}),a&&n){const t=a({feedItems:i,prevFeedItems:e.feedItems,finishedRefresh:r,unauthLandingPinStateForAuthHomefeed:n});t&&this.setState({unauthLandingPinStateForAuthHomefeed:t})}}render(){const{deviceType:e,emptyState:t,feedItemProps:n,feedItems:a,feedItemsAdjustment:r,feedKey:o,gridConfig:l,pagination:s,pullToRefresh:d,renderFeedItem:c,serverRender:u,showBizNuxHomefeedLoader:p,trafficSource:g,visuallyCompleteProfilerOptions:_}=this.props,{unauthLandingPinStateForAuthHomefeed:v}=this.state,y=null!=v&&v.feedItem&&a.length?[v.feedItem,...a]:a,{viewParameter:f,viewType:x}=n||{},{key:b}=l||{},w=o+(b?`|${b}`:""),j="user_search"===g,C=j?window.innerWidth-16:200,A={columnWidth:"desktop"===e?le.yF:C,renderItem:({data:e,itemIdx:t})=>{if(c){const n=c(e,t);if("FALLBACK_TO_DEFAULT"!==n)return n}switch(e.type){case"pin":return(0,h.jsx)(se.cn,{children:this.renderFeedPin(e,t)});case"user":return(0,h.jsx)(k.Z,{truncateName:!0,userId:e.id,userSearchRepStyle:"user_search"===g,viewParameter:f,viewType:x});case"board":return(0,h.jsx)(P.Z,{boardId:e.id,type:"grid",viewParameter:f,viewType:x});case"topic":return(0,h.jsx)(te.Z,{id:e.id,shouldClickthrough:!0,showFollowButton:!0,showFollowerCount:!0,viewParameter:f,viewType:x});case"story":return"number"==typeof f?(0,h.jsx)(X,{slotIndex:t,storyId:e.id,viewParameter:f,viewType:x||1}):null;case"FEED_BREAK_IN":return r&&"breakIn"===r.type&&r.value.content;default:return null}},gutterWidth:"desktop"===e?4*le.jC:void 0,loadItems:s.loadNext,minCols:j?1:2,...l},E=!p&&s.isLoadingNext&&0===y.length&&!this.state.refreshing,[D,F,L]="fullWidthBreakIn"===(null==r?void 0:r.type)?[y.slice(0,r.value.index),r.value.content,y.slice(r.value.index)]:[y,null,[]],R="desktop"===e&&"flashlight"===g,z=R?0:le.qG;return(0,h.jsxs)(m.xu,{"data-test-id":"MobileFeed",children:[(0,h.jsx)(Q.Z,{enabled:!!d,onPull:this.handlePullToRefresh,refreshing:this.state.refreshing}),(0,h.jsxs)(m.xu,{marginStart:z,marginEnd:z,"data-test-id":"grid",ref:this.gridContainerRef,opacity:this.state.refreshing?.5:1,children:[(0,h.jsx)(re.Z,{includeBackgroundImages:null==_?void 0:_.includeBackgroundImages,includeVideos:null==_?void 0:_.includeVideos,isAtEndOfFeed:!s.hasNext,itemCount:y.length,pinData:null==_?void 0:_.pins,children:y.length?(0,h.jsx)(m.xu,{"data-test-id":"feed",marginTop:(0,se.kk)({isDesktop:"desktop"===e}),children:(0,h.jsx)(ee.Z.Consumer,{children:e=>(0,h.jsx)(i.Fragment,{children:(0,h.jsxs)(se.c$,{children:[(0,h.jsx)(I.Z,{cacheKey:w,id:u?o:void 0,items:D,scrollContainerRef:e,serverRender:u,...A}),F,L.length>0&&(0,h.jsx)(I.Z,{cacheKey:`${w}_afterBreak`,items:L,scrollContainerRef:e,...A})]})})})}):s.isLoadingNext?(0,h.jsx)(se.gG,{}):null!=t?t:null}),E&&(0,h.jsx)(m.xu,{column:12,paddingY:2,children:(0,h.jsx)(T.Z,{partialViewportWidth:R})}),p&&(0,h.jsx)(S,{homefeedLoading:s.isLoadingNext,gridContainerRef:this.gridContainerRef})]})]})}}function ge({feedItems:e,pagination:t,...n}){const{feedItemsAdjustment:i}=n,r=(0,M.useLocation)(),o=(0,oe.ZP)(),{isAuthenticated:l,isBot:s}=(0,ae.B)(),{isBizNuxHomefeedLoadShown:d}=(0,a.useSelector)((({session:e})=>e));let c=e;return"breakIn"===(null==i?void 0:i.type)?c=(0,de.N)({items:e,breakIn:i.value}):"offset"===(null==i?void 0:i.type)&&(c=e.slice(i.value)),(0,h.jsx)(he,{...n,deviceType:o,feedItems:c,isAuthenticated:l,pagination:t,location:r,showBizNuxHomefeedLoader:!!d,showSeoMetadata:s||!l})}function _e({resource:{isAtEnd:e,isFetching:t,fetchMore:n,refresh:i},...r}){const o=(0,a.useSelector)((({feeds:e})=>{var t;return null!==(t=e[r.feedKey])&&void 0!==t?t:[]}));return(0,h.jsx)(ge,{...r,feedItems:o,pagination:{hasNext:!e,isLoadingNext:t,loadNext:()=>n(),refetch:()=>i()}})}function ve({resourceConfig:e,...t}){const n=(0,ne.Z)(e);return(0,h.jsx)(_e,{...t,resource:n})}},815613:(e,t,n)=>{n.d(t,{Z:()=>S});var i=n(829407),a=n(898781),r=n(112690),o=n(927383),l=n(201155),s=n(667679),d=n(52022),c=n(19121),u=n(945698),p=n(62409),m=n(773285),h=n(350118),g=n(698330),_=n(50286),v=n(343341),y=n(640064),f=n(867820),x=n(883119),b=n(785893);const w=({children:e,pulsar:t,testId:n})=>t.show?(0,b.jsx)(x.xu,{position:"relative","data-test-id":n,children:(0,b.jsxs)(x.iP,{tapStyle:"none",onTap:t.onClick,children:[(0,b.jsx)(x.xu,{position:"absolute",marginTop:-5,dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},children:e}),(0,b.jsx)(x.xu,{position:"absolute",marginTop:-12,dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},children:(0,b.jsx)(x.o3,{})})]})}):(0,b.jsx)(x.xu,{"data-test-id":n,children:e});function S({auxData:e,disabled:t,disableLog:n,followEventType:S,id:P,inline:k,invertColors:I,isFollowed:T,isIdeaPin:j,isLegoEnabled:C,isSecondaryButton:A,isUserFollowButton:E,isUserMe:D,onFollow:F,onUnfollow:L,pinId:R,shouldUseLegoColors:z,showPulsar:M,size:O,textType:Z="FollowFollowing",unfollowEventType:N,viewParameter:U,viewType:B}){const K=(0,a.ZP)(),H=(0,_.HG)(),{showToast:$}=(0,v.F9)(),W=(0,d.Z)(),G=(0,r.Z)(),V=(0,s.Z)(),{checkExperiment:q}=(0,m.F)(),Y=(0,o.Z)(),J=(0,c.Z)(),X=J&&J.isAuth,{unauthFollowUserId:Q,setUnauthFollowUserId:ee}=(0,y.f)(),te=(0,g.mN)()(P),ne=(0,h.S6)()(null!=R?R:""),{link_domain:ie,native_creator:ae,origin_pinner:re,pinner:oe}=ne||{},le=(0,p.wS)(ie,ae,re,oe),se=null!=te?te:le;(0,i.Z)((()=>{!H&&X&&Q&&P&&Q===P&&F(P)}));const de=Y({fn:()=>{X?T?(L(P),n||G({event_type:N,view_type:B,view_parameter:U,object_id_str:P,aux_data:e})):(F(P),E&&$((({hideToast:e})=>{if(!se)return null;const t=se.username?`/${se.username}/`:"";return(0,b.jsx)(l.Z,{handleHide:e,text:K._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow'),userId:P,href:t,imageUrl:se.image_medium_url})})),n||G({event_type:S,view_type:B,view_parameter:U,object_id_str:P,aux_data:e})):((0,f.My)(`mweb_unauth_follow_button.tap.${String(B)}`),5===B&&26===S&&(0,f.My)("mweb_unauth_board_page_follow_button.tap"),(0,f.NC)(T?"press_profile_unfollow":"press_profile_follow"),W({action:"click",item:"board-follow-button"}),V({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:j?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:H&&q("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!H&&q("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0}),H||ee(null!=P?P:""),(0,f.NC)("clickthrough"))},modalHeader:(0,u.N4)({i18n:K,toFollow:!T})}),ce=!T&&!!M,ue=()=>{if(D)return K._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===Z)return T?K._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):K._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');const e="FollowUnfollow"===Z?K._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):K._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return T?e:K._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,b.jsx)(w,{pulsar:ce?{show:!0,onClick:de}:{show:!1},testId:D||T?"board-unfollow-button":"board-follow-button",children:(0,b.jsx)(x.zx,{color:z||"AddRemove"===Z||!C&&A||T?"gray":"red",disabled:D||t,fullWidth:k,onClick:ce?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),n||G({event_type:101,component:13672,element:11951,object_id_str:P,view_type:B,view_parameter:U,aux_data:e}),de()},selected:I?!T:z&&T||!!T&&A,size:O,text:ue(),accessibilityLabel:ue()})})}},427806:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),a=n(785893);function r({text:e}){return(0,a.jsx)(i.xu,{display:"visuallyHidden",children:(0,a.jsx)(i.X6,{accessibilityLevel:1,children:e})})}},697335:(e,t,n)=>{n.d(t,{c:()=>a,t:()=>r});var i=n(883521);function a({children:e}){const{height:t}=(0,i.J)();return e(t)}function r(){const{height:e}=(0,i.J)();return e}},883521:(e,t,n)=>{n.d(t,{J:()=>d,Z:()=>m});var i=n(667294),a=n(522679),r=n(425288),o=n(977558),l=n(785893);const{Provider:s,useHook:d}=(0,r.Z)("Header"),c={childList:!0,attributes:!0,subtree:!0},u={height:o.cI,isInBiznuxFullscreen:!1,repinPinId:null,repinStartAnimation:!1,showAccountMenuFlyout:!1};function p(e,t){switch(t.type){case"showAccountMenuFlyout":return{...e,showAccountMenuFlyout:!0};case"hideAccountMenuFlyout":return{...e,showAccountMenuFlyout:!1};case"showRepinAnimation":return{...e,repinStartAnimation:!0,repinPinId:t.payload};case"hideRepinAnimation":return{...e,repinStartAnimation:!1,repinPinId:null};case"updateHeight":return{...e,height:t.payload};case"updateIsInBiznuxFullscreen":return{...e,isInBiznuxFullscreen:t.payload};default:throw new Error("action type not supported")}}function m({children:e}){const t=(0,i.useRef)(null),[{height:n,isInBiznuxFullscreen:r,repinPinId:d,repinStartAnimation:m,showAccountMenuFlyout:h},g]=(0,i.useReducer)(p,u);(0,i.useEffect)((()=>{const e=document.getElementById(o.WZ),n=()=>{e&&g({type:"updateHeight",payload:e.clientHeight})};return e&&"undefined"!=typeof MutationObserver&&(t.current=new MutationObserver(n),t.current.observe(e,c)),()=>{var e;null===(e=t.current)||void 0===e||e.disconnect()}}));const _=(0,i.useMemo)((()=>({height:n,isInBiznuxFullscreen:r,repinPinId:d,repinStartAnimation:m,showAccountMenuFlyout:h,updateHeaderState:g})),[g,n,r,d,m,h]);return(0,l.jsx)(s,{value:_,children:(0,l.jsx)(a.t,{children:e})})}},977558:(e,t,n)=>{n.d(t,{L1:()=>r,Rz:()=>s,WZ:()=>o,cI:()=>a,fe:()=>l,hu:()=>i});const i=64,a=80,r=22,o="HeaderContent",l=671,s={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},49028:(e,t,n)=>{n.d(t,{Hv:()=>d,WQ:()=>s});var i=n(667294),a=n(766935),r=n(425288),o=n(785893);const{Provider:l,useHook:s}=(0,r.Z)("HeaderShadow");function d({children:e}){const[t,n]=(0,i.useState)(!1),[r,s]=(0,i.useState)(0),[d,c]=(0,i.useState)(null);return(0,i.useEffect)((()=>{const e=(0,a.Z)((()=>{n(window.scrollY>0),s(window.scrollY)}),50);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]),(0,o.jsx)(l,{value:{currentScrollPosition:r,isScrolled:t,setSubheaderShadow:c,subheaderShadow:d},children:e})}},889884:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294),a=n(883119),r=n(785893);function o({text:e,isSelected:t,icon:n,animationType:i,position:o,hasStartPulling:l,isExecuted:s}){return(0,r.jsxs)(a.xu,{display:"flex",direction:"column",alignItems:"center",marginBottom:6,children:[(0,r.jsx)(a.xu,{color:t?"dark":"secondary","data-test-id":"action-animated-icon",rounding:"circle",padding:l?4:0,dangerouslySetInlineStyle:t&&s?{__style:{transform:"rotate(360deg)",transition:"all .9s ease-out"}}:{__style:{transition:"all .3s ease-out",marginTop:t&&"move"===i?40:0}},children:(0,r.jsx)(a.JO,{size:100*o<24?100*o:24,icon:n,accessibilityLabel:e,color:t?"light":"dark"})}),(0,r.jsx)(a.xu,{padding:1,"data-test-id":"action-animated-text",dangerouslySetInlineStyle:{__style:{opacity:t?1:0,transition:"all .3s ease-out"}},children:(0,r.jsx)(a.xv,{align:"center",size:"100",children:e})})]})}var l=n(898781);function s({enabled:e,onSelect:t,refreshing:n}){const a=(0,i.useRef)(null),[r,o]=(0,i.useState)(0),[l,s]=(0,i.useState)(!1),d=n?0:r/250,c=d>0,u=()=>{s(!1),o(0)};(0,i.useEffect)((()=>{if(e){const e=e=>{window.scrollY<=0&&!n&&(a.current=e.touches[0].clientY)},i=e=>{if(a.current){const t=.5*(e.touches[0].clientY-a.current);t>0&&(o(t),e.preventDefault())}},l=()=>{a.current&&(s(!0),t({pullDistance:r,position:d,resetState:u}),a.current=null)};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",i,{passive:!1}),window.addEventListener("touchend",l),()=>{window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",i,{passive:!1}),window.removeEventListener("touchend",l)}}}),[e,t,r,n,d]);const p=a.current;return{pullDistance:r,hasStartPulling:c,position:d,startYRefCurrent:p,PULL_MENU_DISTANCE:250,isExecuted:l}}var d=n(407043),c=n(616550);function u({enabled:e,onPull:t,refreshing:n}){const i=(0,l.ZP)(),u=(0,c.useHistory)(),{logContextEvent:p}=(0,d.v)(),m=e=>e>=.6,h=e=>e>.4&&e<.6,{position:g,hasStartPulling:_,PULL_MENU_DISTANCE:v,isExecuted:y}=s({enabled:e,onSelect:e=>{const{position:n,resetState:i}=e;h(n)?setTimeout((()=>{p({view_type:1,event_type:158,view_parameter:92}),t(),i()}),500):m(n)?setTimeout((()=>{p({view_type:1,event_type:10144,view_parameter:92}),u.push("edit/"),i()}),500):i()},refreshing:n}),f=i._('Refresh', 'pullMenu.refresh', 'Pull down on grid to refresh items'),x=i._('Edit Feed', 'pullMenu.goTuner', 'Pull down on grid to edit your feed');return(0,r.jsx)(a.xu,{children:e&&(0,r.jsxs)(a.xu,{display:"flex",alignItems:"center",direction:"column",height:g*v,justifyContent:"center",marginBottom:_?4:0,children:[(0,r.jsx)(o,{text:x,isSelected:m(g),icon:"edit",animationType:"move",position:g,hasStartPulling:_,isExecuted:y}),(0,r.jsx)(o,{text:f,isSelected:h(g),icon:"refresh",position:g,hasStartPulling:_,isExecuted:y})]})})}function p({enabled:e,onPull:t,refreshing:n}){const i=(0,l.ZP)(),{logContextEvent:o}=(0,d.v)(),{position:c,startYRefCurrent:u,pullDistance:p}=s({enabled:e,onSelect:e=>{const{pullDistance:n,resetState:i}=e;n>=120&&(o({view_type:1,event_type:158,view_parameter:92}),t()),i()},refreshing:n}),m=Math.min(c,1),h=i._('Pull to refresh', 'Pull down on grid to refresh items', 'Pull down on grid to refresh items');return(0,r.jsx)(a.xu,{children:e&&(0,r.jsx)(a.xu,{display:"flex",alignItems:"center",justifyContent:"center",height:120*c,dangerouslySetInlineStyle:{__style:{opacity:m,transition:null===u?"all .3s ease-out":void 0}},children:(0,r.jsx)(a.JO,{size:40,icon:u&&p<120?"arrow-circle-down":"arrow-circle-up",accessibilityLabel:h})})})}var m=n(773285);function h({enabled:e,onPull:t,refreshing:n}){const{checkExperiment:a}=(0,m.F)(),{anyEnabled:o}=a("hfp_drive_traffic_to_homefeed_tuner_mweb");return(0,r.jsx)(i.Fragment,{children:o?(0,r.jsx)(u,{enabled:e,onPull:t,refreshing:n}):(0,r.jsx)(p,{enabled:e,onPull:t,refreshing:n})})}},861411:(e,t,n)=>{n.d(t,{fv:()=>_,GR:()=>p,Hs:()=>y,Mv:()=>h,uc:()=>g,dL:()=>m,qS:()=>v,Y4:()=>b,HE:()=>x,Cy:()=>f});var i=n(667294),a=n(973935),r=n(124580),o=n(407043),l=n(785893);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),s(this,"observe",(()=>{try{if(this.node=(0,a.findDOMNode)(this),this.node instanceof HTMLElement){const{pinIdStr:e,newsIdStr:t}=this.props.eventData;r.Z.start(this.node).onExitViewport(this.logImpression).setDebugId(e||t||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),s(this,"logImpression",(e=>{this.props.logImpression({viewData:this.props.viewData||{},viewType:this.props.viewType,viewParameter:this.props.viewParameter,eventType:this.props.eventType,impressionType:this.props.impressionType,auxData:this.props.auxData,component:this.props.component,objectIdStr:this.props.objectIdStr,eventData:{endTime:e.endTime,time:e.startTime,...this.props.eventData}})}))}componentDidMount(){this.props.isPaused||this.observe()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.observe()}componentWillUnmount(){this.node instanceof HTMLElement&&r.Z.stop(this.node)}render(){return i.Children.only(this.props.children)}}function c(e){const{logImpression:t}=(0,o.v)();return(0,l.jsx)(d,{...e,logImpression:t})}function u({auxData:e,component:t,eventData:n,eventType:a,impressionType:l,isPaused:s,objectIdStr:d,viewData:c,viewType:u,viewParameter:p}){const m=(0,i.useRef)(null),{logImpression:h}=(0,o.v)(),g=(0,i.useCallback)((()=>{const i=i=>{var r,o,s,g;h({viewData:c||{},viewType:u,viewParameter:p,eventType:a,impressionType:l,auxData:e,component:t,objectIdStr:d,eventData:{endTime:i.endTime,time:i.startTime,pinCellWidth:(null===(r=m.current)||void 0===r?void 0:r.getBoundingClientRect().width)||0,pinCellHeight:(null===(o=m.current)||void 0===o?void 0:o.getBoundingClientRect().height)||0,windowWidth:null===(s=window)||void 0===s?void 0:s.innerWidth,windowHeight:null===(g=window)||void 0===g?void 0:g.innerHeight,...n}})};try{if(m.current instanceof HTMLElement){const{pinIdStr:e,newsIdStr:t}=n;r.Z.start(m.current).onExitViewport(i).setDebugId(e||t||"unknown")}}catch(o){window.console.error('Can only track impressions for type "HTMLElement"')}}),[m.current]);return(0,i.useEffect)((()=>{s||g();const e=m.current;return()=>{e instanceof HTMLElement&&r.Z.stop(e)}}),[s,g]),m}const p=e=>(0,l.jsx)(c,{eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),m=e=>{const t=u({eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},h=e=>{const t=u({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},g=e=>{const t=u({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:t})},_=e=>(0,l.jsx)(c,{eventData:{...e.impressionData||{},articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),v=e=>{const t=u({eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},y=e=>(0,l.jsx)(c,{eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),f=e=>{const t=u({eventData:{...e.impressionData||{},userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},x=e=>{const t=u({eventData:{...e.impressionData||{},topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},b=e=>{const t=u({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})}},63552:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),a=n(785893);function r({children:e,onMouseEnter:t,onMouseLeave:n,onTouch:r,rounding:o,fullWidth:l=!1,pressState:s="none",accessibilityLabel:d,role:c}){const u=(Array.isArray(s)?s:[s]).includes("compress");return(0,a.jsx)(i.iP,{fullWidth:l,onMouseEnter:t&&(({event:e})=>t(e)),onMouseLeave:n&&(({event:e})=>n(e)),onTap:r&&(({event:e})=>r(e)),rounding:o,tapStyle:u?"compress":"none",accessibilityLabel:d,role:c,children:e})}},807532:(e,t,n)=>{n.d(t,{C:()=>s,f:()=>l});var i=n(667294),a=n(425288),r=n(785893);const{Provider:o,useHook:l}=(0,a.Z)("MostRecentPin");function s({children:e}){const[t,n]=(0,i.useState)(),[a,l]=(0,i.useState)(),s=(0,i.useCallback)((e=>{const t=a?a.slice(0,10):[],n=[e].concat(t.filter((t=>t!==e)));l(n)}),[a]),d=(0,i.useMemo)((()=>({id:t,plpImageSignatures:a,setMostRecentPinId:n,setMostRecentPinImage:s})),[t,a,s]);return(0,r.jsx)(o,{value:d,children:e})}},379764:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(633988);const a=new(n(883119).H3)([i.Z])},872482:(e,t,n)=>{n.d(t,{D:()=>a,a:()=>r});var i=n(425288);const{Provider:a,useMaybeHook:r}=(0,i.Z)("unauthPageWrapperContext")},948945:(e,t,n)=>{n.d(t,{Z:()=>je});var i=n(667294),a=n(934494),r=n(605841),o=n(81226),l=n(702664),s=n(8320),d=n(977734),c=n(499128),u=n(898781),p=n(112690),m=n(927383),h=n(662089),g=n(52022),_=n(332611),v=n(639952),y=n(57791),f=n(881802),x=n(580751),b=n(698330),w=n(883119),S=n(616550),P=n(785893);const k=new w.Ry(1);function I({buttonText:e,clientTrackingParams:t,color:n="primary",deeplinkUri:a,experience:r,inline:o=!0,minWidth:I,onTouch:T,onUnsave:j,pinId:C,pinnedToBoardId:A,shape:E,shouldShowSavedButton:D,viewType:F,viewParameter:L,showSaveHandoffExperience:R}){var z;const M=(0,u.ZP)(),O=(0,l.useDispatch)(),Z=(0,S.useHistory)(),N=(0,S.useLocation)(),U=(0,x.M)(),B=N.pathname.startsWith("/pin"),K=(0,l.useSelector)((({session:e})=>e.hasSavedUnauthPin)),H=(0,l.useSelector)((({session:e})=>e.unauthSavePinId)),$=null===(z=(0,b.Tt)())||void 0===z?void 0:z.pin_count,W=(0,p.Z)(),G=(0,g.Z)(),V=e=>Z.push(e),{showToast:q,showRepinConfirmation:Y}=(0,h.Z)(),J=()=>{var e;O((0,d.Z)({history:Z,i18n:M,logContextEvent:W,onSuccess:()=>{r&&O((0,_.CK)(r.placement_id,r.experience_id))},originalPinId:C,pinId:C,trackingParams:{clientTrackingParams:t,pinnedToBoardId:A},showRepinConfirmation:R&&!B?()=>{}:Y,disableRepinAnimation:H===C,pinCount:$,historyPush:V,savePinId:null!==(e=null==U?void 0:U.save)&&void 0!==e?e:()=>{}})).catch((e=>q((({hideToast:t})=>(0,P.jsx)(c.ZP,{type:"error",text:e.message||M._('Sorry! Something went wrong on our end.', 'quickSave.toast.error.message', 'error during repin'),onHide:t})))))},X=(0,i.useRef)(null),Q=R&&!K,ee=(0,m.Z)()({fn:e=>{e.stopPropagation(),e.preventDefault(),T&&T(e),D?D&&j&&j():J()},modalHeader:(0,f.Bx)(M)});(0,i.useEffect)((()=>{Q&&!X.current&&(G({action:"trigger",item:"unauth-save-button-quicksave"}),W({event_type:14581}),J(),O((0,v.e2)())),X.current=Q}));const te=()=>M._('Pin', 'quickSave.quickSaveButton.icon.accessibilityLabel', 'Pin accessibility label'),ne=()=>e||M._('Save', 'quickSave.quickSaveButton.buttonText', 'Auth mobile web save button for pin closeup');return K&&!B?null:(0,P.jsx)(w.xu,{"data-test-id":"save-button-mobile",zIndex:k,children:a?(0,P.jsx)(y.di,{accessibilityLabel:te(),color:n,customStyles:{padding:"14px 16px"},deeplinkUri:a,inline:o,minHeight:48,minWidth:I,onTouch:ee,pressState:["compress","background"],shape:E,size:"lg",text:ne(),to:Z.location.pathname,upsellType:"save",viewType:F,viewParameter:L}):(0,P.jsx)(s.Z,{accessibilityLabel:te(),color:n,customStyles:{padding:"14px 16px"},inline:o,minHeight:48,minWidth:I,onTouch:ee,pressState:"compress",shape:E,size:"300",text:ne()})})}var T=n(829407),j=n(364034),C=n(139574),A=n(826067),E=n(850431),D=n(867820),F=n(773285),L=n(50286),R=n(361115),z=n(780280),M=n(177891),O=n(343341);function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class N extends i.PureComponent{constructor(...e){var t;super(...e),t=this,Z(this,"state",{saveState:void 0}),Z(this,"legoFixedZIndex",new w.Ry(2)),Z(this,"onAddPin",(async function(){const{clientTrackingParams:e,dispatch:n,i18n:i,oneTapSave:a,pinId:r,pinnedToBoardId:o,showToast:l,viewType:s,historyPush:d,repinContext:u}=t.props;try{var p;const i=await n((0,E.w)({i18n:t.props.i18n,logContextEvent:t.props.logContextEvent,originalPinId:r,pinId:r,boardId:null==a?void 0:a.boardId,isOneTapSave:!0,onUndo:()=>{t.onDeletePin()},section:null==a?void 0:a.section,showToast:l,trackingParams:{clientTrackingParams:e,pinnedToBoardId:o},viewType:s,historyPush:d,savePinId:null!==(p=null==u?void 0:u.save)&&void 0!==p?p:()=>{}}));t.setState({saveState:"saved"}),n((0,M.a)({boardId:null==a?void 0:a.boardId,localPinId:i.id,pinId:r}))}catch(m){l((({hideToast:e})=>(0,P.jsx)(c.ZP,{type:"error",text:m.message||i._('Sorry! Something went wrong on our end.', 'error during repin', 'error during repin'),onHide:e}))),t.setState({saveState:void 0})}})),Z(this,"onDeletePin",(async function(){const{dispatch:e,clientTrackingParams:n,i18n:i,pinId:a,savedInfo:r,showToast:o,repinContext:l}=t.props;if(r){e((0,M.k)({boardId:r.boardId,localPinId:r.localPinId,pinId:a})),null==l||l.unsave(a);try{await e((0,C.q)({pinId:r.localPinId,boardId:r.boardId,clientTrackingParams:n})),o((({hideToast:e})=>(0,P.jsx)(c.ZP,{text:i._('Pin deleted!', 'User deleted their pin', 'User deleted their pin'),onHide:e}))),t.setState({saveState:void 0})}catch(s){o((({hideToast:e})=>(0,P.jsx)(c.ZP,{type:"error",text:i._('Sorry! There was an error deleting your Pin.', 'Error when user tried to delete pin', 'Error when user tried to delete pin'),onHide:e}))),t.setState({saveState:"saved"})}}})),Z(this,"handlePinAction",this.props.requireAuthForLimitedLogin({fn:({event:e})=>{e.stopPropagation(),e.preventDefault();const{saveState:t}=this.state,{history:n,pinId:i,isOneTapExploreLocalTab:a,pinnedToBoard:r}=this.props;["saving","deleting"].includes(t)||a&&r||(t||this.props.savedInfo?this.props.isOneTapExploreLocalTab||(this.setState({saveState:"deleting"}),this.onDeletePin()):(this.setState({saveState:"saving"}),a?n.push({pathname:`/pin/${i}/repin`,state:{isOneTapSave:!0}}):this.onAddPin()))},modalHeader:(0,f.Bx)(this.props.i18n)})),Z(this,"shouldDisplayAsSaved",(({isOneTapExploreLocalTab:e,pinnedToBoard:t,savedInfo:n})=>e?!!t:!!n))}render(){const{children:e,clientTrackingParams:t,homepageExperience:n,i18n:a,isOneTapExploreLocalTab:r,isRTL:o,oneTapSave:l,pinId:s,pinnedToBoard:d,pinnedToBoardId:c,savedInfo:u,shouldShowSaveHandoffExp:p,useSmallSaveIcon:m}=this.props;if(!l&&!r&&!p)return e;const h=this.shouldDisplayAsSaved({isOneTapExploreLocalTab:!!r,pinnedToBoard:d,savedInfo:u}),g="#000",_="rgba(255, 255, 255, 0.8)",v="light",y="dark";return(0,P.jsxs)(i.Fragment,{children:[e,(0,P.jsx)(w.xu,{bottom:!0,left:o,padding:2,position:"absolute",right:!o,zIndex:this.legoFixedZIndex,children:p?(0,P.jsx)(I,{buttonText:d?a._('Saved', 'OneTapSave.QuickSaveButton.Saved', 'Message on saved pin'):"",clientTrackingParams:t,color:d?"default":"primary",deeplinkUri:"deeplinkUri",experience:n,inline:!0,pinnedToBoardId:c,minWidth:54,pinId:s,shape:"pill",shouldShowSavedButton:!!d,showSaveHandoffExperience:p}):(0,P.jsx)(w.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,P.jsx)(w.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:h?g:_}},padding:2,rounding:"circle",children:(0,P.jsx)(w.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:(0,P.jsx)(w.JO,{accessibilityLabel:h?a._('saved', 'checkmark icon to show pin has been saved', 'checkmark icon to show pin has been saved'):a._('save', 'button for saving quickly with one click', 'button for saving quickly with one click'),icon:h?"check":"add",color:h?v:y,size:m?16:24})})})})})]})}}function U(e){const{showToast:t}=(0,O.F9)(),n=(0,S.useLocation)(),a=(0,u.ZP)(),r=(0,p.Z)(),o=(0,m.Z)(),s=(0,l.useDispatch)(),c=(0,S.useHistory)(),{isRTL:h,isAuthenticated:g}=(0,z.B)(),_=(0,x.M)(),v=(0,l.useSelector)((({session:e})=>e.unauthSavePinId)),y=g&&!!v&&v===e.pinId,{pins:f,clear:b}=(0,j.Z)(),w=(0,i.useRef)(!1),k=(0,A.mB)(n.search).ideas_referrer,I=(0,L.HG)(),{checkExperiment:C}=(0,F.F)(),E=(0,R.J)(),M=!I&&k===String(25),Z=e=>c.push(e),U=(0,l.useSelector)((t=>t.pins[e.pinId]&&t.pins[e.pinId].savedInfo)),B=(0,l.useSelector)((t=>t.pins[e.pinId]&&t.pins[e.pinId].pinned_to_board)),K=(0,l.useSelector)((e=>e.experiences[40001]));return(0,T.Z)((()=>{g&&!w.current&&f.length>0&&(w.current=!0,r({event_type:14577,aux_data:{num_unauth_saved_pins:f.length}}),[...f,...v&&C(E).anyEnabled?[{id:v}]:[]].forEach((({id:t})=>{var n;s((0,d.Z)({history:c,i18n:a,logContextEvent:r,onSuccess:()=>{},originalPinId:t,pinId:t,trackingParams:{clientTrackingParams:e.clientTrackingParams,pinnedToBoardId:e.pinnedToBoardId},showRepinConfirmation:()=>{},disableRepinAnimation:!0,historyPush:Z,savePinId:null!==(n=null==_?void 0:_.save)&&void 0!==n?n:()=>{}})).catch((e=>{(0,D.My)(`error.unauth_profile_pin_merge.${e}`)}))})),b())})),(0,P.jsx)(N,{...e,i18n:a,requireAuthForLimitedLogin:o,history:c,logContextEvent:r,showToast:t,shouldShowSaveHandoffExp:y,isRTL:h,historyPush:Z,useSmallSaveIcon:M,repinContext:_,savedInfo:U,pinnedToBoard:B,homepageExperience:K,dispatch:s})}U.displayName="OneTapSave";const B=U;var K=n(883561),H=n(349700);function $({boardUrl:e,boardName:t,isQuicksave:n,sectionName:i,sectionSlug:a}){const r=(0,u.ZP)(),o=(0,S.useHistory)(),l=new w.Ry(1),s=!!a&&`${e}${a}/`;return(0,P.jsx)(w.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:l,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,P.jsx)(w.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:4,children:(0,P.jsx)(w.iP,{onTap:t=>{t.event.preventDefault(),o.push(n?"/me/":s||e)},children:(0,P.jsx)(w.xv,{color:"light",children:i?(0,H.nk)(r._('Saved to {{sectionName}}', 'PinCard.SavedToSection.Overlay', 'Saved to section overlay'),{sectionName:(0,P.jsx)(w.xv,{color:"light",weight:"bold",inline:!0,children:(0,K.ZP)(i,22)},`pincard-${i}`)}):(0,H.nk)(r._('Saved to {{boardName}}', 'PinCard.SavedToBoard.Overlay', 'Saved to board overlay'),{boardName:(0,P.jsx)(w.xv,{color:"light",weight:"bold",inline:!0,children:n?r._('Profile', 'PinCard.SavedToProfile.Overlay', 'Part of string saying "Saved to Profile" after saving a Pin'):(0,K.ZP)(t,22)},`pincard-${t}`)})})})})})}var W=n(167525),G=n(964082),V=n(36971),q=n(463045);function Y({isSquarePin:e,color:t,description:n,imageUrl:i,imageHeight:a,imageWidth:r,onError:o,onLoad:l}){const s=(0,P.jsx)(w.Ee,{alt:n||"",color:t,naturalHeight:null!=a?a:1,naturalWidth:null!=r?r:1,onError:o,onLoad:l,src:null!=i?i:"",fit:e?"cover":void 0});return e?(0,P.jsx)(w.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,P.jsx)(w.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:s})}):s}var J,X=n(350445),Q=n(46584),ee=n(926749),te=n(623568),ne=n(965900),ie=n(350118),ae=n(167912);const re=void 0!==J?J:J=n(365885);function oe({inAdsVideoExperiment:e,unauthRelatedPinsAutoplayExpGroup:t,isAutoplay:n,cropHeight:a,currentTime:r,onLoad:o,onError:l,onTimeChange:s,pinData:d,playing:c,rootMargin:p,viewType:m,viewParameter:h,onVisibilityChanged:g,trackFullVisible:_,videoDuration:v,imageHeightModifier:y,image:f,isSquarePin:x}){var b,S,k,I;const T=(0,u.ZP)(),[j,C]=(0,i.useState)(!1),[A,E]=(0,i.useState)(!0),{isDownstreamPromotion:D,hasPromoter:F}=d,R=(0,te.jL)(!!D,!!F),z=R&&!d.isEligibleForWebCloseup,M=3372===h||42===m,O=R&&d.isEligibleForWebCloseup&&!M,{setCurrentVideo:Z,pauseAutoplay:N}=(0,ne.I)(),U=z||!R,B=(0,Q.Z)({onVisibilityChanged:g,inAdsDesktopVideoExperiment:e,trackFullVisible:_,rootMargin:p});let K=!c;(e||null!=t&&t.startsWith("enabled"))&&(K=A,n&&c&&A&&E(!1));const{image236xUrl:H,pinId:$}=d,G=(0,L.HG)()&&d.videos?null===(b=d.videos.videoList)||void 0===b?void 0:b.vHLSV4:null===(S=d.videos)||void 0===S||null===(k=S.videoList)||void 0===k?void 0:k.v720P,V=(0,L.HG)()&&d.videos?"video/m3u8":"video/mp4",q=(0,i.useCallback)((({event:e})=>{e.preventDefault(),e.stopPropagation(),Z({pinId:$,isPromoted:Boolean(R),currentTime:0}),C(!1)}),[R,$,Z]),J=(0,i.useCallback)((()=>{R&&C(O),N({pinId:$,isPromoted:Boolean(R),currentTime:0})}),[O,R,$,N]);if(!d.videos||!G)return null;const{height:ie,thumbnail:ae,width:re,url:oe}=G||{},le=d.videos.id,se=[{type:V,src:oe}];let de,ce=(null!=re?re:1)/(null!=ie?ie:1);return e&&x&&(ce=1,de="transparent",y&&(ce-=y-1)),j&&R?(0,P.jsx)(w.xu,{"data-test-id":"pin-video-mobile-end-card",ref:B,children:(0,P.jsx)(X.Z,{backgroundImage:null!=H?H:"",naturalHeight:null!=ie?ie:1,naturalWidth:null!=re?re:1,pinId:$,onRestartVideo:q})}):K?(0,P.jsxs)(w.xu,{"data-test-id":"pin-video-mobile-image",ref:B,children:[v&&(0,P.jsx)(W.Z,{text:v}),(0,P.jsx)(Y,{imageHeight:null!==(ue=null==f?void 0:f.height)&&void 0!==ue?ue:1,imageWidth:null!==(pe=null==f?void 0:f.width)&&void 0!==pe?pe:1,onError:l,onLoad:o,imageUrl:null!==(me=null==f?void 0:f.url)&&void 0!==me?me:"",isSquarePin:x})]}):(0,P.jsx)(w.xu,{"data-test-id":"pin-video-mobile-video",ref:B,children:(0,P.jsx)(ee.ZP,{isAutoPlay:!!n,cropHeight:a,rootMargin:p,inAdsDesktopVideoExperiment:e,contextLogData:{viewParameter:h,component:0,objectId:$,video_id:null!=le?le:"",view:m},accessibilityMaximizeLabel:T._('Maximize', 'pinLayouts.PinVideo.accessibilityMaxVideoBtn', 'Maximize button on video'),accessibilityMinimizeLabel:T._('Minimize', 'pinLayouts.PinVideo.accessibilityMinVideoBtn', 'Minimize button on video'),accessibilityMuteLabel:T._('Mute', 'pinLayouts.PinVideo.accessibilityMuteVideoBtn', 'Mute button on video'),accessibilityPauseLabel:T._('Pause', 'pinLayouts.PinVideo.accessibilityPauseVideoBtn', 'Pause button on video'),accessibilityPlayLabel:T._('Play', 'pinLayouts.PinVideo.accessibilityPlayVideoBtn', 'Play button on video'),accessibilityProgressBarLabel:T._('Progress bar', 'pinLayouts.PinVideo.accessibilityProgressBarLabel', 'Video progress bar accessibility label'),accessibilityUnmuteLabel:T._('Unmute', 'pinLayouts.PinVideo.accessibilityUnmuteVideoBtn', 'Unmute button on video'),aspectRatio:ce,backgroundColor:de,captions:"",hlsConfig:{capLevelToPlayerSize:!0,startPosition:r||-1},loop:U,onTimeChange:s,playing:c,onPlay:()=>{},onPlayError:()=>{},poster:null!==(I=null!=H?H:ae)&&void 0!==I?I:"",src:null!=se?se:[],videoStartTime:r,volume:0,onEnded:J})});var ue,pe,me}const le=(0,a.Z)({useGraphQLAdapter:e=>{const t=(0,ae.useFragment)(re,e),{entityId:n,isDownstreamPromotion:i,isEligibleForWebCloseup:a,imageSpec_236x:r,videos:o,promoter:l}=t;return{pinId:n,isDownstreamPromotion:i,isEligibleForWebCloseup:a,hasPromoter:!!l,image236xUrl:null==r?void 0:r.url,videos:o?{id:o.entityId,videoList:o.videoList}:null}},useLegacyAdapter:e=>{var t;const n=(0,ie.S6)()(e);if(!n)return null;const{is_downstream_promotion:i,is_eligible_for_web_closeup:a,images:r,videos:o,promoter:l}=n,s=e=>{if(!e)return null;const{duration:t,...n}=e;return n};return{pinId:e,isDownstreamPromotion:i,isEligibleForWebCloseup:a,hasPromoter:!!l,image236xUrl:null==r||null===(t=r["236x"])||void 0===t?void 0:t.url,videos:o?{id:o.id,videoList:(d=o.video_list,d?{v720P:s(d.V_720P),vHLSV4:s(d.V_HLSV4)}:null)}:null};var d}});function se({pinGraphqlRef:e,pinId:t,...n}){return(0,P.jsx)(le,{input:e?{enabled:!0,data:e}:{enabled:!1,data:t},children:({data:e})=>e&&(0,P.jsx)(oe,{...n,pinData:e})})}var de;function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ue=void 0!==de?de:de=n(524861);class pe extends i.Component{constructor(...e){super(...e),ce(this,"calculateCurrentVideoTime",(()=>{const{currentTimeFromPinRep:e,pinData:t,videosAutoplaying:n}=this.props,{pinId:i}=t,a=(0,V.Z)(i,n);return this.currentVideoCurrentTime||a||e})),ce(this,"handleVisibilityChanged",(e=>{const{currentTimeFromPinRep:t,pinData:n,setCurrentVideo:i,pauseAutoplay:a,videosAutoplaying:r}=this.props,{pinId:o,isDownstreamPromotion:l,hasPromoter:s}=n,d=(0,te.jL)(!!l,s),c=(0,q.Z)(o,r),u=(0,G.Z)(o,r);e?d?i({pinId:o,isPromoted:d,currentTime:this.calculateCurrentVideoTime()}):u&&i({pinId:o,isPromoted:Boolean(d),currentTime:this.calculateCurrentVideoTime()}):!e&&c&&a({pinId:o,isPromoted:Boolean(d),currentTime:t||this.currentVideoCurrentTime})})),ce(this,"handleVideoTimeChange",(e=>{const{pinData:t,onTimeChange:n,videosAutoplaying:i}=this.props,{pinId:a}=t;(0,q.Z)(a,i)&&(this.currentVideoCurrentTime=e.time),n&&n(e)}))}componentDidUpdate(e){const{appInFocus:t}=e,{appInFocus:n,currentTimeFromPinRep:i,pauseAutoplay:a,pinData:r,setCurrentVideo:o,videosAutoplaying:l}=this.props,{pinId:s,isDownstreamPromotion:d,hasPromoter:c}=r,u=(0,te.jL)(!!d,c),p=(0,q.Z)(s,l);n!==t&&!n&&p?(this.pausedDueToBrowserOutOfFocus=!0,a({pinId:s,isPromoted:Boolean(u),currentTime:i||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&n&&(this.pausedDueToBrowserOutOfFocus=!1,o({pinId:s,isPromoted:Boolean(u),currentTime:this.calculateCurrentVideoTime()}))}componentWillUnmount(){const{currentTimeFromPinRep:e,pauseAutoplay:t,pinData:n,videosAutoplaying:i}=this.props,{pinId:a,isDownstreamPromotion:r,hasPromoter:o}=n,l=(0,te.jL)(!!r,o);(0,q.Z)(a,i)&&t({pinId:a,isPromoted:Boolean(l),currentTime:e||this.currentVideoCurrentTime})}render(){const{cropHeight:e,isAutoplay:t,pinData:n,videosAutoplaying:i,videoDuration:a,viewParameter:r,viewType:o,onError:l,onLoad:s,inAdsVideoExperiment:d,unauthRelatedPinsAutoplayExpGroup:c,isSquarePin:u,rootMargin:p,imageHeightModifier:m,image:h,isHovering:g}=this.props,{pinId:_,pinGraphqlRef:v}=n,y=(0,V.Z)(_,i),f="enabled_hover"===c,x=(0,q.Z)(_,i),b=g&&f||x&&t;return(0,P.jsx)(se,{cropHeight:e,rootMargin:p,currentTime:y,inAdsVideoExperiment:d,unauthRelatedPinsAutoplayExpGroup:c,isAutoplay:t,isSquarePin:u,image:h,viewParameter:r,viewType:o,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pinId:_,playing:b,trackFullVisible:!1,onError:l,onLoad:s,imageHeightModifier:m,videoDuration:a,pinGraphqlRef:v})}}const me=(0,a.Z)({useGraphQLAdapter:e=>{const t=(0,ae.useFragment)(ue,e),{entityId:n,isDownstreamPromotion:i,promoter:a}=t;return{pinId:n,isDownstreamPromotion:i,hasPromoter:!!a,pinGraphqlRef:t}},useLegacyAdapter:e=>{const t=(0,ie.S6)()(e);if(!t)return null;const{is_downstream_promotion:n,promoter:i}=t;return{pinId:e,isDownstreamPromotion:n,hasPromoter:!!i,pinGraphqlRef:null}}});function he({pinGraphqlRef:e,pinId:t,...n}){const{appUI:{appInFocus:i,isAutoplay:a,videosAutoplaying:r},pauseAutoplay:o,setCurrentVideo:l}=(0,ne.I)();return(0,P.jsx)(me,{input:e?{enabled:!0,data:e}:{enabled:!1,data:t},children:({data:e})=>e&&(0,P.jsx)(pe,{...n,pinData:e,appInFocus:i,isAutoplay:a,pauseAutoplay:o,setCurrentVideo:l,videosAutoplaying:r})})}var ge=n(690035),_e=n(310227),ve=n(130460),ye=n(780679),fe=n(627995);const xe=({domainLinkData:e})=>{const t=(0,u.ZP)(),n=(0,ye.g)();return(0,P.jsxs)(w.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(51, 51, 51, 0.8)"}},children:[(0,P.jsx)(w.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",paddingX:2,children:(0,P.jsx)(w.X6,{size:"400",align:"center",color:"light",children:t._('Open', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.')})}),!!e&&(0,P.jsx)(w.xu,{position:"absolute",bottom:!0,left:!0,width:"100%",minWidth:"100%",children:(0,P.jsx)(fe.Z,{clickLoggingOptions:e.clickLoggingOptions,domain:e.domain,link:e.link,onClick:e.onClick||(null==n?void 0:n.pinLinkClickHandler)||(()=>{})})})]})};var be,we=n(53987);const Se=void 0!==be?be:be=n(843494),Pe=({width:e,height:t,minY:n,maxY:i})=>{const a=t=>e<=0||!t?"0%":Math.round(t/e*100)+"%";return{top:n<=0?"0%":a(-1*n*t),bottom:i>=1?"0%":a(-1*(1-i)*t)}},ke=({children:e,margin:t,disableRounding:n})=>(0,P.jsx)(w.xu,{dangerouslySetInlineStyle:{__style:t?{marginTop:t.top,marginBottom:t.bottom}:{}},position:"relative","data-test-id":"pin-visual-wrapper",children:(0,P.jsx)(w.zd,{wash:!0,rounding:n?0:_e.mv,children:e})}),Ie=({clientTrackingParams:e,color:t,data:n,description:a,domainLinkData:l,image:s,imageAltText:d,imageCrop:c,isPromoted:p,isOneTapExploreLocalTab:m,isSquarePin:h,lazyLoadImage:_,onError:v,oneTapSave:y,onLoad:f,pinId:b,priorityFetchImage:k,disableDefaultContextMenu:I,pinGraphqlRef:T,pinnedToBoardId:j,pinVideo:C,videoUrl:A,productPrice:E,disableRounding:R,storyDataExists:M,title:O,type:Z,videoDuration:N,viewType:U,viewParameter:K,unauthRelatedPinsAutoplayExpGroup:H})=>{var G,V,q,Y,J,X,Q,ee,ne,ie,ae,re;const oe=(0,u.ZP)(),le=(0,ge.Z)(),{checkExperiment:se}=(0,F.F)(),[de,ce]=(0,i.useState)(!1),{isAuthenticated:ue}=(0,z.B)(),pe=(0,L.ZP)(),me="desktop"===pe,_e=(0,x.M)(),ve=j&&!(null==_e||!_e.isSaved(b)),ye=l&&l.link?"with-link":"without-link",fe=!ue&&!me,be=(0,i.useRef)(Date.now()),Se=(0,i.useRef)(null),Ie=se("mweb_video_ads_autoplay").anyEnabled,Te="video"===Z&&(H&&"enabled_hover"===H),je=(0,g.Z)(),Ce=n.shouldOpenInStream;(0,i.useEffect)((()=>{Te||!de||ue||je({action:"view",item:"unauth-video-autoplay-on-hover"})}),[Te,de,je,ue]);const Ae=(0,P.jsx)(r.Z,{alt:d||O||a||"",color:t,naturalHeight:null!==(G=s.height)&&void 0!==G?G:1,naturalWidth:null!==(V=s.width)&&void 0!==V?V:1,onError:v,onLoad:f,src:null!==(q=s.url)&&void 0!==q?q:"",fit:h?"cover":void 0,loading:_?"lazy":"auto",fetchPriority:k?"high":"auto"}),Ee=h?(0,P.jsx)(w.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,P.jsx)(w.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:Ae})}):Ae,De=(0,S.useLocation)(),Fe=()=>(0,we.C$)(De)?"homefeed":(0,we.L6)(De)?"related_pins":(0,we.En)(De)?"search":"unknown";return(0,P.jsx)("div",{className:"PinCard__imageWrapper",style:{position:"relative"},children:(0,P.jsxs)(w.xu,{onContextMenu:e=>{if("desktop"!==pe){const t=Fe();(0,D.My)((ue?"auth":"unauth")+".mweb_pin_feed.pin_image.long_press",{page:t}),ue||(e.preventDefault(),e.stopPropagation())}},onTouchStart:e=>{if("desktop"!==pe&&((0,D.My)("unauth.mweb.related_pin.image.touch.start"),!ue&&(null==I||I(),be.current=Date.now(),e.changedTouches&&e.changedTouches.length>0))){const t=e.changedTouches.item(0);t&&(Se.current={x:t.pageX,y:t.pageY})}},onTouchEnd:e=>{if("desktop"!==pe){const t=Fe();if((0,D.My)("unauth.mweb.related_pin.image.touch.end"),Date.now()-be.current>500&&!ue&&("related_pins"===t||se("pcons_enable_context_menu_all_feeds").anyEnabled)){const t=Se.current;if(e.changedTouches&&e.changedTouches.length>0&&t){const n=e.changedTouches.item(0);if(n&&Math.pow(n.pageX-t.x,2)+Math.pow(n.pageY-t.y,2)>100)return;null==I||I(),le({pinId:b,location:"related-pins-long-press"}),e.stopPropagation()}}}},"data-test-id":`pincard-${Z}-${ye}`,dangerouslySetInlineStyle:{__style:{willChange:"transform",textDecoration:"none"}},overflow:"hidden",onMouseOver:fe||se("prevent_open_on_hover").anyEnabled?void 0:()=>ce(!0),onMouseLeave:fe?void 0:()=>ce(!1),position:"relative",rounding:R?0:4,children:[(0,P.jsxs)(B,{clientTrackingParams:e||"",oneTapSave:y,isOneTapExploreLocalTab:m,pinId:b,pinnedToBoardId:j,viewType:U,children:[(()=>{if("gif"===Z&&!ve)return(0,P.jsx)(W.Z,{text:oe._('GIF', 'pin.pinCard.gifIconIdentifier', 'pin type identifier for gifs')});if("video"===Z&&N&&!ve)return(0,P.jsx)(W.Z,{text:N});if("storyPin"===Z&&M&&!ve&&!1!==Ce){var e,t,i;const a=(null===(e=n.storyPinData)||void 0===e?void 0:e.pageCount)||0,r=(null===(t=n.storyPinData)||void 0===t?void 0:t.staticPageCount)||0,l=(null===(i=n.storyPinData)||void 0===i?void 0:i.totalVideoDuration)||0;if(l>0){const e=l+r*te.oN;return(0,P.jsx)(W.Z,{text:(0,o.Z)(e)})}if("number"==typeof a&&a>0)return(0,P.jsx)(W.Z,{icon:"idea-pin",text:a.toString()})}return"product"===Z&&E?(0,P.jsx)(W.Z,{text:E}):null})(),(0,P.jsx)(ke,{disableRounding:R,margin:c?Pe({width:null!==(Y=s.width)&&void 0!==Y?Y:1,height:null!==(J=s.height)&&void 0!==J?J:1,minY:c.minY,maxY:c.maxY}):void 0,children:C&&p&&Ie&&n||null!=H&&H.startsWith("enabled")&&A&&n?(0,P.jsx)(he,{image:s,inAdsVideoExperiment:Ie,unauthRelatedPinsAutoplayExpGroup:H,isHovering:de,isSquarePin:h,onError:v,onLoad:f,pinId:n.entityId,videoDuration:N,viewParameter:K,viewType:U,pinGraphqlRef:T}):Ee})]}),!Te&&de&&!ue&&(0,P.jsx)(xe,{domainLinkData:l}),ue&&ve&&(0,P.jsx)($,{boardName:null!==(X=null===(Q=n.board)||void 0===Q?void 0:Q.name)&&void 0!==X?X:"",boardUrl:null!==(ee=null===(ne=n.board)||void 0===ne?void 0:ne.url)&&void 0!==ee?ee:"",sectionName:null==y||null===(ie=y.section)||void 0===ie?void 0:ie.title,sectionSlug:null==y||null===(ae=y.section)||void 0===ae?void 0:ae.slug,isQuicksave:"quick_saves"===(null===(re=n.board)||void 0===re?void 0:re.layout)})]})})},Te=(0,a.Z)({useGraphQLAdapter:e=>{const t=(0,ae.useFragment)(Se,e);return{pin:t,pinGraphqlRef:t}},useLegacyAdapter:e=>{var t,n,i;const a=(0,ie.S6)()(e),r=null!==(t=null==a||null===(n=a.pinned_to_board)||void 0===n?void 0:n.id)&&void 0!==t?t:"",o=(0,ve.gC)()(r||(a?String(null===(i=a.board)||void 0===i?void 0:i.id):""));return a?{pin:{entityId:a.id,board:o&&{entityId:o.id,layout:o.layout,name:o.name,url:o.url},shouldOpenInStream:a.should_open_in_stream,storyPinData:a.story_pin_data&&{pageCount:a.story_pin_data.page_count,staticPageCount:a.story_pin_data.static_page_count,totalVideoDuration:a.story_pin_data.total_video_duration}},pinGraphqlRef:null}:null}}),je=e=>(0,P.jsx)(Te,{input:e.pinGraphqlRef?{enabled:!0,data:e.pinGraphqlRef}:{enabled:!1,data:e.pinId},children:({data:t})=>t&&(0,P.jsx)(Ie,{...e,data:t.pin,pinGraphqlRef:t.pinGraphqlRef})})},904779:(e,t,n)=>{n.d(t,{K:()=>o,T:()=>l});var i=n(667294),a=n(785893);const r=(0,i.createContext)({getPinFeedbackStatus:()=>{},setPinFeedbackStatus:()=>{}}),o=()=>(0,i.useContext)(r);function l({children:e}){const[t,n]=(0,i.useState)(Object.freeze({})),o=(0,i.useMemo)((()=>({getPinFeedbackStatus:({pinId:e})=>t[e],setPinFeedbackStatus:({pinId:e,pinFeedbackStatus:i})=>n({...t,[e]:i})})),[t]);return(0,a.jsx)(r.Provider,{value:o,children:e})}},535996:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ge,pinRepPaddingInBoint:()=>Oe});var i=n(667294),a=n(702664),r=n(934494),o=n(319915),l=n(886076),s=n(248975),d=n(830157),c=n(958007),u=n(926275),p=n(81226),m=n(116303),h=n(63552),g=n(561195),_=n(883119),v=n(785893);function y({maxRating:e,rating:t,text:n}){return(0,v.jsxs)(_.xu,{alignItems:"center",display:"flex",marginBottom:0,children:[(0,v.jsx)(g.Z,{max_rating:e||"",rating:t||"",width:10}),n&&(0,v.jsx)(i.Fragment,{children:(0,v.jsx)(_.xu,{marginStart:1,overflow:"hidden",children:(0,v.jsx)(_.xv,{size:"100",lineClamp:1,children:n})})})]})}var f,x=n(898781),b=n(62409),w=n(643010),S=n(350118),P=n(167912);const k=void 0!==f?f:f=n(860389),I=({data:{pinProduct:{maxPrice:e,minPrice:t,inStock:n,standardPrice:a,price:r},domain:o}})=>{const l=(0,x.ZP)(),{textColor:s,inStockColor:d}=(({isDarkMode:e,inStock:t})=>e?{textColor:"light",inStockColor:"light"}:{textColor:"dark",inStockColor:t?"dark":"subtle"})({isDarkMode:(0,w.Yc)(),inStock:n||!1});return(0,v.jsxs)(i.Fragment,{children:[o&&(0,v.jsx)(_.xv,{color:s,size:"100",children:o}),(0,v.jsxs)(_.xu,{display:"flex",alignItems:"center","data-test-id":"priceLego_price",children:[t&&e?(0,v.jsxs)(_.xv,{size:"100",color:d,weight:"bold",children:[t," - ",e]}):(0,v.jsx)(_.xv,{size:"100",color:d,weight:"bold",children:a||r}),!n&&(0,v.jsxs)(i.Fragment,{children:[(0,v.jsx)(_.xu,{paddingX:1,children:(0,v.jsx)(_.xv,{size:"100",color:d,weight:"bold",children:"·"})}),(0,v.jsx)(_.xv,{size:"100",color:d,weight:"bold",children:l._('Out of stock', 'pinCard.priceLego.outOfStock', 'display if a product is out of stock')})]})]})]})},T=(0,r.Z)({useGraphQLAdapter:e=>{var t,n;const i=(0,P.useFragment)(k,e),{linkDomain:a,richMetadata:r,richSummary:o}=i,l=(0,b.kb)({hasLinkDomain:!!a,richMetadata:r&&{recipe:r.recipe&&{fromAggregatedData:r.recipe.fromAggregatedData},products:(null!==(t=r.products)&&void 0!==t?t:[]).map((e=>({name:e.name,offerSummary:e.offerSummary})))},richSummary:o&&{products:(null!==(n=o.products)&&void 0!==n?n:[]).map((e=>({name:e.name,offerSummary:e.offerSummary})))}});return l&&l.price?{pinProduct:l,domain:null==o?void 0:o.siteName}:null},useLegacyAdapter:e=>{var t,n,i;const a=(0,S.S6)()(e);if(!a)return null;const{link_domain:r,rich_metadata:o,rich_summary:l}=a,s=(0,b.kb)({hasLinkDomain:!!r,richMetadata:o&&{recipe:o.recipe&&{fromAggregatedData:o.recipe.from_aggregated_data},products:(null!==(t=o.products)&&void 0!==t?t:[]).map((e=>({name:e.name,offerSummary:e.offer_summary&&{inStock:e.offer_summary.in_stock,maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}})))},richSummary:l&&{products:(null!==(n=l.products)&&void 0!==n?n:[]).map((e=>({name:e.name,offerSummary:e.offer_summary&&{inStock:e.offer_summary.in_stock,maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}})))}});return s&&s.price?{pinProduct:s,domain:null===(i=a.rich_summary)||void 0===i?void 0:i.site_name}:null}});function j(e){return(0,v.jsx)(T,{input:e.pinGraphqlRef?{enabled:!0,data:e.pinGraphqlRef}:{enabled:!1,data:e.pinId},children:({data:e})=>e&&(0,v.jsx)(I,{data:e})})}var C,A=n(947599),E=n(914142),D=n(941646),F=n(50286),L=n(865673),R=n(52022),z=n(350948),M=n(923297),O=n(867820),Z=n(773285),N=n(130460),U=n(616550),B=n(780280),K=n(53987);const H=void 0!==C?C:C=n(879856),$=(0,i.lazy)((()=>n.e(94950).then(n.bind(n,494950)))),W=({title:e})=>{const t=(0,F.ZP)(),n=(0,R.Z)();return(0,v.jsx)(D.Z,{id:"related-pins-title",children:(0,v.jsx)(_.iP,{onTap:()=>{n({action:"click",item:"related-pins-title"})},children:(0,v.jsx)(_.xv,{size:"desktop"===t?"300":"100",weight:"bold",lineClamp:2,children:e})})})},G=({allowPriceIndicator:e,contextMenu:t,credits:n,data:a,hidePinMetadata:r,hasAffiliatedProducts:l,isPromotedPin:s,isSponsoredPin:d,isSquarePin:c,marginTop:u,marginStart:p,marginEnd:g,onCreditsClick:f,pinDescription:b,pinGraphqlRef:w,pinId:S,pinnedToBoardId:P,pinReactionCounts:k,recipeCookTime:I,recipeMaxRating:T,recipeRating:C,recipeReviewCount:H,shouldShowReactions:G,style:V="default",title:q,type:Y,duploConversationPin:J})=>{var X,Q,ee,te,ne,ie,ae,re,oe;const le=(0,x.ZP)(),{checkExperiment:se}=(0,Z.F)(),de=(0,U.useLocation)(),ce=(0,R.Z)(),{isAuthenticated:ue}=(0,B.B)(),pe=(0,F.ZP)(),me=q||b||"oneTap"===Y,he=(0,N.gC)()(P||(a?String(null===(X=a.board)||void 0===X?void 0:X.entityId):"")),ge=a.pinner,_e=s&&(null===(Q=a.promoter)||void 0===Q?void 0:Q.entityId)===(null===(ee=a.nativeCreator)||void 0===ee?void 0:ee.entityId),ve=a.sponsorship?(0,v.jsx)(_.xv,{inline:!0,size:"100",weight:"bold",children:null==n?void 0:n.subtitle}):void 0,ye="overlay"===V,fe=G&&k&&Object.keys(k).length>0&&(0,v.jsx)(_.xu,{height:18,display:ye?"flex":void 0,justifyContent:"center",children:(0,v.jsx)(o.Z,{name:"SafeSuspense_PinCardDetails_GridAggregation",children:(0,v.jsx)(A.Z,{children:(0,v.jsx)($,{pinReactionCounts:k})})})}),xe=r?0:u||1,be=(0,v.jsx)(m.Z,{accessibilityLabel:(null==n?void 0:n.title)||"string"==typeof(null==n?void 0:n.subtitle)&&n.subtitle||le._('Creator\'s avatar', 'pinCardDetails.tapArea.avatar', 'The avatar of the creator of this pin.'),name:(null==n?void 0:n.title)||"",outline:ye,size:ye?"lg":"sm",src:ye&&(null==n?void 0:n.largeAvatar)||(null==n?void 0:n.mediumAvatar)||(null==n?void 0:n.avatar)||void 0}),we=(0,v.jsxs)(i.Fragment,{children:[(null==n?void 0:n.title)&&(0,v.jsx)(_.xv,{lineClamp:1,size:"100",weight:d&&!_e||l?"normal":"bold",children:n.title===(null==ge?void 0:ge.fullName)&&(null!=ge&&ge.isVerifiedMerchant||null!=ge&&null!==(te=ge.verifiedIdentity)&&void 0!==te&&te.verified)?(0,v.jsx)(L.Z,{badgeSize:"sm",badgeSpacing:2,fullName:n.title,verifiedType:ge.isVerifiedMerchant?"verifiedMerchant":"verifiedIdentity"}):n.title}),null!=n&&n.subtitle?(!d&&!r||_e)&&(0,v.jsx)(_.xv,{lineClamp:d||l?void 0:1,size:"desktop"===pe?"200":"100",weight:"desktop"===pe?"bold":"normal",children:n.subtitle}):!ue&&he&&"protected"!==he.privacy?(0,v.jsx)(D.Z,{id:"related-pin-text-below-name",children:(0,v.jsx)(_.rU,{underline:"hover",href:null!==(ne=he.url)&&void 0!==ne?ne:"",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,O.NC)("click_board_pin_attribution_profile"),ce({action:"click",item:"related-pin-text-below-name"})},children:(0,v.jsx)(_.xv,{size:"200",children:he.name})})}):null]});return(0,v.jsx)(i.Fragment,{children:(0,v.jsxs)(_.xu,{display:"flex",height:c?e?104:72:void 0,marginEnd:g||1,marginStart:p||1,position:"relative",children:[(0,v.jsxs)(_.xu,{flex:"grow",children:[(0,v.jsx)(_.xu,{display:"flex",marginTop:xe,children:(0,v.jsx)(_.xu,{flex:"grow",children:(0,v.jsxs)(i.Fragment,{children:[(0,v.jsxs)(i.Fragment,{children:[(d||l)&&!_e&&(0,v.jsx)(_.xu,{marginBottom:1,children:(0,v.jsx)(_.xu,{flex:"grow",overflow:"hidden",children:(0,v.jsx)(E.Z,{hasAffiliatedProducts:l,isPromoted:s,sponsorName:ve,sponsorshipStatus:null===(ie=a.sponsorship)||void 0===ie?void 0:ie.status})})}),q&&(0,v.jsx)(_.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:ue&&!r&&(0,v.jsx)(W,{title:q})}),"desktop"===pe&&!ue&&b&&!(0,K.$Y)(de)&&!(0,K.E0)(de)&&(0,v.jsx)(_.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},"data-test-id":"desc",children:(0,v.jsx)(_.iP,{onTap:()=>{ce({action:"click",item:"related-pins-description"})},children:(0,v.jsx)(_.xv,{size:"100",inline:!0,children:b})})})]}),e&&(0,v.jsx)(j,{pinId:S,pinGraphqlRef:w}),"recipe"===Y&&!!H&&(0,v.jsx)(i.Fragment,{children:(0,v.jsxs)(_.xu,{alignItems:"center",display:"flex",marginTop:1,children:[!!H&&(0,v.jsx)(y,{maxRating:T||"",rating:C||"",text:""}),!!I&&(0,v.jsxs)(i.Fragment,{children:[(0,v.jsx)(_.xu,{paddingX:1,children:(0,v.jsx)(_.xv,{size:"100",children:"·"})}),(0,v.jsx)(_.xv,{size:"100",children:(0,z.IS)({...(0,M.u)(I),i18n:le})})]})]})})]})})}),!ye&&fe,n&&(0,v.jsx)(h.Z,{onTouch:e=>f&&f(e),pressState:"none",children:(0,v.jsx)(_.xu,{children:(!r||d||_e)&&(0,v.jsxs)(_.xu,{display:"flex",marginTop:ye?-9:u||(me&&!r?1:0),marginBottom:r?2:0,position:"relative",direction:ye?"column":"row",children:[(0,v.jsx)(_.xu,{flex:"none",display:ye?"flex":void 0,justifyContent:"center","data-test-id":"related-pins-avatar-image",children:se(ue?"mweb_auth_feed_a11y_fix":"mweb_unauth_feed_a11y_fix").anyEnabled?be:(0,v.jsx)(_.iP,{onTap:()=>{ce({action:"click",item:"related-pins-avatar-image"})},children:be})}),(0,v.jsx)(_.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",alignItems:ye?"center":void 0,marginStart:1,"data-test-id":"related-pins-name",children:se(ue?"mweb_auth_feed_a11y_fix":"mweb_unauth_feed_a11y_fix").anyEnabled?we:(0,v.jsx)(_.iP,{onTap:()=>{ce({action:"click",item:"related-pins-name"})},children:we})})]})})}),!n&&"desktop"===pe&&!!ge&&((0,K.L6)(de)||(0,K.cD)(de)||(0,K.$Y)(de))&&(0,v.jsxs)(_.xu,{display:"flex",marginTop:me?2:0,children:[(0,v.jsx)(_.xu,{flex:"none","data-test-id":"related-pins-avatar-image",children:(0,v.jsx)(_.iP,{onTap:()=>{ce({action:"click",item:"related-pins-avatar-image"})},children:(0,v.jsx)(m.Z,{name:ge.username||"",size:"sm",src:null!==(ae=ge.imageSmallUrl)&&void 0!==ae?ae:void 0})})}),(0,v.jsxs)(_.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:[(0,v.jsx)(_.rU,{underline:"hover",href:`/${ge.username||""}/`,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,O.NC)("click_board_pin_attribution_board"),ce({action:"click",item:"related-pins-name"})},children:(0,v.jsx)(_.xv,{size:"200",weight:"bold",children:ge.fullName||ge.username})}),he&&"protected"!==he.privacy?(0,v.jsx)(D.Z,{id:"related-pin-text-below-name",children:(0,v.jsx)(_.rU,{underline:"hover",href:null!==(re=he.url)&&void 0!==re?re:"",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,O.NC)("click_board_pin_attribution_profile"),ce({action:"click",item:"related-pin-text-below-name"})},children:(0,v.jsx)(_.xv,{size:"200",children:null!==(oe=he.name)&&void 0!==oe?oe:""})})}):null]})]}),ye&&fe]}),(0,v.jsx)(_.xu,{position:ye?"absolute":void 0,right:!0,children:!J&&t})]})})},V=(0,r.Z)({useGraphQLAdapter:e=>{const t=(0,P.useFragment)(H,e);return{pin:t,pinGraphqlRef:t}},useLegacyAdapter:e=>{const t=(0,S.S6)()(e);return t?{pin:{entityId:t.id,board:t.board&&{entityId:t.board.id},nativeCreator:t.native_creator&&{entityId:t.native_creator.id},pinner:t.pinner&&{fullName:t.pinner.full_name,imageSmallUrl:t.pinner.image_small_url,isVerifiedMerchant:t.pinner.is_verified_merchant,username:t.pinner.username,verifiedIdentity:t.pinner.verified_identity&&{verified:t.pinner.verified_identity.verified}},promoter:t.promoter&&{entityId:t.promoter.id},sponsorship:t.sponsorship&&{status:t.sponsorship.status}},pinGraphqlRef:null}:null}}),q=e=>(0,v.jsx)(V,{input:e.pinGraphqlRef?{enabled:!0,data:e.pinGraphqlRef}:{enabled:!1,data:e.pinId},children:({data:t})=>t&&(0,v.jsx)(G,{...e,data:t.pin,pinGraphqlRef:t.pinGraphqlRef})});var Y,J=n(857079),X=n(349700),Q=n(296011);const ee=void 0!==Y?Y:Y=n(7745),te=(e,t)=>{const{checkExperiment:n}=(0,Z.F)();return n("graphql_migration_sharelink_sgrowth_web").anyEnabled?((e,t)=>{const n=(0,P.useRelayEnvironment)();return(0,v.jsx)(Q.t,{invite_code:e,relayEnvironment:n,inviteQuery:ee,children:e=>{const n=null!=e&&e.data?e.data.sender:null,i=n&&n.first_name?n.first_name.substring(0,30):"";if(!i)return null;const a=n&&!n.is_default_image?n.image_medium_url:"",r=(0,X.nk)(t._('{{ name }} shared this idea with you', 'homefeed.pinSenderAvatar.heading', 'header notifying users that a sender ({{ name }}) shared a Pin to them'),{name:i});return(0,v.jsxs)(_.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,v.jsx)(_.zd,{height:32,width:32,children:(0,v.jsx)(m.Z,{name:i,src:a})}),(0,v.jsx)(_.xu,{width:"80%",paddingY:2,children:(0,v.jsx)(_.xv,{align:"center",size:"200",weight:"bold",children:r})})]})}})})(e,t):((e,t)=>(0,v.jsx)(Q.Z,{invite_code:e,children:e=>{const n=e?e.sender:null,i=n&&n.first_name?n.first_name.substring(0,30):"";if(!i)return null;const a=n&&!n.is_default_image?n.image_medium_url:"",r=(0,X.nk)(t._('{{ name }} shared this idea with you', 'homefeed.pinSenderAvatar.heading', 'header notifying users that a sender ({{ name }}) shared a Pin to them'),{name:i});return(0,v.jsxs)(_.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,v.jsx)(_.zd,{height:32,width:32,children:(0,v.jsx)(m.Z,{name:i,src:a})}),(0,v.jsx)(_.xu,{width:"80%",paddingY:2,children:(0,v.jsx)(_.xv,{align:"center",size:"200",weight:"bold",children:r})})]})}}))(e,t)},ne=({inviteCode:e})=>{const t=(0,x.ZP)();return(0,v.jsx)(_.xu,{minHeight:82,children:(0,v.jsx)(o.Z,{name:"SafeSuspense_PinCardSharedHeader_LoadingSpinner",children:(0,v.jsx)(A.Z,{fallback:(0,v.jsx)(J.Z,{accessibilityLabel:t._('Loading Invitation component', 'Loading InviteFetch component', 'loading InviteFetch component')}),children:te(e,t)})})})};var ie=n(948945),ae=n(55275);const re={initial:{opacity:0,transition:"opacity 0.25s ease-in"},fadeIn:{opacity:.8,transition:"opacity 1s ease"}},oe=(e,t,n)=>(0,v.jsx)(_.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:(0,v.jsx)(_.rU,{display:"inlineBlock",href:t,tapStyle:"none",underline:"hover",children:n})},e);function le({color:e,getFeedbackText:t,onUnfollow:n,showing:a,unfollowed:r}){const o=(0,x.ZP)(),[l,s]=(0,i.useState)(a?"fadeIn":"initial"),d=(0,i.useRef)(null);(0,i.useEffect)((()=>("initial"===l&&a&&(d.current=window.requestAnimationFrame((()=>s("fadeIn")))),()=>{d.current&&window.cancelAnimationFrame(d.current)})),[l,s,a]);const{subTitle:c,title:u,unfollow:p}=t(oe);let m=u,h=c;p&&r&&(m=p.title,h=p.subTitle);const g=()=>p?(0,ae.t)(p.action,p.actionOptions,n):void 0;return a&&(0,v.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e,...re[l]}},margin:1,rounding:4,position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,v.jsxs)(_.xu,{width:"100%",height:"100%",color:"dark",rounding:4,overflow:"auto",children:[(0,v.jsxs)(_.xu,{padding:3,rounding:2,display:"flex",direction:"column",height:"100%",justifyContent:"between",children:[(0,v.jsxs)(_.xu,{children:[(0,v.jsx)(_.X6,{size:"400",color:"light",children:m}),!!h&&(0,v.jsxs)(_.xu,{marginTop:1,children:[(0,v.jsx)(_.xv,{color:"light",size:"200",inline:!0,children:h}),(0,v.jsx)(_.xv,{color:"light",inline:!0,size:"200",weight:"bold",children:(0,v.jsx)(_.rU,{href:"/edit",display:"inlineBlock",rounding:2,tapStyle:"none",underline:"hover",children:o._('Tune your home feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})})]})]}),!r&&p&&(0,v.jsx)(_.xu,{paddingY:1,children:(0,v.jsx)(_.zx,{fullWidth:!0,color:"white",text:o._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:g})})]}),!r&&p&&(0,v.jsx)(_.xu,{paddingY:1,children:(0,v.jsx)(_.zx,{fullWidth:!0,color:"white",text:o._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:g})})]})})}var se,de=n(21384),ce=n(992750);const ue=void 0!==se?se:se=n(482836);function pe({description:e,gridTitle:t,pinId:n,richMetadataTitle:i,richSummaryDisplayName:a,storyPinDataId:r,storyPinDataMetadataPinTitle:o,title:l,queryRef:s}){const d=(0,P.useFragment)(ue,s);return(0,v.jsxs)(_.xu,{paddingX:2,marginBottom:-1,display:"flex",children:[(0,v.jsx)(_.xu,{flex:"grow",maxHeight:32,minHeight:12,overflow:"hidden",width:142,children:(0,v.jsx)(_.xv,{lineClamp:2,size:"100",weight:"bold",children:(0,ce.fs)({pinTitle:l,gridTitle:t,richSummaryDisplayName:a,richMetadataTitle:i,storyPinDataId:r,storyPinDataMetadataPinTitle:o})||e})}),(0,v.jsx)(_.xu,{children:(0,v.jsx)(de.Z,{pinId:n,size:"sm",graphqlRef:d})})]})}var me,he=n(430235),ge=n(389026),_e=n(248299),ve=n(327476),ye=n(829407),fe=n(885149),xe=n(19121),be=n(394332),we=n(59729),Se=n(57791),Pe=n(477802),ke=n(255607),Ie=n(874317),Te=n(861411),je=n(772486),Ce=n(763839),Ae=n(378518),Ee=n(813401),De=n(112690),Fe=n(680046),Le=n(904779),Re=n(780679);function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Me=void 0!==me?me:me=n(741316),Oe=({isDesktop:e})=>e?0:1,Ze=e=>Boolean(e.promoter&&!e.isDownstreamPromotion),Ne={width:1,height:1,url:""},Ue=e=>{var t,n,i;const a=null===(t=e.videos)||void 0===t?void 0:t.videoList;return a?(0,p.Z)(null!==(n=null===(i=a[Object.keys(a)[0]])||void 0===i?void 0:i.duration)&&void 0!==n?n:0):""},Be=e=>{var t;const[n]=(null===(t=e.richSummary)||void 0===t?void 0:t.products)||[];if(!n)return null;const i=n.offerSummary;return i&&(i.price||i.maxPrice)},Ke=(0,i.lazy)((()=>Promise.all([n.e(90674),n.e(55189),n.e(18594)]).then(n.bind(n,455758))));class He extends i.Component{constructor(...e){super(...e),ze(this,"state",{startImpressionTimer:!1,isShowingCustomContextMenu:!1}),ze(this,"pinCardDetailsDeepLink",(0,i.createRef)()),ze(this,"getPinImage",(()=>{const{pin:{imageSpec_136x136:e,imageSpec_170x:t,imageSpec_236x:n,imageSpec_474x:i,imageSpec_736x:a,imageSpec_orig:r},duploIsSquarePin:o}=this.props;return o?{height:136,url:null==n?void 0:n.url,width:136}:[n,t,e,a,i,r].find((e=>e&&e.url))||Ne})),ze(this,"getImpressionData",(()=>{var e,t,n;const{pin:i}=this.props,a=null===(e=i.videos)||void 0===e||null===(t=e.videoList)||void 0===t?void 0:t.v720P,r=a?{isNativeVideoAndWatchable:!!(a&&a.url&&a.height&&a.width)||void 0,videoIdStr:a&&(null===(n=i.videos)||void 0===n?void 0:n.entityId)||void 0}:{},o=this.getPinImage();return{richTypes:i.shoppingFlags||[],imageURL:o.url||"",...r,...this.props.impressionData}})),ze(this,"getAuxCommerceData",(()=>{var e;const{pin:t}=this.props;return(0,l.Z)({isEligibleForPdp:t.isEligibleForPdp,isOosProduct:t.isOosProduct,isStaleProduct:t.isStaleProduct,pinShoppingFlags:null!==(e=t.shoppingFlags)&&void 0!==e?e:void 0})})),ze(this,"getAuxData",(()=>{const{auxData:e={},pwaType:t}=this.props;return{commerce_data:this.getAuxCommerceData(),pwa_type:t,...e}})),ze(this,"getFeedbackType",(()=>{var e,t,n;const{feedback:i,viewParameter:a,pin:r}=this.props;return(0,Fe.hP)({boardFollowedByMe:!(null===(e=r.board)||void 0===e||!e.followedByMe),feedbackType:null==i?void 0:i.type,viewParameter:a,promotion:r&&r.promoter&&{isDownstreamPromotion:!!r.isDownstreamPromotion},pinnerFollowedByMe:!(null===(t=r.pinner)||void 0===t||!t.explicitlyFollowedByMe),recommendationReason:r.recommendationReason&&{hasBoard:!!r.recommendationReason.board,reason:null!==(n=r.recommendationReason.reason)&&void 0!==n?n:void 0}})})),ze(this,"getRecommendationDescription",(e=>{var t,n,i;const{pin:a,i18n:r}=this.props,o={i18n:r,makeNavigateLink:e};switch(this.getFeedbackType()){case"pfy":return(0,Fe.Ud)({...o,feedback:{type:"pfy"}});case"pfyBoard":return(0,Fe.Ud)({...o,feedback:{type:"pfyBoard",recommendationReasonBoard:(null===(t=a.recommendationReason)||void 0===t?void 0:t.board)&&{name:null!==(n=a.recommendationReason.board.name)&&void 0!==n?n:"",url:null!==(i=a.recommendationReason.board.url)&&void 0!==i?i:""}}});case"topic":return(0,Fe.Ud)({...o,feedback:{type:"topic",sourceInterest:a.sourceInterest&&a.sourceInterest.name&&a.sourceInterest.urlName?{name:a.sourceInterest.name,url_name:a.sourceInterest.urlName}:null}});case"followed":return(0,Fe.Ud)({...o,feedback:{type:"followed",followed:a.pinner&&a.pinner.explicitlyFollowedByMe?{type:"pinner",pinner:a.pinner.fullName&&a.pinner.username?{full_name:a.pinner.fullName,username:a.pinner.username}:null}:{type:"board",board:a.board&&a.board.name&&a.board.url?{name:a.board.name,url:a.board.url}:null}}});case"promoted":return(0,Fe.Ud)({...o,feedback:{type:"promoted",promoter:!a.adMatchReason&&a.promoter&&a.promoter.fullName?{full_name:a.promoter.fullName,username:a.promoter.username}:null}});default:return null}})),ze(this,"getPinHiddenFeedbackText",(e=>{const{pin:t,i18n:n}=this.props,i=t.promoter;if(Ze(t)&&null!=i&&i.fullName)return{title:"",subTitle:(0,X.nk)(this.props.i18n._('{{ promoter }} has paid to have this pin show up where you\'d be more likely to notice it.', 'pinRep.promotedPinfeedbackText.subtitle', 'message displayed after hiding a promoted pin'),{promoter:i.fullName})};let a;switch(this.getFeedbackType()){case"followed":const{board:i,pinner:r}=t;i&&r&&(a=(0,Fe.oK)({boardId:i.entityId,i18n:n,makeNavigateLink:e,display:r.explicitlyFollowedByMe?{type:"board",data:{name:i.name,url:i.url}}:{type:"pinner",data:{full_name:r.fullName,username:r.username}}}));break;case"topic":const{sourceInterest:o}=t;o&&(a=(0,Fe.Iv)({i18n:n,makeNavigateLink:e,sourceInterest:{id:o.entityId,name:o.name,url_name:o.urlName}}))}return a?{title:n._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:this.getRecommendationDescription(e),unfollow:a}:{title:n._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:n._('Got it! We\'ll try to show you more relevant Pins in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}})),ze(this,"logOneTap",(()=>{const{logContextEvent:e,trackingParams:t,viewType:n,viewParameter:i,auxData:a,pin:r}=this.props,{entityId:o}=r,l=(0,d.Z)(t,r.trackingParams),s={view_type:this.props.viewType,view_parameter:this.props.viewParameter,element:r.storyPinDataId?12372:35,component:this.props.componentType,object_id_str:o,aux_data:{commerce_data:this.getAuxCommerceData(),grid_index:this.props.slotIndex,image_signature:r.imageSignature,...this.props.auxData},clientTrackingParams:l};e({event_type:8948,view_type:n,view_parameter:i,object_id_str:o,clientTrackingParams:l,aux_data:{image_signature:r.imageSignature,closeup_navigation_type:"click",click_type:"clickthrough",cosmic_ray_count:"2",...a}}),(0,je.jC)(s),e({component:this.props.componentType,event_type:13,view_type:3,clientTrackingParams:l,aux_data:{closeup_navigation_type:"web_closeup",image_signature:r.imageSignature},object_id_str:o})})),ze(this,"handleLoad",(()=>{this.setState({startImpressionTimer:!0})})),ze(this,"handleError",(()=>{this.setState({startImpressionTimer:!1})})),ze(this,"handleClick",(e=>{const{auxData:t,componentType:n,deviceType:i,logContextEvent:a,pin:r,pinRepDataType:o,slotIndex:l,trackingParams:s,viewParameter:c,viewType:u,duploFeedItemProps:p,isAuth:m,trackInteraction:h,unauthDesktopSignupModalPageContext:g}=this.props,{onPinClick:_}=null!=p?p:{},{entityId:v}=r,y=e=>(0,O.My)(`unauth_pin_rep.${e}.${String(c)}`);if(y("click"),a({view_type:u,view_parameter:c,element:r.storyPinDataId?12372:35,event_type:101,component:n,object_id_str:v,clientTrackingParams:(0,d.Z)(s,r.trackingParams),aux_data:{commerce_data:this.getAuxCommerceData(),grid_index:l,image_signature:r.imageSignature,...t}}),"oneTap"!==o&&a({event_type:8948,view_type:u,view_parameter:c,object_id_str:v,clientTrackingParams:(0,d.Z)(s,r.trackingParams),aux_data:{image_signature:r.imageSignature,commerce_data:this.getAuxCommerceData(),closeup_navigation_type:"click",grid_index:l,cosmic_ray_count:"3",...t}}),!m)switch(h({action:"click",item:"pin"}),u){case 3:(0,O.NC)("click_pin_related_image");break;case 5:(0,O.NC)("click_board_pin_image");break;case 210:(0,O.NC)("click_topic_pin_image");break;case 605:(0,O.NC)("click_shopping_category_pin_image");break;case 606:(0,O.NC)("click_videos_category_pin_image")}if("oneTap"===o&&this.logOneTap(),null==_||_(),"desktop"===i){if(e.metaKey){y("click.cmd_button_pressed"),e.preventDefault();window.open(`/pin/${v}/`,"_blank").focus()}else if(!m&&g){const{pinImageClickHandler:t}=g;t({event:e,pinId:v,linkTarget:"duploClientNav",seoUrl:r.seoUrl})}}})),ze(this,"handleCreditsClick",(e=>{var t;const{history:n,logContextEvent:i,pin:a}=this.props,{entityId:r,sponsorship:o,storyPinDataId:l}=a,{creator:s,sponsor:d}=o||{},{entityId:c}=s||{},{entityId:u}=d||{},p=!!l;e.stopPropagation(),e.preventDefault();const m=null===(t=this.getCredits())||void 0===t?void 0:t.link;m&&n.push(m),i({view_type:3,element:27,event_type:102,object_id_str:r,component:p?230:void 0,aux_data:{pin_id:r,...c&&u?{creator_id:c,sponsor_id:u}:{}}})})),ze(this,"handleUnfollowPin",(()=>this.props.markPinUnfollowed())),ze(this,"isOverrideImageOnly",(()=>{const{pin:{richSummary:e},viewerIsNewUser:t,viewParameter:n}=this.props;return e&&43===n&&!t||3375===n}))}componentDidMount(){const{isAuth:e,slotIndex:t,viewParameter:n,location:i,pin:a}=this.props;if(!e&&0===t&&3070===n){var r,o,l;const e=i.pathname,{imageSignature:t,entityId:n,imageSpec_236x:s,description:d}=a;(0,we.H$)(e,t,n,s&&{dominant_color:null!==(r=s.dominantColor)&&void 0!==r?r:void 0,height:null!==(o=s.height)&&void 0!==o?o:void 0,url:s.url,width:null!==(l=s.width)&&void 0!==l?l:void 0},d)}}getCredits(){var e,t,n,i,a,r;const{adBlockTextTransform:o,viewParameter:l,pin:s}=this.props,{entityId:d}=s,c=s.storyPinData,u=s.pinner,p=s.promoter,m=null==c?void 0:c.hasProductPins,h=0===l,g=3173===l,_=3375===l,v=3375===l&&!(null===(e=s.linkDomain)||void 0===e||null===(t=e.officialUser)||void 0===t||!t.isPrimaryWebsiteVerified),y=s.nativeCreator,f=!!s.nativeCreator,x=Ze(s),{sponsorship:b}=s,{creator:w,sponsor:S}=b||{},P=x&&!!b&&(null==p?void 0:p.entityId)!==(null==y?void 0:y.entityId),k=!!b&&w;if(!(x||k||h||g||f||v))return;switch(P?"PROMOTED_SPONSORED":x?"PROMOTED":k?"SPONSORED":f?"AFFILIATED_PRODUCTS":m?"NATIVE_CONTENT":v?"CLAIMED_CONTENT":s.board&&"protected"===s.board.privacy?"SAVED_BY":"DEFAULT"){case"PROMOTED_SPONSORED":return{title:null==y?void 0:y.fullName,subtitle:null==p?void 0:p.fullName,avatar:this.getPinnerImage(null==y?void 0:y.imageSmallUrl),mediumAvatar:this.getPinnerImage(null==y?void 0:y.imageMediumUrl),largeAvatar:this.getPinnerImage(null==y?void 0:y.imageLargeUrl),link:null!=y&&y.username?`/${y.username}/`:""};case"PROMOTED":return{title:o(this.props.i18n._('Promoted by', 'Grid pin annotation', 'Grid pin annotation')),subtitle:null==p?void 0:p.fullName,avatar:this.getPinnerImage(null==p?void 0:p.imageSmallUrl),mediumAvatar:this.getPinnerImage(null==p?void 0:p.imageMediumUrl),largeAvatar:this.getPinnerImage(null==p?void 0:p.imageLargeUrl),link:null!=p&&p.username?`/${p.username}/`:""};case"SPONSORED":if(!b)throw new Error("sponsorship doesn't exist when expected");return{title:null==y?void 0:y.fullName,subtitle:null==S?void 0:S.fullName,avatar:this.getPinnerImage(null==y?void 0:y.imageSmallUrl),mediumAvatar:this.getPinnerImage(null==y?void 0:y.imageMediumUrl),largeAvatar:this.getPinnerImage(null==y?void 0:y.imageLargeUrl),link:null!=y&&y.username?`/${y.username}/`:""};case"AFFILIATED_PRODUCTS":return{title:null==y?void 0:y.fullName,subtitle:"",avatar:this.getPinnerImage(null==y?void 0:y.imageSmallUrl),mediumAvatar:this.getPinnerImage(null==y?void 0:y.imageMediumUrl),largeAvatar:this.getPinnerImage(null==y?void 0:y.imageLargeUrl),link:null!=y&&y.username?`/${y.username}/`:""};case"NATIVE_CONTENT":let e=(null===(n=s.board)||void 0===n?void 0:n.url)||`/pin/${d}/`;return _&&(e=null!=y&&y.username?`/${y.username}/`:""),{title:"",subtitle:null==y?void 0:y.fullName,avatar:this.getPinnerImage(null==y?void 0:y.imageSmallUrl),mediumAvatar:this.getPinnerImage(null==y?void 0:y.imageMediumUrl),largeAvatar:this.getPinnerImage(null==y?void 0:y.imageLargeUrl),link:e};case"CLAIMED_CONTENT":const t=null===(i=s.linkDomain)||void 0===i?void 0:i.officialUser;return t?{subtitle:t.fullName,avatar:this.getPinnerImage(t.imageSmallUrl),mediumAvatar:this.getPinnerImage(t.imageMediumUrl),largeAvatar:this.getPinnerImage(t.imageLargeUrl),link:t.username?`/${t.username}/`:""}:void 0;case"SAVED_BY":return{title:this.props.i18n._('Saved by', 'Grid pin annotation', 'Grid pin annotation'),subtitle:"",avatar:this.getPinnerImage(null==u?void 0:u.imageSmallUrl),mediumAvatar:this.getPinnerImage(null==u?void 0:u.imageMediumUrl),largeAvatar:this.getPinnerImage(null==u?void 0:u.imageLargeUrl),link:(null===(a=s.board)||void 0===a?void 0:a.url)||`/pin/${d}/`};default:return{title:(null==u?void 0:u.fullName)||"",subtitle:"",avatar:this.getPinnerImage(null==u?void 0:u.imageSmallUrl),mediumAvatar:this.getPinnerImage(null==u?void 0:u.imageMediumUrl),largeAvatar:this.getPinnerImage(null==u?void 0:u.imageLargeUrl),link:(null===(r=s.board)||void 0===r?void 0:r.url)||`/pin/${d}/`}}}getPinnerImage(e){return e&&e.includes("/user/default")?void 0:e}getPinText(){const{gridTitle:e,richSummary:t,description:n}=this.props.pin;return"string"==typeof e?{title:e,description:""}:{title:null==t?void 0:t.displayName,description:n}}renderPinCard(){var e,t,n,i,a,r,l,s,u,p,m,h,g,y,f,x,w,S,P,k,I,T,j,C,E,F,L,R,z,M,O,Z,N,U,B,K,H,$,W,G,V,Y,J,X,Q;const{checkExperiment:ee,contextualMenuBestPinImgSrc:te,country:ne,debug:ae,disableAppUpsell:re,duploDisablePinCardPadding:oe,disableRounding:se,disableReaction:de,deviceType:ue,experience:me,feedback:ve,feedbackStatus:ye,imageOnlyOption:fe,isAuth:xe,duploIsSquarePin:we,isImageOnlyExp:Te,location:je,duploFeedItemProps:Ce,duploLazyLoadImage:Ae,duploOneTapSave:Ee,duploPinCardDetailsMargin:De,duploPriorityFetchImage:Fe,pin:Le,pinRepDataType:Re,slotIndex:ze,viewParameter:Me,viewType:Ne,duploShouldAllowProductPriceIndicator:He,topLevelTrafficSource:$e,topLevelTrafficSourceDepth:We,trafficSource:Ge,duploUnauthRelatedPinsAutoplayExpGroup:Ve,trackingParams:qe,trackInteraction:Ye,pinCardSharedHeader:Je,duploConversationPin:Xe,pinGraphqlRef:Qe,isEligibleForStaticImageIdeaPin:et,showUnauthDesktopContextMenu:tt}=this.props,{onPinLinkClick:nt,showSeoMetadata:it}=null!=Ce?Ce:{},{category:at,entityId:rt,linkDomain:ot,imageSignature:lt,promoter:st,richMetadata:dt,richSummary:ct,title:ut,sponsorship:pt,storyPinData:mt}=Le,{description:ht,title:gt}=this.getPinText(),_t="desktop"===ue,vt=0===Me,yt=3475===Me,ft=606===Ne,xt=43===Me,bt=Ze(Le),wt=!!pt,St=null==mt?void 0:mt.hasProductPins,Pt=null==mt?void 0:mt.isDeleted,kt=(0,d.Z)((je&&je.state||{}).trackingParams||qe,Le.trackingParams),It="product"===Re&&!xe,Tt=!xe&&!yt&&!xt&&_t,jt=Te&&!this.isOverrideImageOnly(),Ct=this.getPinImage(),At=null===(e=Le.videos)||void 0===e||null===(t=e.videoList)||void 0===t?void 0:t.v720P,Et=(null==At?void 0:At.url)||(null===(n=Le.videos)||void 0===n||null===(i=n.videoList)||void 0===i||null===(a=i.vHLSV4)||void 0===a?void 0:a.url),Dt=(0,ce.hP)(null!==(r=Le.description)&&void 0!==r?r:"",Le.descriptionHtml||"",null===(l=Le.pinJoin)||void 0===l?void 0:l.visualAnnotation,Le.altText||""),Ft=xe?ht:(0,c.Z)({storyPinDataId:Le.storyPinDataId,pinDescription:Le.description,richMetadataDescription:null!==(s=null===(u=Le.richMetadata)||void 0===u?void 0:u.description)&&void 0!==s?s:"",richSummaryDisplayName:null!==(p=null===(m=Le.richSummary)||void 0===m?void 0:m.displayName)&&void 0!==p?p:"",closeupDescription:null!==(h=Le.closeupDescription)&&void 0!==h?h:"",closeupUnifiedDescription:null!==(g=Le.closeupUnifiedDescription)&&void 0!==g?g:""}),Lt=me&&me.display_data.hideReactions||!1,Rt=me&&me.display_data.hideDesc||!1,zt=!de&&(0,ke.J6)({boardIsCollaborative:null===(y=Le.board)||void 0===y?void 0:y.isCollaborative,isDownstreamPromotion:Le.isDownstreamPromotion,isEligibleForStaticImageIdeaPin:et,isPromoted:Le.isPromoted,storyPinDataId:Le.storyPinDataId,videosId:null===(f=Le.videos)||void 0===f?void 0:f.entityId})&&!yt&&!ft&&!Lt,Mt=!xe;let Ot;Ot="oneTap"===Re?Le.trackedLink||Le.link:Mt?(0,ce.bN)({pinId:rt,seoUrl:Le.seoUrl}):(0,ce.BY)(rt);const Zt=!ht||jt&&!vt?void 0:ht.trim(),Nt={accessibilityLabel:Dt||gt||ht||this.props.i18n._('Pin', 'Pin accessibility label', 'Pin accessibility label'),country:ne,deeplinkUri:Ot,external:"oneTap"===Re,externalQueryParams:{pin:rt,client_tracking_params:qe},isAppUpsellDisabled:re,onTouch:this.handleClick,pinCategory:Le.category,pressState:"none",rounding:4,title:this.props.i18n._('See this Pin', 'App Upsell Text after clicking on Pin in feed', 'App Upsell Text after clicking on Pin in feed'),to:{pathname:Ot,state:{trackingParams:qe,trafficSource:Ge,topLevelTrafficSource:$e,topLevelTrafficSourceDepth:We}},upsellType:"direct",viewParameter:Me,viewType:Ne,clientTrackingParams:kt},Ut=Oe({isDesktop:_t}),Bt=Le.nativeCreator||Le.pinner,Kt="search"===Ge&&"storyPin"===Re&&ee("mweb_search_ideapin_module").anyEnabled,Ht=(0,b.kb)({hasLinkDomain:!!ot,richMetadata:dt&&{recipe:dt.recipe&&{fromAggregatedData:dt.recipe.fromAggregatedData},products:dt.products},richSummary:ct&&{products:ct.products}});return(0,v.jsxs)(_.xu,{"data-test-id":"pin","data-test-pin-id":rt,marginBottom:_t?0:2,children:[(0,v.jsxs)(_.xu,{"data-test-id":Dt||gt||ht?"pin-with-alt-text":"pin-missing-alt-text",padding:oe?0:Ut,marginBottom:0,onContextMenu:Bt&&_t?e=>{e.stopPropagation(),e.preventDefault(),tt((0,v.jsx)(he.Z,{desktopContextMenuState:{x:e.clientX,y:e.clientY},pinId:rt,graphqlRef:Qe}))}:void 0,dangerouslySetInlineStyle:{__style:this.state.isShowingCustomContextMenu?Ie.Y:{}},children:[(0,v.jsxs)(Se.MZ,{...Nt,children:[Je,Pt?(0,v.jsx)(_e.Z,{isPinRep:!0}):(0,v.jsx)(ie.Z,{pinGraphqlRef:Qe,clientTrackingParams:kt,color:null!==(x=Le.dominantColor)&&void 0!==x?x:"",description:Zt,domainLinkData:Le.domain&&Le.link?{clickLoggingOptions:{auxData:{objectId:rt,grid_index:ze,sanitized_url:Le.link}},domain:Le.domain,link:Le.link,onClick:nt}:void 0,disableRounding:se,image:Ct&&{dominant_color:null!==(w=Ct.dominantColor)&&void 0!==w?w:void 0,height:null!==(S=Ct.height)&&void 0!==S?S:void 0,url:null!==(P=Ct.url)&&void 0!==P?P:void 0,width:null!==(k=Ct.width)&&void 0!==k?k:void 0},imageAltText:Dt,imageCrop:Le.imageCrop&&"number"==typeof Le.imageCrop.minY&&"number"==typeof Le.imageCrop.maxY?{minY:Le.imageCrop.minY,maxY:Le.imageCrop.maxY}:void 0,isPromoted:bt,isSquarePin:we,lazyLoadImage:Ae,onError:this.handleError,oneTapSave:Ee,onLoad:this.handleLoad,priorityFetchImage:Fe,disableDefaultContextMenu:()=>this.setState({isShowingCustomContextMenu:!0}),pinId:rt,pinnedToBoardId:null!==(I=null===(T=Le.pinnedToBoard)||void 0===T?void 0:T.entityId)&&void 0!==I?I:"",pinVideo:bt&&At||void 0,videoUrl:null!=Et?Et:void 0,productPrice:"product"===Re&&He&&!It?Be(Le):null,slotIndex:ze,storyDataExists:!!mt,title:!jt||vt?gt:void 0,type:Re,videoDuration:Ue(Le),unauthRelatedPinsAutoplayExpGroup:Ve,viewType:Ne,viewParameter:Me})]}),!("image-only"===fe)&&(xe||"desktop"===ue)&&(0,v.jsxs)(_.xu,{children:[Tt&&(0,v.jsx)(be.Z,{pinId:rt,mode:"inlineWithScrollArrows",graphqlRef:Qe}),!It&&(0,v.jsxs)(_.xu,{position:"relative",children:[(0,v.jsx)(Se.MZ,{...Nt,children:(0,v.jsx)(_.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,ref:this.pinCardDetailsDeepLink})}),(0,v.jsx)(_.iP,{onTap:()=>{var e;null===(e=this.pinCardDetailsDeepLink.current)||void 0===e||e.click()},accessibilityLabel:Nt.accessibilityLabel,children:(0,v.jsx)(q,{pinGraphqlRef:Qe,duploConversationPin:Xe,allowPriceIndicator:!He&&!It&&["shop_feed"].includes(Ge),marginTop:De,hidePinMetadata:Rt,contextMenu:xe&&!Pt?(0,v.jsx)(_.xu,{marginStart:1,marginTop:De,children:(0,v.jsx)(_.xu,{height:26,width:24,children:(0,v.jsx)(o.Z,{name:"SafeSuspense_Pin_ContextualMenu",children:(0,v.jsx)(A.Z,{children:(0,v.jsx)(Ke,{adMatchReason:Le.adMatchReason,bestPinImgSrc:te,feedback:ve,feedbackType:this.getFeedbackType(),getRecommendationDescription:this.getRecommendationDescription,graphqlRef:Qe,hideSaveOption:null!==(j=Le.promotedIsRemovable)&&void 0!==j&&j,imageSignature:null!=lt?lt:void 0,isAdsOnlyPin:null!==(C=Le.promotedIsRemovable)&&void 0!==C&&C,pinCategory:at,pinDescription:Ft,pinId:rt,pinTitle:ut,sourceType:bt?"ad":vt?"following":void 0,viewParameter:Me,viewType:Ne,trackingParams:qe})})})})}):null,credits:this.getCredits(),hasAffiliatedProducts:null!=St?St:void 0,isPromotedPin:bt,isSponsoredPin:wt,isSquarePin:we,marginStart:De,marginEnd:De,onCreditsClick:this.handleCreditsClick,pinDescription:Ft,pinId:rt,pinnedToBoardId:null!==(E=null===(F=Le.pinnedToBoard)||void 0===F?void 0:F.entityId)&&void 0!==E?E:"",pinReactionCounts:null!==(L=null===(R=Le.reactionCountsData)||void 0===R?void 0:R.reduce(((e,{reactionCount:t,reactionType:n})=>({...e,[String(null!=n?n:0)]:null!=t?t:0})),{}))&&void 0!==L?L:void 0,promoterName:null!==(z=null==st?void 0:st.fullName)&&void 0!==z?z:void 0,recipeCookTime:jt?void 0:Le.richSummary&&Le.richSummary.displayCookTime,recipeMaxRating:jt||null==ct||null===(M=ct.aggregateRating)||void 0===M?void 0:M.bestRating,recipeRating:jt||null==ct||null===(O=ct.aggregateRating)||void 0===O?void 0:O.ratingValue,recipeReviewCount:jt||null==ct||null===(Z=ct.aggregateRating)||void 0===Z?void 0:Z.reviewCount,shouldShowReactions:zt,style:Kt?"overlay":"default",title:Kt?void 0:gt,type:Re})})]})]}),It&&(0,v.jsx)(ge.Z,{queryRef:Qe,description:Le.description,domain:null===(N=Le.richSummary)||void 0===N?void 0:N.siteName,isSquarePin:we,gridTitle:null!==(U=Le.gridTitle)&&void 0!==U?U:void 0,pinId:rt,priceSummary:Ht&&{maxPrice:Ht.maxPrice,minPrice:Ht.minPrice,price:Ht.price,standardPrice:Ht.standardPrice},richMetadataTitle:null===(B=Le.richMetadata)||void 0===B?void 0:B.title,richSummaryDisplayName:null===(K=Le.richSummary)||void 0===K?void 0:K.displayName,storyPinDataId:Le.storyPinDataId,storyPinDataMetadataPinTitle:null===(H=Le.storyPinData)||void 0===H||null===($=H.metadata)||void 0===$?void 0:$.pinTitle,title:Le.title})]}),"reported"===ye?(0,v.jsx)(le,{color:null!==(W=Le.dominantColor)&&void 0!==W?W:"",getFeedbackText:()=>({title:this.props.i18n._('Reported', 'message displayed after reporting a pin', 'message displayed after reporting a pin'),subTitle:this.props.i18n._('Thanks! Your feedback helps us keep the Pinterest community safe.', 'message displayed after reporting a pin', 'message displayed after reporting a pin')}),pinId:rt,showing:!0}):(0,v.jsx)(le,{color:null!==(G=Le.dominantColor)&&void 0!==G?G:"",getFeedbackText:this.getPinHiddenFeedbackText,onUnfollow:this.handleUnfollowPin,pinId:rt,showing:!!ye,unfollowed:"unfollowed"===ye,viewParameter:Me,viewType:Ne}),!_t&&it&&!It&&(0,v.jsx)(D.Z,{id:"related-pins-title",children:(0,v.jsx)(_.iP,{onTap:()=>{Ye({action:"click",item:"related-pins-title"})},fullWidth:!1,children:(0,v.jsx)(pe,{description:Le.description,gridTitle:null!==(V=Le.gridTitle)&&void 0!==V?V:void 0,pinId:rt,richMetadataTitle:null===(Y=Le.richMetadata)||void 0===Y?void 0:Y.title,richSummaryDisplayName:null===(J=Le.richSummary)||void 0===J?void 0:J.displayName,storyPinDataId:Le.storyPinDataId,storyPinDataMetadataPinTitle:null===(X=Le.storyPinData)||void 0===X||null===(Q=X.metadata)||void 0===Q?void 0:Q.pinTitle,title:Le.title,queryRef:Qe})})}),ae&&(0,v.jsx)(Pe.W,{data:ae})]})}render(){const{componentType:e,pin:{entityId:t},trackingParams:n,viewParameter:i,viewType:a,slotIndex:r,objectIdStr:o,viewData:l}=this.props,{startImpressionTimer:s}=this.state;return(0,v.jsx)(Te.dL,{auxData:this.getAuxData(),component:e,impressionData:this.getImpressionData(),isPaused:!s,loggingId:t,objectIdStr:o,slotIndex:r,trackingParams:n,viewData:l,viewParameter:i,viewType:a,children:({impressionTrackerRef:e})=>(0,v.jsx)(_.xu,{ref:e,children:this.renderPinCard()})})}}function $e(e){var t;const n=(0,x.ZP)(),i=(0,Re.g)(),{checkExperiment:r}=(0,Z.F)(),o=(0,U.useHistory)(),l=(0,U.useLocation)(),d=(0,F.ZP)(),c=(0,fe.Z)(),p=(0,Ee.yz)(),m=(0,xe.Z)(),h=(0,Ae._)({id:1000107}),g=(0,De.Z)(),_=(0,R.Z)(),{country:y,isAuthenticated:f,isBot:b}=(0,B.B)(),w=(0,ve.Z)(),{hasPoorConnection:S,viewedSharedPins:P}=(0,a.useSelector)((({session:e})=>e)),k=(0,a.useSelector)((({experiences:e})=>{const t=e[1000107];return!!t&&500678===t.experience_id})),I=(0,a.useSelector)((({session:e,users:t})=>(0,u.Z)(t[e.userId].created_at))),{getPinFeedbackStatus:T,setPinFeedbackStatus:j}=(0,Le.K)(),{pin:C}=e,A=C.entityId,E=!!C.storyPinDataId&&!1===C.shouldOpenInStream&&["enabled","enabled_rollout","employees"].includes(r(m.isAuth?"closeup_auth_mweb_static_image_idea_pin":"closeup_unauth_mweb_static_image_idea_pin",{dangerouslySkipActivation:!0}).group),D={...[["136x136",C.imageSpec_136x136],["170x",C.imageSpec_170x],["236x",C.imageSpec_236x],["474x",C.imageSpec_474x],["736x",C.imageSpec_736x],["orig",C.imageSpec_orig]].reduce(((e,[t,n])=>{var i,a,r,o;return n?(e[t]={dominant_color:null!==(i=n.dominantColor)&&void 0!==i?i:void 0,height:null!==(a=n.height)&&void 0!==a?a:void 0,url:null!==(r=n.url)&&void 0!==r?r:void 0,width:null!==(o=n.width)&&void 0!==o?o:void 0},e):e}),{})},L=e=>{var t,n;return(0,s.Z)({embedSrc:null===(t=C.embed)||void 0===t?void 0:t.src,embedType:null===(n=C.embed)||void 0===n?void 0:n.type,images:D,preferredResolution:e})},z=(e=>{const{attribution:t,embed:n,isEligibleForWebCloseup:i,richSummary:a,videos:r,storyPinDataId:o}=e,l=n||(null==t?void 0:t.embed);return i?"oneTap":r||"video"===(null==l?void 0:l.type)?"video":"gif"===(null==l?void 0:l.type)?"gif":"product"===(null==a?void 0:a.typeName)?"product":"recipe"===(null==a?void 0:a.typeName)?"recipe":o?"storyPin":"image"})(C),M=(0,Ce.z)();(0,ye.Z)((()=>{if(M&&"desktop"!==d&&"image"===z){const e=D["236x"]||D["136x136"],t=L("736x");t&&M.setData(A,{dominantColor:C.dominantColor,imageUrl:t,placeholder:e&&{width:e.width,height:e.height,url:e.url}})}}));const O=92===e.viewParameter&&(null===(t=P&&P[A])||void 0===t?void 0:t.inviteCode);return(0,v.jsx)(He,{...e,adBlockTextTransform:w,checkExperiment:r,contextualMenuBestPinImgSrc:L(),country:y,deviceType:d,experience:h,feedbackStatus:T({pinId:A}),hasPoorConnection:S,history:o,i18n:n,isAuth:f,isBot:b,isEligibleForStaticImageIdeaPin:E,isImageOnlyExp:k,location:l,logContextEvent:g,markPinUnfollowed:()=>j({pinId:A,pinFeedbackStatus:"unfollowed"}),pwaType:p,pinRepDataType:z,pinCardSharedHeader:!!O&&(0,v.jsx)(ne,{inviteCode:O}),showUnauthDesktopContextMenu:c,trackInteraction:_,unauthDesktopSignupModalPageContext:i,viewerIsNewUser:I})}const We=(0,r.Z)({useGraphQLAdapter:e=>{const t=(0,P.useFragment)(Me,e);return{debug:null,pin:t,pinGraphqlRef:t}},useLegacyAdapter:e=>{var t,n,i,a,r,o,l,s,d,c,u,p;const m=(0,S.S6)()(e);if(!m)return null;const h=e=>e&&{entityId:e.id,fullName:e.full_name,imageLargeUrl:e.image_large_url,imageMediumUrl:e.image_medium_url,imageSmallUrl:e.image_small_url,username:e.username},g=e=>e&&{dominantColor:e.dominant_color,height:e.height,url:e.url,width:e.width},_=m.reaction_counts;return{debug:m.debug,pin:{adMatchReason:m.ad_match_reason,altText:m.alt_text,attribution:m.attribution&&{embed:m.attribution.embed&&{type:m.attribution.embed.type}},board:m.board&&{entityId:m.board.id,followedByMe:m.board.followed_by_me,isCollaborative:m.board.is_collaborative,name:m.board.name,privacy:m.board.privacy,url:m.board.url},category:m.category,closeupDescription:m.closeup_description,closeupUnifiedDescription:m.closeup_unified_description,descriptionHtml:m.description_html,description:m.description,domain:m.domain,dominantColor:m.dominant_color,embed:m.embed&&{height:m.embed.height,src:m.embed.src,type:m.embed.type,width:m.embed.width},entityId:m.id,gridTitle:m.grid_title,imageCrop:m.image_crop&&{minY:m.image_crop.min_y,maxY:m.image_crop.max_y},imageSignature:m.image_signature,imageSpec_136x136:g(null===(t=m.images)||void 0===t?void 0:t["136x136"]),imageSpec_170x:g(null===(n=m.images)||void 0===n?void 0:n["170x"]),imageSpec_236x:g(null===(i=m.images)||void 0===i?void 0:i["236x"]),imageSpec_474x:g(null===(a=m.images)||void 0===a?void 0:a["474x"]),imageSpec_736x:g(null===(r=m.images)||void 0===r?void 0:r["736x"]),imageSpec_orig:g(null===(o=m.images)||void 0===o?void 0:o.orig),isDownstreamPromotion:m.is_downstream_promotion,isEligibleForPdp:m.is_eligible_for_pdp,isEligibleForWebCloseup:m.is_eligible_for_web_closeup,isOosProduct:m.is_oos_product,isPromoted:m.is_promoted,isStaleProduct:m.is_stale_product,linkDomain:m.link_domain&&{officialUser:m.link_domain.official_user&&{fullName:m.link_domain.official_user.full_name,entityId:null!==(l=m.link_domain.official_user.id)&&void 0!==l?l:"",imageLargeUrl:m.link_domain.official_user.image_large_url,imageMediumUrl:m.link_domain.official_user.image_medium_url,imageSmallUrl:m.link_domain.official_user.image_small_url,username:m.link_domain.official_user.username,isPrimaryWebsiteVerified:m.link_domain.official_user.is_primary_website_verified}},link:m.link,nativeCreator:h(m.native_creator),pinnedToBoard:m.pinned_to_board&&{entityId:null!==(s=m.pinned_to_board.id)&&void 0!==s?s:""},pinJoin:m.pin_join&&{visualAnnotation:m.pin_join.visual_annotation},pinner:m.pinner&&{entityId:m.pinner.id,explicitlyFollowedByMe:m.pinner.explicitly_followed_by_me,fullName:m.pinner.full_name,imageLargeUrl:m.pinner.image_large_url,imageMediumUrl:m.pinner.image_medium_url,imageSmallUrl:m.pinner.image_small_url,username:m.pinner.username},promoter:h(m.promoter),promotedIsRemovable:m.promoted_is_removable,reactionCountsData:_&&Object.keys(_).map((e=>({reactionType:Number(e),reactionCount:_[e]}))),richMetadata:m.rich_metadata&&{description:m.rich_metadata.description,title:m.rich_metadata.title,recipe:m.rich_metadata.recipe&&{fromAggregatedData:m.rich_metadata.recipe.from_aggregated_data},products:m.rich_metadata.products&&m.rich_metadata.products.map((e=>{var t,n,i,a;return{name:e.name,offerSummary:{maxPrice:null===(t=e.offer_summary)||void 0===t?void 0:t.max_price,minPrice:null===(n=e.offer_summary)||void 0===n?void 0:n.min_price,price:null===(i=e.offer_summary)||void 0===i?void 0:i.price,standardPrice:null===(a=e.offer_summary)||void 0===a?void 0:a.standard_price}}}))},richSummary:m.rich_summary&&{aggregateRating:m.rich_summary.aggregate_rating&&{bestRating:m.rich_summary.aggregate_rating.best_rating,ratingValue:m.rich_summary.aggregate_rating.rating_value,reviewCount:m.rich_summary.aggregate_rating.review_count},displayName:m.rich_summary.display_name,displayCookTime:m.rich_summary.display_cook_time,siteName:m.rich_summary.site_name,typeName:m.rich_summary.type_name,products:m.rich_summary.products&&m.rich_summary.products.map((e=>{var t,n,i,a;return{name:e.name,offerSummary:{maxPrice:null===(t=e.offer_summary)||void 0===t?void 0:t.max_price,minPrice:null===(n=e.offer_summary)||void 0===n?void 0:n.min_price,price:null===(i=e.offer_summary)||void 0===i?void 0:i.price,standardPrice:null===(a=e.offer_summary)||void 0===a?void 0:a.standard_price}}}))},seoUrl:m.seo_url,shoppingFlags:m.shopping_flags,shouldOpenInStream:m.should_open_in_stream,sourceInterest:m.source_interest&&{entityId:null!==(d=m.source_interest.id)&&void 0!==d?d:"",name:m.source_interest.name,urlName:m.source_interest.url_name},sponsorship:m.sponsorship&&{creator:m.sponsorship.creator&&{entityId:null!==(c=m.sponsorship.creator.id)&&void 0!==c?c:"",fullName:m.sponsorship.creator.full_name,imageLargeUrl:m.sponsorship.creator.image_large_url,imageMediumUrl:m.sponsorship.creator.image_medium_url,imageSmallUrl:m.sponsorship.creator.image_small_url,username:m.sponsorship.creator.username},sponsor:m.sponsorship.sponsor&&{entityId:null!==(u=m.sponsorship.sponsor.id)&&void 0!==u?u:"",fullName:m.sponsorship.sponsor.full_name,imageLargeUrl:m.sponsorship.sponsor.image_large_url,imageMediumUrl:m.sponsorship.sponsor.image_medium_url,imageSmallUrl:m.sponsorship.sponsor.image_small_url,username:m.sponsorship.sponsor.username}},storyPinDataId:m.story_pin_data_id,storyPinData:m.story_pin_data&&{hasProductPins:m.story_pin_data.has_product_pins,isDeleted:m.story_pin_data.is_deleted,metadata:m.story_pin_data.metadata&&{pinTitle:m.story_pin_data.metadata.pin_title}},title:m.title,trackedLink:m.tracked_link,trackingParams:m.tracking_params,videos:m.videos&&{entityId:null!==(p=m.videos.id)&&void 0!==p?p:"",videoList:m.videos.video_list&&{vHLSV4:m.videos.video_list.V_HLSV4&&{duration:m.videos.video_list.V_HLSV4.duration,height:m.videos.video_list.V_HLSV4.height,width:m.videos.video_list.V_HLSV4.width,url:m.videos.video_list.V_HLSV4.url},v720P:m.videos.video_list.V_720P&&{duration:m.videos.video_list.V_720P.duration,height:m.videos.video_list.V_720P.height,width:m.videos.video_list.V_720P.width,url:m.videos.video_list.V_720P.url}}},recommendationReason:m.recommendation_reason&&{reason:m.recommendation_reason.reason,board:m.recommendation_reason.board&&{name:m.recommendation_reason.board.name,url:m.recommendation_reason.board.url}}},pinGraphqlRef:null}}});function Ge(e){const{pinId:t,duploQueryRef:n,...i}=e;return(0,v.jsx)(We,{input:n?{enabled:!0,data:n}:{enabled:!1,data:t},children:({data:e})=>!!e&&(0,v.jsx)($e,{...i,debug:e.debug,pin:e.pin,pinGraphqlRef:e.pinGraphqlRef})})}},167525:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(898781),a=n(643010),r=n(883119),o=n(785893);function l({text:e,icon:t,largeIdentifier:n,largeMargin:l}){const s=(0,i.ZP)();return(0,o.jsxs)(r.xu,{zIndex:new r.Ry(1),alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:(0,a.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)"}},display:"flex",margin:l?4:2,overflow:"hidden",position:"absolute",rounding:"pill",padding:2,paddingX:n?4:void 0,height:n?36:24,top:!0,children:[t&&(0,o.jsx)(r.xu,{marginEnd:n?2:1,children:(0,o.jsx)(r.JO,{accessibilityLabel:s._('identifier that shows the pin type', 'pin.pincard.iconAccessibilityLabel', 'shows an icon with the pin type'),color:"default",icon:t,inline:!0,size:n?18:12})}),(0,o.jsx)(r.xv,{inline:!0,size:n?"200":"100",weight:"bold",children:e})]})}},99137:(e,t,n)=>{n.d(t,{x:()=>l,y:()=>s});var i=n(667294),a=n(425288),r=n(785893);const{Provider:o,useMaybeHook:l}=(0,a.Z)("ProfileViewContext");function s({children:e}){const[t,n]=(0,i.useState)(),[a,l]=(0,i.useState)(new Map),[s,d]=(0,i.useState)(),[c,u]=(0,i.useState)(),p=(0,i.useCallback)(((e,t)=>{l(new Map(a.set(e,t)))}),[a]),m=(0,i.useMemo)((()=>({boardPinDensity:t,boardSortOrder:a,profileBoardView:s,profilePinDensity:c,setBoardPinDensity:n,updateBoardSortOrder:p,setProfileBoardView:d,setProfilePinDensity:u})),[t,a,s,c,p]);return(0,r.jsx)(o,{value:m,children:e})}},255607:(e,t,n)=>{function i(e){const t=Object.keys(e);if(t.length>0){return t.sort(((t,n)=>e[n]-e[t])).slice(0,3)}return null}function a(e){const t=Object.values(e);if(t.length>0){return t.reduce(((e,t)=>e+t),0)}return 0}function r({boardIsCollaborative:e,isDownstreamPromotion:t,isPromoted:n,storyPinDataId:i,videosId:a,isEligibleForStaticImageIdeaPin:r}){return!(n||t||!a&&!i||null!=e&&e||r)}n.d(t,{At:()=>i,J6:()=>r,Ud:()=>a})},350118:(e,t,n)=>{n.d(t,{AF:()=>l,H0:()=>s,S6:()=>d,_S:()=>c});var i=n(702664),a=n(425288),r=n(785893);const{Provider:o,useHook:l,useMaybeHook:s}=(0,a.Z)("Pins");function d(){const e=l();return t=>e[t]}function c({children:e}){const t=(0,i.useSelector)((({pins:e})=>e),i.shallowEqual);return(0,r.jsx)(o,{value:t,children:e})}},698330:(e,t,n)=>{n.d(t,{Tt:()=>u,cm:()=>c,kW:()=>s,kY:()=>p,mN:()=>d});var i=n(702664),a=n(19121),r=n(425288),o=n(785893);const{Provider:l,useHook:s}=(0,r.Z)("Users");function d(){const e=s();return t=>e[t]}function c(){const e=s();return t=>{const n=Object.keys(e).find((n=>e[n].username===t));return e[null!=n?n:""]}}function u(){const{id:e}=(0,a.Z)();return s()[null!=e?e:""]}function p({children:e}){const t=(0,i.useSelector)((({users:e})=>e),i.shallowEqual);return(0,o.jsx)(l,{value:t,children:e})}},21384:(e,t,n)=>{n.d(t,{Z:()=>T});var i=n(667294),a=n(702664),r=n(373420),o=n(430322),l=n(121151),s=n(898781),d=n(643010),c=n(883119),u=n(50286),p=n(785893);function m({showFullScreenInfo:e,isOpen:t,interstitialUpsellDismissed:n,children:i}){const a=(0,s.ZP)(),r=(0,u.HG)(),m=(0,u.Wb)();return m||r?(0,p.jsx)(l.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,mobileIsFullscreen:!0,isOpen:e&&!m,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,p.jsx)(c.xu,{color:(0,d.Yc)()?"dark":"default",dangerouslySetInlineStyle:{__style:{border:(0,d.Yc)()?void 0:"1px solid #efefef",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"}},height:"100%",left:!0,maxHeight:"100%",overflow:"auto",position:"fixed",top:!0,width:r?"100vw":"100%",zIndex:new c.Ry(1),children:(0,p.jsx)(c.xu,{bottom:!0,left:!0,right:!0,top:!0,position:"fixed",padding:5,overflow:"scroll",marginTop:n?0:12,children:i})})}):(0,p.jsx)(o.default,{accessibilityModalLabel:a._('Close', 'Close modal window', 'Close modal window'),isOpen:t,onDismiss:()=>{},mobileAccessibilityCloseIconLabel:a._('Close', 'Close modal window', 'Close modal window'),children:i})}var h,g=n(784590),_=n(690035),v=n(52022),y=n(385801),f=n(867820),x=n(780280),b=n(167912);const w=void 0!==h?h:h=n(276667);function S({iconColor:e,size:t,isMainPin:n,isAuth:o,pinCreditPrefix:l,onClickTitleOrDomain:d,pinId:h,graphqlRef:g}){const b=(0,s.ZP)(),w=(0,v.Z)(),{isBot:S}=(0,x.B)(),{unauthInterstitialDismissed:P}=(0,a.useSelector)((({session:e})=>e)),[k,I]=(0,i.useState)(!1),T=(0,u.HG)(),j=(0,u.Wb)(),C=(0,_.Z)(),A=!j&&!o,E=!T,D=(0,p.jsxs)(c.xu,{padding:5,dangerouslySetInlineStyle:A?{__style:{paddingTop:0,paddingBottom:30}}:void 0,children:[(0,p.jsx)(c.xu,{left:!0,position:"absolute",top:!0,color:"default",padding:4,"data-test-id":"close-seo-vase-see-more-button",children:(0,p.jsx)(c.hU,{accessibilityLabel:b._('Cancel', 'close modal icon', 'close modal icon'),icon:"cancel",size:"sm",onClick:()=>{(0,f.My)("mweb.unauth.see_more.dismissed"),w({action:"click",item:"close-seo-vase-see-more-button"}),I(!1),n&&(0,f.My)("mweb.unauth.see_more.main_pin.dismissed")},iconColor:"gray"})}),(0,p.jsx)(c.xu,{marginBottom:A?0:8,children:(0,p.jsx)(c.xv,{align:A?"start":"center",weight:A?void 0:"bold",children:(0,p.jsx)("span",{className:"deprecatedTextSizeXL",children:A?null:b._('More information', 'more information label', 'more information label')})})}),(0,p.jsx)(y.Z,{pinCreditPrefix:l,onClickTitleOrDomain:d,pinId:h,queryRef:g})]});return(0,p.jsxs)(c.xu,{right:!0,"data-test-id":"SeoVaseSeeMoreButton",dangerouslySetInlineStyle:{__style:{float:"right"}},children:[(0,p.jsx)(c.hU,{accessibilityLabel:b._('See more', 'more information icon', 'more information icon'),icon:"ellipsis",iconColor:null!=e?e:"gray",size:t||"md",onClick:({event:e})=>{e.stopPropagation(),(0,f.My)("mweb.unauth.see_more.shown."+(n?"main_pin":"related_pins")),w({action:"click",item:"seo-vase-see-more-button"}),j||o?(I(!0),n&&(0,f.My)("mweb.unauth.see_more.main_pin.shown")):C({pinId:h||"",location:n?"main-pin-more-information":"non-main-pin-more-information",vaseSection:(0,p.jsx)(y.Z,{pinCreditPrefix:l,onClickTitleOrDomain:d,pinId:h,queryRef:g})})}}),S&&E?(0,p.jsx)(c.xu,{display:k?"flex":"none",children:D}):(0,p.jsx)(m,{showFullScreenInfo:k,isOpen:k&&!j,interstitialUpsellDismissed:!!P,children:D}),j&&k&&(0,p.jsx)(r.default,{accessibilityModalLabel:"test",onDismiss:()=>{},children:D})]})}function P(e){const t=(0,b.useFragment)(w,e.graphqlRef);return(0,p.jsx)(S,{iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,pinId:e.pinId,graphqlRef:t})}function k(e){return(0,p.jsx)(S,{iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,pinId:e.pinId})}function I(e){return(0,g.Z)({name:"PinResource",options:{id:e.pinId,field_set_key:"unauth_ssr_lazy_load"}}),(0,p.jsx)(k,{...e})}function T(e){return e.graphqlRef?(0,p.jsx)(P,{...e}):e.lazyLoadAnnotations?(0,p.jsx)(I,{...e}):(0,p.jsx)(k,{...e})}},914142:(e,t,n)=>{n.d(t,{Z:()=>d,j:()=>s});var i=n(898781),a=n(883119),r=n(773285),o=n(349700),l=n(785893);const s=[0,2,3];function d({hasAffiliatedProducts:e,isPromoted:t,sponsorName:n,sponsorshipStatus:d,textColor:c}){const u=(0,i.ZP)(),p=(0,r.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled;let m;t?m=(0,o.nk)(u._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:n}):d||0===d?n&&!s.includes(d)?m=(0,o.nk)(u._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:n}):2!==d&&(m=u._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):e&&(m=u._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'));const h=p&&!t?"Ad • ":"";return(0,l.jsxs)(a.xv,{color:c,size:"100",children:[h,(0,l.jsx)(o.r7,{text:m})]})}},629377:(e,t,n)=>{n.d(t,{k:()=>c,b:()=>d});var i=n(667294),a=n(425288);const r={selectedStelaItem:null};function o(e=r,t){switch(t.type){case"STELA_SELECT":return{...e,selectedStelaItem:t.payload.selectedStelaItem};default:return e}}var l=n(785893);const{Provider:s,useHook:d}=(0,a.Z)("Stela");function c({children:e}){const[t,n]=(0,i.useReducer)(o,r),a=(0,i.useCallback)((({selectedStelaItem:e})=>{n({type:"STELA_SELECT",payload:{selectedStelaItem:e}})}),[]),d=(0,i.useMemo)((()=>({stela:t,selectStela:a})),[t,a]);return(0,l.jsx)(s,{value:d,children:e})}},640064:(e,t,n)=>{n.d(t,{f:()=>l,w:()=>s});var i=n(667294),a=n(425288),r=n(785893);const{Provider:o,useHook:l}=(0,a.Z)("Session");function s({children:e}){const[t,n]=(0,i.useState)(void 0),a=(0,i.useCallback)((()=>n(void 0)),[]),l=(0,i.useMemo)((()=>({unauthFollowUserId:t,setUnauthFollowUserId:n,removeUnauthFollowUserId:a})),[t,a]);return(0,r.jsx)(o,{value:l,children:e})}},394332:(e,t,n)=>{n.d(t,{Z:()=>w});var i,a=n(667294),r=n(391254),o=n(941646),l=n(862193),s=n(898781),d=n(52022),c=n(992750),u=n(350118),p=n(780280),m=n(883119),h=n(167912),g=n(785893);const _=void 0!==i?i:i=n(85934);function v({direction:e,handleClick:t,testId:n,isRTL:i}){const a=(0,s.ZP)(),r=(0,d.Z)(),l=i?["arrow-back","arrow-forward"]:["arrow-forward","arrow-back"];return(0,g.jsx)("div",{style:{alignItems:"center",background:`linear-gradient(to ${"left"===e?"right":"left"}, rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%)`,border:"none",cursor:"pointer",display:"flex",height:30,lineHeight:25,outline:"none",position:"absolute",top:0,width:45,..."right"===e?{right:0,justifyContent:"flex-end",textAlign:"right"}:{left:0,justifyContent:"flex-start",textAlign:"left"}},onClick:e=>{r({action:"click",item:"board-pills-arrow"}),t(e)},role:"button","aria-label":"arrow",tabIndex:-1,"aria-hidden":"true","data-test-id":n,children:(0,g.jsx)(m.xu,{position:"absolute",left:"left"===e,right:"right"===e,borderStyle:"none",children:(0,g.jsx)(o.Z,{id:"board-pills-arrow",children:(0,g.jsx)(m.JO,{accessibilityLabel:a._('Scroll', 'annotations.scrollArrow', 'Accessibility label for scroll arrow button'),icon:"left"!==e?l[0]:l[1],size:8,color:"subtle"})})})})}function y({name:e,url:t}){const[n,i]=(0,a.useState)(!1),r=(0,d.Z)();return(0,g.jsx)(m.xu,{"data-test-id":"vase-tag",display:"inlineBlock",marginTop:1,marginEnd:1,paddingX:2,paddingY:1,height:26,color:"secondary",rounding:8,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:(0,g.jsx)(m.xv,{color:n?"subtle":"default",inline:!0,overflow:"breakWord",size:"100",weight:"bold",children:t?(0,g.jsx)(m.rU,{display:"inlineBlock",tapStyle:"compress",href:t,rounding:8,onClick:()=>{r({action:"click",item:"vase-tag"})},underline:"hover",children:e}):e})})}function f({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:t,mode:n}){const i=(0,a.useRef)(null),[l,s]=(0,a.useState)(!1),[u,h]=(0,a.useState)(!1),_=(0,d.Z)(),{isRTL:f}=(0,p.B)();(0,a.useEffect)((()=>{const e=i.current,t=()=>{if("inlineWithScrollArrows"===n&&i.current){const e=i.current,t=Math.abs(e.scrollLeft||0),n=Math.abs(e.scrollWidth||0),a=t>4,r=t+e.clientWidth<n-4,o=f?r:a;s(f?a:r),h(o)}else s(!1),h(!1)};return t(),null==e||e.addEventListener("scroll",t),()=>{null==e||e.removeEventListener("scroll",t)}}),[n,f]);const x=e=>t=>{t.preventDefault(),t.stopPropagation(),"right"===e&&_({action:"click",item:"board-pills-arrow-button-right"});const n=i.current;if(!n)return;const a=("left"===e?-1:1)*n.clientWidth*.5;n.scrollBy(a,0)},{annotationsWithLinks:b}=(0,c.eK)({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:t});return(0,g.jsx)(m.kC,{alignItems:"center",justifyContent:"end",children:(0,g.jsxs)(m.xu,{display:"flex",overflow:"auto",width:"100%",position:"relative","data-test-id":"vase-carousel",children:[(0,g.jsx)(r.Z,{unsafeCSS:"\n::-webkit-scrollbar {\n  display: none;\n}\n"}),u&&(0,g.jsx)(v,{direction:"left",handleClick:x("left"),testId:"left-scroll-arrow",isRTL:f}),(0,g.jsx)(m.xu,{overflow:"auto",padding:0,dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",scrollbarWidth:"none",whiteSpace:"nowrap"}},ref:i,children:b.map((({name:e,url:t})=>(0,g.jsx)(y,{name:e,url:t},t||e)))}),l&&(0,g.jsx)(o.Z,{id:"board-pills-arrow-button-right",children:(0,g.jsx)(v,{direction:"right",handleClick:x("right"),testId:"right-scroll-arrow",isRTL:f})})]})})}function x(e){var t;const n=(0,h.useFragment)(_,e.graphqlRef),i=(0,l.Z)(n),a=(null==n||null===(t=n.pinJoin)||void 0===t?void 0:t.visualAnnotation)||[];return a.length<1?null:(0,g.jsx)(f,{mode:e.mode,pinJoinVisualAnnotation:a,pinJoinAnnotationsWithLinks:i||void 0})}function b(e){var t,n,i;const a=(0,u.S6)()(e.pinId||"");return((null==a||null===(t=a.pin_join)||void 0===t?void 0:t.visual_annotation)||[]).length<1?null:(0,g.jsx)(f,{mode:e.mode,pinJoinVisualAnnotation:null==a||null===(n=a.pin_join)||void 0===n?void 0:n.visual_annotation,pinJoinAnnotationsWithLinks:null==a||null===(i=a.pin_join)||void 0===i?void 0:i.annotations_with_links})}function w(e){return e.graphqlRef?(0,g.jsx)(x,{...e}):(0,g.jsx)(b,{...e})}},385801:(e,t,n)=>{n.d(t,{Z:()=>I});var i=n(667294),a=n(934494),r=n(927104),o=n(941646),l=n(52022),s=n(867820),d=n(50286),c=n(883119),u=n(785893);function p({boardUrl:e,boardName:t,boardPrivacy:n,pinnerFullName:i,pinnerImageSmallUrl:a,pinnerImageLargeUrl:r}){const p=(0,d.HG)(),m=(0,l.Z)();if(!e||!t)return null;const h=e.split("/")[1],g=i||h,_=a||r;return(0,u.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[_?(0,u.jsx)(c.iP,{role:"link",href:`/${h}/`,fullWidth:!1,tapStyle:"compress",onTap:()=>{(0,s.My)(`pcons.${p?"desktop":"mobile"}.see-more-button-creator`),m({action:"click",item:"see-more-button-creator"})},children:(0,u.jsx)(c.xu,{rounding:"circle",width:32,height:32,overflow:"hidden",marginEnd:2,"data-test-id":"see-more-button-creator",children:(0,u.jsx)(c.Ee,{naturalHeight:32,naturalWidth:32,alt:g,fit:"cover",color:"rgb(231, 186, 176)",src:_})})},"profile-link"):null,(0,u.jsxs)(c.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,u.jsx)(o.Z,{id:"see-more-button-creator-full-name",children:(0,u.jsx)(c.iP,{onTap:()=>{(0,s.My)(`pcons.${p?"desktop":"mobile"}.see-more-button-creator-full-name`),m({action:"click",item:"see-more-button-creator-full-name"})},children:(0,u.jsx)(c.xv,{color:"default",inline:!0,size:"100",weight:"bold",children:(0,u.jsx)(c.rU,{href:`/${h}/`,display:"inlineBlock",tapStyle:"compress",underline:"hover",children:g},"profile-link")},"profileLink")})}),"protected"===n?null:(0,u.jsx)(c.xv,{color:"default",inline:!0,size:"100",children:(0,u.jsx)(c.rU,{href:null!=e?e:"",display:"inlineBlock",tapStyle:"compress",underline:"hover",children:null!=t?t:""},"board-link")},"boardLink")]})]})}var m,h=n(898781),g=n(394332),_=n(349700),v=n(623568),y=n(350118),f=n(780280),x=n(992750),b=n(298024),w=n(167912);const S=void 0!==m?m:m=n(877821);function P({pin:e,pinId:t,forwardRef:n,onClickTitleOrDomain:a,pinCreditPrefix:m}){var y,w,S,P,k,I,T,j,C;const A=(0,h.ZP)(),E=(0,d.ml)(),D=(0,d.Wb)(),{isAuthenticated:F,isBot:L}=(0,f.B)(),R=(0,l.Z)(),z=!F&&!L&&E,M=a||null,[O,Z]=(0,i.useState)(!1),N=(0,b.si)(),U=(0,b.Re)(),B=(0,x.fs)({pinTitle:e.title,gridTitle:e.gridTitle,richSummaryDisplayName:null===(y=e.richSummary)||void 0===y?void 0:y.displayName,richMetadataTitle:null===(w=e.richMetadata)||void 0===w?void 0:w.title,storyPinDataId:e.storyPinDataId,storyPinDataMetadataPinTitle:null===(S=e.storyPinData)||void 0===S||null===(P=S.metadata)||void 0===P?void 0:P.pinTitle})||e.description,K=(B||"").length>U,{description:H}=(0,x.eK)({richMetadataDescription:null===(k=e.richMetadata)||void 0===k?void 0:k.description,richSummaryDisplayName:null===(I=e.richSummary)||void 0===I?void 0:I.displayName,closeupUnifiedDescription:e.closeupUnifiedDescription}),$=H.length>N,[W,G]=(0,i.useState)(!$&&!K),V=(0,v._S)(e.domain)?e.domain:"";return(0,u.jsxs)(c.xu,{children:[(0,u.jsxs)(c.xu,{children:[(0,u.jsxs)(c.xu,{as:"figcaption",paddingX:D?11:0,children:[(0,u.jsx)(c.X6,{id:"vase-pin-title",color:"default",size:"300",accessibilityLevel:3,children:O||L?B:(0,r.Z)(B||"",U)}),!!B&&(0,u.jsx)(c.xu,{height:H?8:0}),H&&($||K)?(0,u.jsx)(o.Z,{id:"vase-pin-description",children:(0,u.jsxs)(c.iP,{onTap:()=>{O||F||((0,s.NC)("click_open_description_in_sheet"),R({action:"click",item:"more-description-in-sheet"})),G(!W),Z(!O)},fullWidth:!1,children:[(0,u.jsx)(c.xv,{color:"default",size:"200",inline:!0,children:O||L?H:(0,r.Z)(H,N)}),(0,u.jsx)(c.xu,{display:"inlineBlock",paddingX:1,children:(0,u.jsx)(c.xv,{weight:"bold",size:"200",inline:!0,children:O||L?A._('Less', 'Toggle less description button', 'Toggle less description button'):A._('More', 'Toggle more description button', 'Toggle more description button')})})]})}):(0,u.jsx)(o.Z,{id:"vase-pin-description",children:(0,u.jsx)(c.xv,{color:"default",size:"200",inline:!0,children:H})})]}),z&&(W||L)&&!!V&&(0,u.jsx)(c.xu,{marginTop:2,children:(0,u.jsx)(c.kC,{alignItems:"center",direction:"row",width:"100%",children:(0,_.nk)(A._('{{ pinCreditPrefix }} {{ pinCredit }}', 'tells the user where the pin is from in the form of Saved from website', 'tells the user where the pin is from in the form of Saved from website'),{pinCreditPrefix:(0,u.jsx)(c.xu,{display:"inlineBlock",children:(0,u.jsx)(c.xv,{inline:!0,size:"200",children:m})},"pinCreditsPrefix"),pinCredit:(0,u.jsx)(c.xu,{display:"inlineBlock",marginStart:1,maxWidth:"60vw","data-test-id":"pin-domain-link",children:(0,u.jsx)(c.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),R({action:"click",item:"pin-domain-link"}),(0,s.My)("mweb_pin_page.pin_link.clickthrouh"),F||(0,s.NC)("click_pin_closeup_link_clickthrough"),M&&M()},tapStyle:"compress",children:(0,u.jsx)(c.xv,{size:"200",lineClamp:1,children:(0,u.jsx)("span",{style:{textDecoration:"underline"},children:V})},"pinLinkDomain")})},"pinCredits")})})})]}),!!e.board&&(W||L)&&(0,u.jsx)(c.xu,{marginTop:4,children:(0,u.jsx)(p,{boardUrl:e.board.url||void 0,boardName:e.board.name||void 0,boardPrivacy:e.board.privacy||void 0,pinnerFullName:(null===(T=e.pinner)||void 0===T?void 0:T.fullName)||void 0,pinnerImageSmallUrl:null===(j=e.pinner)||void 0===j?void 0:j.imageSmallUrl,pinnerImageLargeUrl:null===(C=e.pinner)||void 0===C?void 0:C.imageLargeUrl})}),(0,u.jsx)(c.xu,{marginTop:4,children:(0,u.jsx)(g.Z,{pinId:t,mode:"expanded",graphqlRef:n})})]})}const k=(0,a.Z)({useGraphQLAdapter:e=>{const t=(0,w.useFragment)(S,e);return{pin:t,forwardRef:t}},useLegacyAdapter:e=>{const t=(0,y.S6)()(null!=e?e:"");return t?{pin:{board:t.board&&{name:t.board.name,privacy:t.board.privacy,url:t.board.url},closeupUnifiedDescription:t.closeup_unified_description,description:t.description,domain:t.domain,gridTitle:t.grid_title,pinner:t.pinner&&{fullName:t.pinner.full_name,imageLargeUrl:t.pinner.image_large_url,imageSmallUrl:t.pinner.image_small_url},richMetadata:t.rich_metadata&&{description:t.rich_metadata.description,title:t.rich_metadata.title},richSummary:t.rich_summary&&{displayName:t.rich_summary.display_name},storyPinData:t.story_pin_data&&{metadata:t.story_pin_data.metadata&&{pinTitle:t.story_pin_data.metadata.pin_title}},storyPinDataId:t.story_pin_data_id,title:t.title},forwardRef:null}:null}});function I({queryRef:e,pinId:t,...n}){return(0,u.jsx)(k,{input:e?{enabled:!0,data:e}:{enabled:!1,data:t},children:({data:e})=>e&&(0,u.jsx)(P,{...n,pinId:t,pin:e.pin,forwardRef:e.forwardRef})})}},156637:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),a=n(618446),r=n.n(a),o=n(999023),l=n(385740),s=n(785893);class d extends i.Component{componentDidMount(){const{setCurrentPageData:e,viewData:t,viewParameter:n,viewType:i}=this.props;e({viewData:t,viewParameter:n,viewType:i})}componentDidUpdate(e){const{setCurrentPageData:t,viewData:n,viewParameter:i,viewType:a}=this.props;i===e.viewParameter&&a===e.viewType&&r()(n,e.viewData)||t({viewData:n,viewParameter:i,viewType:a})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){const{auxData:e,children:t,component:n,objectIdStr:i,viewData:a,viewParameter:r,viewType:l,clientTrackingParams:d}=this.props;return(0,s.jsx)(o.Z,{auxData:e,component:n,objectIdStr:i,clientTrackingParams:d,viewData:a,viewParameter:r,viewType:l,children:t})}}function c(e){const{setViewContextData:t,clearViewContextData:n}=(0,l.sV)();return(0,s.jsx)(d,{...e,clearCurrentPageData:n,setCurrentPageData:t})}},999023:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(112690),r=n(867820);const o=({viewType:e,viewParameter:t,viewData:n,auxData:i,objectIdStr:a,component:o,clientTrackingParams:l,element:s},d)=>{const c=(u={event_type:13,view_type:e,view_parameter:t,view_data:n,aux_data:i,object_id_str:a,component:o,clientTrackingParams:l,element:s},Object.keys(u).reduce(((e,t)=>(void 0===u[t]&&delete e[t],e)),{...u}));var u;-1===Object.keys(c).indexOf("view_type")&&(0,r.My)("mweb.logging.null_view_type"),d(c)};function l(e){const{auxData:t,clientTrackingParams:n,children:r,component:l,element:s,objectIdStr:d,viewData:c,viewParameter:u,viewType:p}=e,m=(0,a.Z)(),h=JSON.stringify(t),g=JSON.stringify(c);return(0,i.useEffect)((()=>{o(e,m)}),[m,h,n,l,s,d,g,u,p]),i.Children.only(r)}},598615:(e,t,n)=>{n.d(t,{B:()=>h,Z:()=>g});var i=n(667294),a=n(329900),r=n(172071),o=n(938917),l=n(53987),s=n(407043),d=n(385740),c=n(52022),u=n(867820),p=n(616550),m=n(785893);const h=e=>"/"===e.pathname?"/":(0,l.am)(e)?`board/${e.pathname.substr(1)}`:e.pathname.substr(1);function g({children:e,componentType:t,within:n}){const l=(0,p.useLocation)(),{flushContextEvents:g,logContextEvent:_}=(0,s.v)(),{viewType:v,viewParameter:y}=(0,d.SU)(),f=(0,c.Z)();(0,i.useEffect)((()=>{f({action:"view",item:"download-button",within:n})}),[l,n,f]);const x=(0,i.useRef)(!1);(0,i.useEffect)((()=>{v&&202!==v?(_({component:t||13106,element:10308,event_type:9976,view_type:v,view_parameter:y,aux_data:{app_upsell_type:n,app_upsell_is_dupe:x.current}}),x.current=!0):r.Z.increment("webapp.track_app_upsell_viewed_invalid_parameters",1,{component:t,view_type:v,view_parameter:y,app_upsell_type:n,app_upsell_is_dupe:x.current})}),[t,_,y,v,n]);const b=(0,o.Z)();return(0,i.useEffect)((()=>{b||(0,u.My)(`mweb.app_upsell.forbidden_upsell.${n}`)}),[b,n]),(0,m.jsx)(a.Z,{children:i=>e({handleOpenApp:e=>{var a;(f({action:"click",item:"download-button",within:n}),(0,u.NC)("press_open_app",!0),_({component:t||13106,element:10308,event_type:102,view_type:v||202,view_parameter:y,aux_data:{app_upsell_type:n}}),_({component:t||13106,element:10308,event_type:9977,view_type:v||202,view_parameter:y,aux_data:{app_upsell_type:n}}),g(!0),i)&&(_({component:t||13106,element:10308,event_type:1701,view_type:v||202,view_parameter:y,aux_data:{app_upsell_type:n}}),i(null!==(a=null==e?void 0:e.deepLinkUri)&&void 0!==a?a:h(l),n))}})})}},296679:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(598615),a=n(821997),r=n(430322),o=n(898781),l=n(287072),s=n(948376),d=n(773285),c=n(50286),u=n(780280),p=n(664166),m=n(883119),h=n(785893);const g=({copyChangeGroup:e,deepLinkUri:t,isOpen:n,onDismiss:p,onOpenInApp:g,to:_,within:v})=>{var y;const f=(0,o.ZP)(),x=(0,c.Wb)(),{userAgent:{platform:b,raw:w}}=(0,u.B)(),{checkExperiment:S}=(0,d.F)(),P=(0,s.Rp)({platform:b,userAgent:w}),k=(0,l.Z)({href:null!=_?_:""}),I=x?60:40,T={control:{valueProp:f._('The best experience is on the app', 'mweb.unauth.app_upsell.app_value_prop', 'Mobile Web App Upsell title on Pin click informing the value of downloading an app'),description:f._('Free, unlimited access to ideas', 'mweb.app_upsell.description', 'description on app upsell modal')},enabled_copy_change_1:{valueProp:f._('Pick this up in the app', 'mweb.unauth.app_upsell.app_value_prop1', 'Mobile Web App Upsell title on Pin click informing the value of downloading an app'),description:f._('Continue in the Pinterest app for the best experience', 'mweb.app_upsell.description1', 'description on app upsell modal')},enabled_copy_change_2:{valueProp:f._('Pick this up in the app', 'mweb.unauth.app_upsell.app_value_prop1', 'Mobile Web App Upsell title on Pin click informing the value of downloading an app'),description:f._('Looks like you\u2019ve already downloaded the Pinterest app', 'mweb.app_upsell.description2', 'description on app upsell modal')},enabled_copy_change_3:{valueProp:f._('Pick this up in the app', 'mweb.unauth.app_upsell.app_value_prop1', 'Mobile Web App Upsell title on Pin click informing the value of downloading an app'),description:f._('Looks like you\u2019ve already downloaded Pinterest. Use the app for the best experience.', 'mweb.app_upsell.description3', 'description on app upsell modal')},enabled_copy_change_4:{valueProp:f._('Pinterest is better on the app', 'mweb.unauth.app_upsell.app_value_prop2', 'Mobile Web App Upsell title on Pin click informing the value of downloading an app'),description:f._('Continue in the app for the full experience', 'mweb.app_upsell.description4', 'description on app upsell modal')},enabled_copy_change_5:{valueProp:f._('Pinterest is better on the app', 'mweb.unauth.app_upsell.app_value_prop2', 'Mobile Web App Upsell title on Pin click informing the value of downloading an app'),description:f._('Continue in the app for more ways to discover ideas', 'mweb.app_upsell.description5', 'description on app upsell modal')}},{valueProp:j,description:C}=null!==(y=T[e||"control"])&&void 0!==y?y:{},{group:A}=S("mweb_auth_app_upsell_modal_cta_copy_change");let E=null!=e&&e.startsWith("enabled_copy_change")||"enabled_open_app"===A?f._('Open app', 'mweb.app_upsell.app_upsell_button_text1', 'Button to get the Pinterest Lite app'):f._('Get the app', 'mweb.app_upsell.app_upsell_button_text', 'Button to get the Pinterest Lite app');return"enabled_open_the_app"===A&&(E=f._('Open the app', 'mweb.app_upsell.app_upsell_button_text2', 'Button to get the Pinterest Lite app')),(0,h.jsx)(r.default,{accessibilityModalLabel:"",isOpen:n,mobileHideCloseIcon:!0,type:"app_upsell_v1",zIndex:new m.Ry(101),closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,h.jsx)(i.Z,{componentType:14157,within:v,children:({handleOpenApp:e})=>(0,h.jsxs)(m.xu,{padding:3,"data-test-id":"appUpsell-iframe",children:[(0,h.jsx)(m.xu,{display:"inlineBlock",position:"absolute",children:(0,h.jsx)(m.xu,{"data-test-id":"appUpsell-continue",children:(0,h.jsx)(m.hU,{accessibilityLabel:f._('close icon background', 'accesibility label for close icon on a overlay', 'accesibility label for close icon on a overlay'),icon:"cancel",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{p({event:e}),k&&!e.defaultPrevented&&(t(),k({event:e}))},size:"lg",iconColor:"gray"})})}),(0,h.jsxs)(m.xu,{paddingX:2,paddingY:6,children:[(0,h.jsx)(m.xu,{paddingY:2,justifyContent:"center",display:"flex",children:P?(0,h.jsx)(a.Z,{size:I}):(0,h.jsx)(m.JO,{color:"brandPrimary",icon:"pinterest",accessibilityLabel:"Pinterest App",size:I})}),(0,h.jsxs)(m.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,h.jsx)(m.xu,{paddingY:2,children:(0,h.jsx)(m.X6,{align:"center",size:"400",children:P?f._('Try Pinterest Lite', 'mweb.app_upsell.lite_app_upsell_title', 'Mobile Web App Upsell title informing the value of downloading the lite app'):j})}),(0,h.jsx)(m.xv,{align:"center",size:"300",children:P?f._('A space-saving way to discover new ideas', 'mweb.app_upsell.lite_app_value_prop', 'Mobile Web App Upsell subheading informing the user the value of downloading the lite app'):C}),(0,h.jsx)(m.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:8,children:(0,h.jsx)(m.zx,{fullWidth:!0,size:"lg",color:"red",onClick:()=>{e({deepLinkUri:t}),g()},text:E})})]})]})]})})})};function _({clientTrackingParams:e,copyChangeGroup:t,deepLinkUri:n,isOpen:i,onDismiss:a,onOpenInApp:r,shouldTrackDismiss:o,to:l,viewParameter:s,viewType:d,within:c}){return(0,h.jsx)(p.Z,{clientTrackingParams:e,viewType:d,viewParameter:s,children:(0,h.jsx)(g,{copyChangeGroup:t,deepLinkUri:n,isOpen:i,onDismiss:e=>{o&&(0,p.y)(),a(e)},onOpenInApp:()=>{(0,p.y)(),r()},to:l,within:c})})}},664166:(e,t,n)=>{n.d(t,{Z:()=>u,y:()=>c});var i=n(667294),a=n(807609),r=n(999023),o=n(30287),l=n(339363),s=n(844974),d=n(785893);const c=()=>{(0,s.Nh)("appUpsell",Date.now()),(0,s.qn)("firstUpsellTime")||(0,s.Nh)("firstUpsellTime",Date.now()),(0,l.Nh)("showedAppUpsellCurrentSession",!0)};function u({children:e,clientTrackingParams:t,viewParameter:n,viewType:l}){return(0,a.Z)()||(0,o.FP)(window)?null:(0,d.jsx)(r.Z,{viewType:l,viewParameter:n,component:13106,clientTrackingParams:t,children:(0,d.jsx)(i.Fragment,{children:e})})}},938917:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(702664);const a=()=>(0,i.useSelector)((({session:{canUseNativeApp:e}})=>e))},80811:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(667294),a=n(948618),r=n(815613),o=n(298361),l=n(112690),s=n(892819),d=n(19121),c=n(349700),u=n(867820),p=n(50286),m=n(780280),h=n(758127),g=n(722556),_=n(898781),v=n(883119),y=n(526760),f=n(785893);function x(e,t){const{full_name:n,username:i}=e,a=(0,f.jsx)(v.rU,{href:`/${i}`,display:"inlineBlock",underline:"hover",children:n},"linkToUser");return(0,c.nk)(t._('{{ linkToUser }} invited you to join this board', 'boardRep.invite.invitationText', 'Indicating that another user invited the viewer to this board'),{linkToUser:a})}const b=({children:e})=>{const t=(0,d.Z)(),n=(0,p.HG)(),i=t&&t.isAuth;return n&&i?(0,f.jsx)(v.X6,{accessibilityLevel:2,size:"400",lineClamp:1,children:e}):(0,f.jsx)(v.xv,{lineClamp:1,weight:"bold",children:e})};function w({archivedDate:e,boardUrl:t,canEdit:n,collaborators:d,collaboratorsCount:w=0,containerBackgroundColor:S,coverPhoto:P,followedByMe:k,fullSizeDrawer:I,sensitivityScreen:T,handleInviteResponse:j,hideMeta:C,id:A,invite:E,imagesLego:D=[],isBoardInviteAccepted:F,isActive:L,isAuthenticated:R,isCollaborative:z,isCollaborator:M,isOwner:O,isProtected:Z,isSecret:N,isTemporarilyDisabled:U,lastModifiedDate:B,layout:K,locale:H,name:$,numCols:W,onEditClick:G,onFollow:V,onUnfollow:q,owner:Y,pinCount:J=0,sectionCount:X,showFollowButton:Q,viewParameter:ee,viewType:te,viewerId:ne}){const ie=(0,_.ZP)(),ae=(0,o.Z)(),re=(0,s.Z)(),oe=(0,l.Z)(),le=(0,p.HG)(),{isRTL:se}=(0,m.B)(),de=le&&R,ce="square"===K?y.M0:y.z9,ue=D.map((e=>({url:e.url,name:$}))),pe=!!Y&&!n&&Q,me=!O&&!M&&!(null==T||!T.show_warning),he={board_id:A,reason:null==T?void 0:T.reason};(0,i.useEffect)((()=>{me&&oe({event_type:13,component:13861,view_type:215,aux_data:he})}),[]);const ge=Y?Y.id:void 0,_e=[...d.filter((({id:e})=>e===ge)),...d.filter((({id:e})=>e===ne&&e!==ge)),...d.filter((({id:e})=>![ge,ne].includes(e)))].map((e=>{var t,n;return{name:null!==(t=de?e.full_name:e.username)&&void 0!==t?t:"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":null!==(n=e.image_medium_url)&&void 0!==n?n:""}}));let ve=w>=_e.length?w-_e.length:0;ve=ve>99?100:ve;const ye=[..._e,...Array(ve).fill({name:"",src:""})],fe=de?24:16,xe=fe/3*(2*(_e.length>2?3:_e.length)+1);return(0,f.jsxs)(v.xu,{"data-test-id":`boardCard-${$}`,position:"relative",height:pe?"max(calc(25vh + 10px), 220px)":"100%",width:de?ce:"100%",children:[(0,f.jsx)(g.Z,{canEdit:n,containerBackgroundColor:S,coverPhoto:P,images:ue,isProtected:Z,isSecret:N,fullSize:I,showSensitivityScreen:me,isActive:L,onEditClick:G,layout:K,isTemporarilyDisabled:U}),!C&&(0,f.jsx)(i.Fragment,{children:E&&!U?(0,f.jsxs)(i.Fragment,{children:[(0,f.jsxs)(v.xu,{padding:2,alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,f.jsxs)(v.xu,{width:"100%",children:[(0,f.jsx)(v.rU,{href:null!=t?t:"",children:(0,f.jsx)(v.xu,{marginTop:0,marginBottom:1,children:(0,f.jsx)(b,{children:$})})}),F?(0,f.jsx)(v.xv,{size:"200",lineClamp:1,children:ie._('You\u2019ve joined', 'boardRep.invite.invitationAcceptedText', 'Text shown after accepting collaborator board invitations')}):(0,f.jsx)(v.xv,{size:"200",children:x(E.invited_by_user,ie)})]}),(0,f.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:xe,minWidth:xe,height:fe,children:(0,f.jsx)(v.HE,{accessibilityLabel:h.U+(ie._('Board has collaborators', 'BoardCard.AvatarGroup.Collaborators', 'Board description: title, number of pins, date, and it has collaborators or not.')),collaborators:ye})})]}),F?(0,f.jsx)(v.xu,{direction:"row",display:"flex",paddingX:2,children:(0,f.jsx)(v.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,f.jsx)(v.zx,{role:"link",href:null!=t?t:"",fullWidth:!0,size:"lg",text:ie._('See board', 'boardRep.invite.seeBoardButton', 'Button text to see board after accepting collaborator invite')})})}):(0,f.jsxs)(v.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,f.jsx)(v.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,f.jsx)(v.zx,{fullWidth:!0,onClick:()=>{null==j||j(!1)},size:"lg",text:ie._('Decline', 'boardRep.invite.declineButton', 'Button text to decline board collaborator invite or request')})}),(0,f.jsx)(v.xu,{marginBottom:3,paddingX:1,flex:"grow",children:(0,f.jsx)(v.zx,{fullWidth:!0,color:"red",onClick:()=>{null==j||j(!0)},size:"lg",text:ie._('Accept', 'boardRep.invite.acceptButton', 'Button text to accept board collaborator invite or request')})})]})]}):(0,f.jsxs)(v.xu,{height:de?void 0:y.s0,marginTop:de?0:1,paddingX:2,paddingY:de?2:0,children:[(0,f.jsxs)(v.xu,{alignItems:"center","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,f.jsx)(b,{children:$}),z&&!U&&(0,f.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1}},marginStart:2,width:xe,minWidth:xe,height:fe,children:(0,f.jsx)(v.HE,{accessibilityLabel:h.U+(ie._('Board has collaborators', 'BoardCard.AvatarGroup.Collaborators', 'Board description: title, number of pins, date, and it has collaborators or not.')),collaborators:ye})})]}),(0,f.jsxs)(v.xu,{alignItems:le?"center":"start",direction:le?"row":"column",display:"flex",marginTop:1,children:[(0,f.jsxs)(v.xv,{size:"100",lineClamp:1,children:[(0,f.jsx)(h.Z,{}),(0,c.nk)(ie.ngettext('{{ count }} Pin', '{{ count }} Pins', J, 'profile.ProfilePage.board.BoardCard.PinsCount', 'label for n amount of pins'),{count:re(H,J,{})})]}),!!X&&(0,f.jsx)(v.xv,{size:"100",children:(0,f.jsxs)(i.Fragment,{children:[le?(0,f.jsx)(a.Z,{ariaHidden:!0}):void 0,(0,f.jsx)(h.Z,{}),(0,c.nk)(ie.ngettext('{{ count }} section', '{{ count }} sections', X, 'profile.ProfilePage.board.BoardCard.SectionsCount', 'label for n amount of sections'),{count:X})]})}),!e&&(0,f.jsx)(v.xu,{dangerouslySetInlineStyle:{__style:{display:de?"inline-flex":"inline",paddingLeft:le?7:0,paddingRight:se?7:0}},children:(0,f.jsxs)(v.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,f.jsx)(h.Z,{}),ae(B,!0)]})}),e&&!le&&(0,f.jsxs)(v.xv,{color:"subtle",inline:!0,size:"100",lineClamp:1,children:[(0,f.jsx)(h.Z,{}),ie._('Archived', 'profile.ProfilePage.BoardCard.ArchivedText', 'label for archived boards')]})]}),pe&&(0,f.jsx)(v.xu,{marginTop:2===W?3:void 0,column:2===W?12:void 0,flex:"none",children:(0,f.jsx)(r.Z,{disabled:null==Y?void 0:Y.blocked_by_me,followEventType:26,id:A,isFollowed:k,onFollow:e=>{R||(0,u.NC)("press_follow_board"),V&&V(e)},onUnfollow:e=>{R||(0,u.NC)("press_unfollow_board"),q&&q(e)},shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:ee,viewType:te})})]})})]})}},223019:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(702664),a=n(80811),r=n(340494),o=n(52022),l=n(19121),s=n(867820),d=n(773285),c=n(130460),u=n(780280),p=n(883119),m=n(712055),h=n(853492),g=n(785893);const _=["thumbnail","imageOnly"];function v({boardId:e,containerBackgroundColor:t,forwardedRef:n,fullSize:v,showFollowButton:y=!0,showPinCount:f=!0,type:x,viewParameter:b,viewType:w}){var S,P,k;const I=(0,l.Z)(),T=I&&I.isAuth,j=(0,i.useDispatch)(),{locale:C}=(0,u.B)(),A=(0,o.Z)(),E=(0,c.gC)()(e),D=(0,r.Z)(),{checkExperiment:F}=(0,d.F)(),L=I.isAuth?I.id:"";if(!E)return null;const R=E.owner,z=[R,...E.collaborating_users||[]].filter(Boolean).map((({id:e,image_medium_url:t,username:n})=>({id:e,image_medium_url:t,username:n}))),M=(null==R?void 0:R.id)===L,O=z.filter((({id:e})=>e===L)).length>0;if("secret"===E.privacy&&!O)return null;const Z="grid"===x||"thumbnail"===x?2:4,N=D(E,Z),U={isCustom:E.has_custom_cover,url:N,position:(0,h.Bw)(E.cover_pin)},B=(0,h.Jx)(E,N).map((({url:e})=>({name:(0,h.po)(e),url:e}))),K=!!E.is_temporarily_disabled&&(F("mweb_hide_u16_group_board").anyEnabled||F("unauth_hide_u16_group_board").anyEnabled),H=(0,g.jsx)(a.Z,{archivedDate:null!==(S=E.archived_by_me_at)&&void 0!==S?S:void 0,canEdit:!!E.access&&E.access.includes("write"),collaborators:z,collaboratorsCount:E.collaborator_count,containerBackgroundColor:t,coverPhoto:N?U:null,followedByMe:E.followed_by_me,fullSizeDrawer:v,hideMeta:_.includes(x),id:E.id,imagesLego:B,isAuthenticated:T,isCollaborative:E.is_collaborative,isCollaborator:O,isOwner:M,isProtected:"protected"===E.privacy,isSecret:"secret"===E.privacy,isTemporarilyDisabled:K,lastModifiedDate:"full"===x?E.board_order_modified_at:"",locale:C,name:null!==(P=E.name)&&void 0!==P?P:"",numCols:Z,onFollow:e=>j((0,m.Z)(e)),onUnfollow:e=>j((0,m.f)(e)),owner:R,pinCount:f&&E.pin_count?E.pin_count:void 0,sectionCount:null!==(k=E.section_count)&&void 0!==k?k:0,sensitivityScreen:E.sensitivity_screen,showFollowButton:y,viewParameter:b,viewType:w,viewerId:L});return!_.includes(x)&&E.url?(0,g.jsx)(p.iP,{role:"link",href:E.url,rounding:2,tapStyle:"compress",onTap:()=>{T||((0,s.NC)("click_go_to_board"),A({action:"click",item:"board-card"}))},children:(0,g.jsx)(p.xu,{ref:n,paddingY:3,children:H})}):H}},686844:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),a=n(785893);function r({customCover:e,height:t,imgUrl:n,imgPos:r,width:o}){const l=t/o;let s="center center";if(e&&r){let e=1;e=r.height/r.width>l?o/r.width:t/r.height;s=`-${r.x*e}px -${r.y*e}px`}const d={backgroundImage:`url(${n})`,backgroundPosition:s,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{height:t,width:o}},children:(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:d},children:(0,a.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}},722556:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(686844),a=n(108211),r=n(898781),o=n(50286),l=n(780280),s=n(883119),d=n(526760),c=n(785893);const u="100%";function p(e){var t,n;const p=(0,r.ZP)(),{containerBackgroundColor:m="white",coverPhoto:h,fullSize:g,images:_,isProtected:v,isSecret:y,isTemporarilyDisabled:f,showSensitivityScreen:x,isActive:b,canEdit:w,onEditClick:S,layout:P}=e,k=(0,o.HG)(),{isRTL:I,isAuthenticated:T}=(0,l.B)(),j=k&&T,C=_[0],A=!h&&(null===(t=_[0])||void 0===t?void 0:t.name)||p._('Cover image', 'DrawerImageGroup', 'Alt text for the main image of a board'),E=Array(2).fill(),D=new s.Ry(1),F="square"===P?d.M0:d.z9,L="square"===P?d.FP:d.FC,R=null!=C&&C.url?(0,c.jsx)(s.Ee,{alt:A,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:C.url}):(0,c.jsx)(s.xu,{color:"secondary",height:"100%",width:"100%"}),z=f||x?{filter:"blur(20px)"}:{};return(0,c.jsx)(s.zd,{height:g?"100%":void 0,rounding:4,width:"100%",wash:b,children:(0,c.jsxs)(s.xu,{"aria-hidden":!0,display:"flex",height:j?L:"100%",direction:"row",children:[(0,c.jsx)(s.sg,{span:8,children:(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:z},position:"relative",height:g?"100%":void 0,children:(0,c.jsx)(s.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:u}},overflow:"hidden",width:"100%",children:(0,c.jsxs)(s.xu,{"data-test-id":"drawer-image-group-first-image-container",dangerouslySetInlineStyle:{__style:{borderColor:m,borderStyle:"solid",borderWidth:"1px 0 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:[(v||y)&&(0,c.jsx)(s.xu,{left:!I,right:I,margin:2,position:"absolute",top:!0,zIndex:D,children:(0,c.jsx)(a.Z,{backgroundColor:"default",iconColor:"default",privacy:y?"secret":"protected",size:j?32:24})}),j&&null!=h&&h.url?(0,c.jsx)(i.Z,{customCover:h.isCustom,imgPos:h.position||{width:0,height:0,x:0,y:0},imgUrl:null!==(n=h.url)&&void 0!==n?n:"",width:Math.floor(F/3*2),height:L}):R]})})})}),(0,c.jsx)(s.sg,{span:4,children:(0,c.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:z},height:"100%",children:[w&&b&&(0,c.jsx)(s.xu,{left:I,right:!I,margin:2,position:"absolute",bottom:!0,zIndex:D,children:(0,c.jsx)(s.hU,{accessibilityLabel:p._('Edit', 'DrawerImageGroup.edit', 'Icon indicating that a board is editable'),bgColor:"white",icon:"edit",iconColor:"darkGray",onClick:({event:e})=>null==S?void 0:S(e),size:"sm"})}),E.map(((e,t)=>{const n=_[j?t:t+1];return(0,c.jsx)(s.xu,{position:"relative",height:g?"50%":void 0,children:(0,c.jsx)(s.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:u}},overflow:"hidden",width:"100%",children:(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{borderColor:m,borderStyle:"solid",borderWidth:0===t?1:"0 1px 1px 1px"}},overflow:"hidden",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,children:null!=n&&n.url?(0,c.jsx)(s.Ee,{alt:n&&n.name||"placeholder",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:n.url}):(0,c.jsx)(s.xu,{color:"secondary",height:"100%",width:"100%"})})})},t)}))]})}),(f||x)&&(0,c.jsx)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:f?(0,c.jsx)(s.xu,{maxWidth:188,children:(0,c.jsx)(s.xv,{align:"center",color:"light",weight:"bold",size:"200",children:p._('This board is currently unavailable', 'drawerImageGroup.unavailableBoard.heading', 'Warning text for a board that is unavailable')})}):(0,c.jsx)(s.X6,{align:"center",color:"light",size:"400",children:p._('This board may contain sensitive content', 'drawerImageGroup.sensitivityScreen.heading', 'Warning text for a board that may have sensitive content')})})]})})}},526760:(e,t,n)=>{n.d(t,{FC:()=>l,FP:()=>r,M0:()=>a,Xq:()=>s,s0:()=>i,z9:()=>o});const i=44,a=236,r=157,o=320,l=213,s=7},108211:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(898781),a=n(883119),r=n(785893);function o({backgroundColor:e="darkGray",iconColor:t="inverse",iconSize:n,privacy:o,size:l=20}){const s=(0,i.ZP)();return(0,r.jsx)(a.xu,{display:"flex",direction:"column",alignItems:"center",color:e,width:l,height:l,rounding:"circle",justifyContent:"center",children:(0,r.jsx)(a.JO,{accessibilityLabel:s._('Secret board icon', 'Icon indicating that a board is secret', 'Icon indicating that a board is secret'),color:t,icon:"secret"===o?"lock":"security",size:null!=n?n:l/2})})}},340494:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(19121),a=n(50286);function r(){const e=(0,a.HG)(),t=(0,i.Z)(),n=t&&t.isAuth;if(e&&n){return e=>{var t,n;const i=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,a=null!==(t=null===(n=e.cover_pin)||void 0===n?void 0:n.image_url)&&void 0!==t?t:i,r=e.images&&e.images["170x"]&&e.images["170x"].length?e.images["170x"][0].url:"";return a||r}}return(e,t)=>{var n,i;const a=e.has_custom_cover?e.image_cover_hd_url||e.image_cover_url:"";if(!a)return"";const r=e.cover_images&&e.cover_images["400x300"]?e.cover_images["400x300"].url:void 0,o=e.cover_images&&e.cover_images["222x"]?e.cover_images["222x"].url:void 0,l=e.cover_images&&e.cover_images["216x146"]?e.cover_images["216x146"].url:void 0,s=null!==(n=null!==(i=null!=r?r:o)&&void 0!==i?i:l)&&void 0!==n?n:"",d=e.image_cover_url||"";return a||(t&&t>2&&s?s:"")||d}}},853492:(e,t,n)=>{n.d(t,{Bw:()=>l,Jx:()=>o,po:()=>i});const i=(e="")=>(null!=e?e:"").substring((null!=e?e:"").lastIndexOf("/")+1),a=e=>({dominant_color:"#FFFFFF",height:1,url:e,width:1}),r=e=>{if(!e)return()=>!0;const t=i(e);return e=>{var n;return"string"==typeof e?i(e)!==t:i(null!==(n=e.url)&&void 0!==n?n:"")!==t}},o=(e,t)=>e.images&&e.images["170x"]?e.images["170x"].filter(r(t)):e.pin_thumbnail_urls?e.pin_thumbnail_urls.filter(r(t)).map(a):[],l=e=>{var t;return null!==(t=e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})&&void 0!==t?t:{x:0,y:0,width:0,height:0}}},814197:(e,t,n)=>{n.d(t,{Cq:()=>u,Dk:()=>m,Fk:()=>r,fS:()=>c,km:()=>p,lI:()=>l,lJ:()=>o,mS:()=>d,qW:()=>s,t5:()=>h});var i=n(883119),a=n(977558);const r=new i.Ry(1),o=3,l=new i.Ry(o),s=2,d=new i.Ry(s),c=3,u=4,p=new i.Ry(5),m=new i.Ry(100),h=new i.Ry(a.fe+1)},398061:(e,t,n)=>{n.d(t,{Z:()=>l,e:()=>o});var i=n(780280),a=n(883119),r=n(785893);const o=new a.Ry(1);function l({children:e,isImagePinForUnauthOnTablet:t}){const{isAuthenticated:n}=(0,i.B)();return(0,r.jsxs)(a.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:t?"40vw":void 0}},zIndex:n?void 0:o,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!t||void 0,top:!0,children:[(0,r.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),e]})}},440011:(e,t,n)=>{n.d(t,{Z:()=>k});var i=n(667294),a=n(398061),r=n(523657),o=n(700380),l=n(50286),s=n(898781),d=n(667679),c=n(52022),u=n(867820),p=n(773285),m=n(883119),h=n(785893);function g({setShowClickthroughOverlay:e,isEligibleForPdp:t,isEligibleForDesktopSocialInviteOverlay:n,inviterFirstName:a}){const r=(0,s.ZP)(),o=(0,c.Z)(),g=(0,d.Z)(),_=(0,i.useRef)(),v=(0,l.ZP)(),y="desktop"===v,f=a&&n,{checkExperiment:x}=(0,p.F)(),b=f&&(r._('Sign up to join {{ name }} on Pinterest', 'pin.closeup.wash.desktop.shareNotification', 'Clickthrough overlay for desktop users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",a),w=r._('Click to make the most out of this idea with a free account', 'web.unauth.plp.clickable_wash.header', 'Copy shown on hover to sign up for an account'),S=r._('Tap to make the most out of this idea with a free account', 'mweb.unauth.plp.clickable_wash.header', 'Pin clickable wash header text'),P=r._('Login to save this idea and explore more', 'dweb.unauth.plp.clickable_wash.header', 'Copy shown on hover to sign up for an account');let k=S;return y&&(k=b||(x("dweb_signup_to_login_modal").group.startsWith("enabled_pin_wash")?P:w)),(0,h.jsx)(m.iP,{onMouseEnter:()=>{f&&(0,u.My)("dweb.main_pin.social.wash.view"),(0,u.My)("dweb.pin.wash.view")},onMouseLeave:()=>{f&&(0,u.My)("dweb.main_pin.social.wash.dismiss"),(0,u.My)("dweb.pin.wash.dismiss")},onTap:({event:e})=>{y&&(e.preventDefault(),o({action:"click",item:"pin-image"}),n&&a&&(0,u.My)("dweb.main_pin.social.wash.click"),(0,u.My)(`dweb.pin.wash.click.${x("dweb_signup_to_login_modal").group}`),g({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_closeup",desktopOptions:{modalType:x("dweb_signup_to_login_modal").group.startsWith("enabled_pin_wash")?"login":"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}}),t&&(0,u.My)("unauth.pdp.pin.img.click",{device:v}))},children:(0,h.jsxs)(m.xu,{zIndex:new m.Ry(2),children:[(0,h.jsx)(m.xu,{top:!0,bottom:!0,left:!0,right:!0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:n?"center":void 0,direction:"column",position:"absolute",ref:_,"data-test-id":"main-pin-hover-overlay",children:(0,h.jsx)(m.xu,{paddingY:10,display:"flex",alignItems:"center",maxWidth:240,direction:"column",children:(0,h.jsx)(m.xu,{marginTop:8,children:(0,h.jsx)(m.X6,{size:f?"500":"400",align:"center",color:"light",children:k})})})}),!y&&(0,h.jsx)(m.xu,{position:"absolute",top:!0,right:!0,marginTop:4,marginEnd:4,children:(0,h.jsx)(m.hU,{icon:"cancel",iconColor:"white",onClick:({event:t})=>{t.stopPropagation(),e&&(e(!1),(0,u.My)("main.pin.wash.cancel"))},accessibilityLabel:r._('Close pin clickable wash', 'mweb.unauth.plp.clickable_wash.close_button', 'Close button'),size:"md"})})]})})}var _=n(876437),v=n(349700);function y({setShouldShowDesktopLearningUpsell:e,setHasDismissedDesktopLearningUpsell:t}){const n=(0,s.ZP)(),i=(0,d.Z)(),{checkExperiment:a}=(0,p.F)(),r=a("dweb_unauth_main_pin_learning_upsell").group;return(0,h.jsx)(m.kC,{justifyContent:"center",children:(0,h.jsxs)(m.xu,{alignItems:"center",direction:"row",display:"flex",height:44,width:"94%",marginTop:4,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(233, 228, 255, 0.9)"}},paddingX:2,position:"absolute",rounding:"pill",top:!0,zIndex:new m.Ry(1),children:[(0,h.jsx)(m.iP,{fullHeight:!0,onTap:()=>{(0,u.My)(`unauth.dweb.main_pin.learning_upsell.banner.${r}.click`),i({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_dweb_main_pin_learning_upsell",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}})},children:(0,h.jsxs)(m.kC,{alignItems:"center",height:"100%",children:[(0,h.jsx)(m.xu,{marginStart:2,children:(0,h.jsx)(m.JO,{accessibilityLabel:"pinterest logo",color:"default",icon:"pinterest",size:20})}),(0,h.jsx)(m.xu,{marginStart:2,children:(0,h.jsx)(m.xv,{children:(0,v.nk)(n._('If you like this idea, {{ signup }} to see all the details!', 'unauth.dweb.main_pin.learning_upsell.copy', 'copy on the banner upsell that appears on top of the main pin image on dweb, signup: CTA for the copy'),{signup:(0,h.jsx)(m.xv,{inline:!0,weight:"bold",children:n._('sign up', 'unauth.dweb.main_pin.learning_upsell.copy.cta', 'CTA for the copy on the banner upsell that appears on top of the main pin image on dweb')})})})})]})}),"enabled_hover_dismissible"===r&&(0,h.jsx)(m.xu,{onTouchStart:e=>{e.preventDefault(),e.stopPropagation()},onTouchEnd:e=>{e.preventDefault(),e.stopPropagation()},zIndex:new m.Ry(2),children:(0,h.jsx)(m.hU,{icon:"cancel",accessibilityLabel:"cancel",size:"sm",onClick:()=>{(0,u.My)("unauth.dweb.main_pin.learning_upsell.close_button.click"),e(!1),t(!0)}})})]})})}var f=n(411465),x=n(67347),b=n(127525),w=n(780280),S=n(872482),P=n(691720);const k=e=>{var t;const n=(0,s.ZP)(),{alt:d,clickthroughOverlayOptions:c,color:u,isFlashlightPage:v,naturalHeight:k,naturalWidth:I,placeholder:T,pwtElementTimingId:j,pwtSurfaceContext:C,setShowClickthroughOverlay:A,setShouldShowDesktopLearningUpsell:E,setHasDismissedDesktopLearningUpsell:D,shouldShowDesktopLearningUpsell:F,shouldShowDesktopSocialUpsell:L,setShouldShowDesktopSocialUpsell:R,showSpinner:z,src:M,stickyFooter:O,isEligibleForPdp:Z,isEligibleForDesktopSocialInviteOverlay:N}=e,U=(0,f.Z)(),B=(0,b.I)(),{checkExperiment:K}=(0,p.F)(),H=!U,{isAuthenticated:$}=(0,w.B)(),W=(0,l.ZP)(),G="desktop"===W,V=$&&!G&&K("auth_mweb_inline_action_bar").anyEnabled,q=(0,i.useRef)(),[Y,J]=(0,i.useState)(!H||!!M&&!!T&&T===M),X=(0,i.useRef)(""),Q=()=>{C&&C.markConstraintComplete("PinPageMainImageRendered")};(0,i.useEffect)((()=>{if(B){var e,t;const n=null!==(e=null===(t=document.getElementById("pin-image-preload"))||void 0===t?void 0:t.getAttribute("href"))&&void 0!==e?e:"";(0,x.nP)("www.closeup.preloadImageCheck",{sampleRate:1,tags:{isAuthenticated:$,deviceType:W,isEqual:n===M}})}}),[]),(0,i.useEffect)((()=>{const e=new Image;e.onload=()=>J(!0),e.src=M}),[]);const ee=(0,i.useRef)(null===(t=(0,S.a)())||void 0===t?void 0:t.setHasScrolledPastMainContent);(0,i.useEffect)((()=>{const e=(0,o.Z)((()=>{if(q.current){var t;const n=window.scrollY>q.current.offsetTop+q.current.offsetHeight;null===(t=ee.current)||void 0===t||t.call(ee,n),n&&window.removeEventListener("scroll",e)}}),10);window.addEventListener("scroll",e)}),[]);const[te,ne]=(0,i.useState)();(0,i.useEffect)((()=>{q.current&&ne(q.current.scrollHeight)}),[]);const ie=!v&&"tablet"===W,ae=H?(0,h.jsx)(r.Z,{alt:d,color:u,elementTiming:j,naturalHeight:k,naturalWidth:I,src:T,onLoad:Q}):null;return(0,h.jsxs)(m.xu,{"data-test-id":"pin-closeup-image",maxHeight:"100%",minHeight:te,maxWidth:"tablet"===W?P.g6:void 0,overflow:O?void 0:"hidden",position:"relative",width:v||"phone"===W?"100%":G?508:P.Hg,rounding:v||"phone"===W?0:6,ref:q,marginTop:"tablet"===W&&V?12:0,children:[!$&&F&&E&&D&&(0,h.jsx)(y,{setShouldShowDesktopLearningUpsell:E,setHasDismissedDesktopLearningUpsell:D}),!$&&L&&(0,h.jsx)(_.Z,{inviterFirstNameRef:X,isDesktop:G,socialContextBannerStyle:{isDismissible:!1,shouldShowSignupUpsellText:!N},setShouldShowSocialUpsellBanner:R}),!$&&c&&(0,h.jsx)(a.Z,{isImagePinForUnauthOnTablet:!1,children:(0,h.jsx)(g,{setShowClickthroughOverlay:A,isEligibleForDesktopSocialInviteOverlay:N,inviterFirstName:X.current,isEligibleForPdp:Z})}),ae&&(ie?(0,h.jsx)(m.xu,{rounding:6,overflow:"hidden",children:ae}):ae),(0,h.jsx)(m.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:Y?1:0,transition:Y&&!G?"opacity .5s ease-in-out":void 0,backgroundColor:u}},left:!0,position:H?"absolute":"relative",right:!0,rounding:ie?6:5,overflow:ie?"hidden":void 0,top:!0,children:H?(0,h.jsx)(m.Ee,{alt:d,naturalHeight:k,naturalWidth:I,src:M}):(0,h.jsx)(r.Z,{alt:d,color:u,elementTiming:j,naturalHeight:k,naturalWidth:I,src:M,onLoad:Q})}),z&&(0,h.jsx)(m.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:Y?0:1,transition:Y?"opacity .5s ease-in-out":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:!Y&&(0,h.jsx)(m.kC,{alignItems:"center",justifyContent:"start",children:(0,h.jsx)(m.$j,{accessibilityLabel:n._('Loading image', 'Loading higher resolution image', 'Loading higher resolution image'),show:!0})})}),O]})}},633988:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(398061);const a=new(n(883119).H3)([i.e])},763839:(e,t,n)=>{n.d(t,{w:()=>s,z:()=>l});var i=n(667294),a=n(425288),r=n(785893);const{Provider:o,useMaybeHook:l}=(0,a.Z)("CloseupPreviewContext");function s({children:e}){const[t,n]=(0,i.useState)(Object.freeze({})),a=(0,i.useMemo)((()=>({setData:(e,t)=>n((n=>({...n,[e]:t}))),getData:e=>t[e]})),[t]);return(0,r.jsx)(o,{value:a,children:e})}},876437:(e,t,n)=>{n.d(t,{Z:()=>P});var i=n(947599),a=n(116303),r=n(63552),o=n(172071),l=n(867820),s=n(883119),d=n(785893);function c({isStoryPin:e,inviteText:t,inviterFirstName:n,isThinnerStyle:i,username:a}){const c=t.split(n);return(0,d.jsx)(s.xu,{children:(0,d.jsx)(r.Z,{onTouch:()=>{o.Z.increment("mweb_social_unauth.closeup.social_text_click")},pressState:"none",children:(0,d.jsxs)(s.kC,{direction:"row",gap:{row:1,column:0},children:[(0,d.jsx)(s.xv,{inline:!0,size:"300",children:c[0]}),e?(0,d.jsx)(s.xv,{inline:!0,size:"300",weight:"bold",children:(0,d.jsx)(s.rU,{href:"/"+a,target:"blank",onClick:()=>(0,l.My)("mweb_unauth_inviter_profile_click"),children:n})}):(0,d.jsx)(s.xv,{inline:!0,size:i?"200":"300",weight:i?"normal":"bold",children:(0,d.jsx)(s.rU,{href:"/"+a,target:"blank",onClick:()=>(0,l.My)("mweb_unauth_inviter_profile_click_not_story"),children:n})}),(0,d.jsx)(s.xv,{inline:!0,size:i?"200":"300",children:c[1]})]})})})}var u=n(898781),p=n(667679);function m({inviter:e,socialContextBannerStyle:t,setShouldShowSocialUpsellBanner:n}){const{shouldShowSignupUpsellText:i,isDismissible:o}=t,m=(0,u.ZP)(),h=e.username,g=e.imageMediumUrl,_=e.firstName,v=(0,p.Z)();return(0,d.jsx)(s.kC,{justifyContent:o?"center":"start",alignItems:"center",children:(0,d.jsx)(s.xu,{children:(0,d.jsx)(s.iP,{fullHeight:!0,onTap:()=>{(0,l.My)("dweb.unauth.social_banner.click"),v({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_desktop_unauth_social_context_banner",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}})},children:(0,d.jsxs)(s.xu,{alignItems:"center",direction:"row",display:"flex",height:44,width:o?1012:void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(233, 228, 255, 0.9)"}},marginTop:2,marginBottom:6,marginStart:o?0:2,paddingX:o?4:2,paddingY:4,rounding:"pill",position:o?"static":"absolute",top:!0,zIndex:new s.Ry(1),children:[(0,d.jsx)(s.xu,{marginTop:8,marginBottom:8,marginEnd:1,width:32,children:(0,d.jsx)(r.Z,{onTouch:e=>{e.stopPropagation(),h&&window.open("/"+h),(0,l.My)("dweb.unauth.social_banner.avatar_click")},pressState:"none",children:null!=g&&g.includes("default")?(0,d.jsx)(s.JO,{accessibilityLabel:"pinterest logo",color:"default",icon:"pinterest",size:24}):(0,d.jsx)(a.Z,{size:"fit",src:null!=g?g:void 0,name:_})})}),(0,d.jsxs)(s.kC,{flex:"grow",direction:"row",children:[(0,d.jsx)(c,{isStoryPin:!1,inviteText:i?(m._('{{ name }} shared this idea.', 'pin.closeup.long_banner.desktop.shareNotification', 'Long banner notifying desktop users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",_):(m._('{{ name }} shared this idea ', 'pin.closeup.banner.desktop.shareNotification', 'Banner notifying desktop users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",_),inviterFirstName:_,username:h,isThinnerStyle:i}),i&&(0,d.jsx)(s.xu,{marginStart:1,marginEnd:2,children:(0,d.jsx)(s.xv,{inline:!0,size:"200",weight:"bold",children:m._('Sign up to join them', 'pin.header.social_context_dweb', 'label')})})]}),o&&(0,d.jsx)(s.hU,{icon:"cancel",accessibilityLabel:"cancel",size:"sm",onClick:({event:e})=>{e.stopPropagation(),(0,l.My)("unauth.dweb.social_banner.dismiss"),null==n||n(!1)}})]})})})})}var h=n(598615),g=n(938917),_=n(773285),v=n(50286);function y({inviter:{imageMediumUrl:e,username:t,firstName:n},isStoryPin:i}){const m=(0,u.ZP)(),{checkExperiment:y}=(0,_.F)(),f=(0,v.ml)(),x=()=>o.Z.increment("mweb_social_unauth.closeup.avatar_click"),b=(0,g.Z)(),w=(0,p.Z)(),S=(m._('{{ name }} shared this idea', 'pin.closeup.header.shareNotification', 'header notifying users that a sender ({{ name }}) shared a Pin to them')).replace("{{ name }}",t),P="undefined"!=typeof window&&window.innerWidth<360,k=t.length>25,I=f&&!i&&y("mweb_social_context_header_upsell").anyEnabled,T=y("mweb_social_context_header_upsell").group;return b&&i?(0,d.jsxs)(s.kC,{gap:{row:2,column:0},alignItems:"center",justifyContent:"center",minHeight:k?100:80,children:[(0,d.jsx)(s.xu,{marginTop:4,marginBottom:4,width:40,children:(0,d.jsx)(r.Z,{onTouch:x,pressState:"none",children:(0,d.jsx)(a.Z,{size:"fit",src:null!=e?e:void 0,name:n})})}),(0,d.jsx)(s.kC.Item,{flex:"grow",children:(0,d.jsxs)(s.xu,{display:"flex",direction:k?"column":"row",alignItems:"center",justifyContent:k?"start":"between",padding:k?3:0,children:[(0,d.jsxs)(s.kC,{direction:"column",alignItems:"start",gap:{row:0,column:1},wrap:!P,children:[(0,d.jsx)(s.kC,{children:(0,d.jsxs)(s.xv,{align:k?"center":"start",children:[(0,d.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,d.jsx)(s.rU,{display:"inlineBlock",href:`/${null!=t?t:""}/`,target:"blank",onClick:()=>(0,l.My)("mweb_unauth_inviter_profile_click"),underline:"hover",children:t})}),S.split(t)[1]]})}),!k&&(0,d.jsx)(s.xv,{size:"100",children:m._('Open Pinterest to see more', 'unauth.mweb.shared.banner.edu', 'education for CTA to open app on shared banner')})]}),(0,d.jsx)(s.xu,{display:"flex",justifyContent:"center",alignItems:"center",minWidth:k?0:100,marginTop:k?3:0,children:(0,d.jsx)(h.Z,{componentType:14161,within:"social-context-header",children:({handleOpenApp:e})=>(0,d.jsx)(s.zx,{onClick:()=>e(),size:"md",text:m._('Open app', 'unauth.mweb.shared.banner.cta', 'CTA to open app on shared banner')})})})]})})]}):(0,d.jsx)(r.Z,{onTouch:()=>{I&&w({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_mobile_unauth_social_context_header"})},pressState:"none",children:(0,d.jsxs)(s.kC,{alignItems:"center",gap:4,justifyContent:"start",minHeight:80,children:[(0,d.jsx)(s.xu,{marginTop:4,marginStart:I?2:0,marginBottom:4,width:48,children:(0,d.jsx)(r.Z,{onTouch:x,pressState:"none",children:(0,d.jsx)(a.Z,{src:null!=e?e:void 0,name:n})})}),(0,d.jsxs)(s.kC,{alignItems:I?"start":"center",justifyContent:"start",direction:"column",children:[(0,d.jsx)(s.xu,{marginStart:I?-1:0,children:(0,d.jsx)(c,{isStoryPin:i,inviteText:I&&T.includes("join")?(m._('{{ name }} shared this idea', 'pin.closeup.header.shareNotification', 'header notifying users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",n):I&&T.includes("converse")?(m._('{{ name }} sent an idea', 'pin.closeup.header.shareNotification', 'header notifying users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",n):I&&T.includes("explore")?(m._('{{ name }} sent this idea', 'pin.closeup.header.shareNotification', 'header notifying users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",n):(m._('{{ name }} shared this idea with you', 'pin.closeup.header.shareNotification', 'header notifying users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",n),inviterFirstName:n,username:t,isThinnerStyle:I})}),I&&(0,d.jsx)(s.xu,{marginTop:1,children:(0,d.jsx)(s.xv,{inline:!0,size:"300",weight:"bold",children:T.includes("join")?m._('Tap to join them on Pinterest', 'pin.closeup.header.shareNotification.text', 'header notifying users to tap on area'):T.includes("converse")?m._('Tap to share feedback', 'pin.closeup.header.shareNotification.text', 'header notifying users to tap on area'):T.includes("explore")&&m._('Tap to see more like it', 'pin.closeup.header.shareNotification.text', 'header notifying users to tap on area')})})]})]})})}var f,x=n(619277),b=n(167912);const w=void 0!==f?f:f=n(669988),S=({children:e,variables:t})=>e((0,b.useLazyLoadQuery)(w,t));function P({inviterFirstNameRef:e,isDesktop:t,isStoryPin:n,setShouldShowSocialUpsellBanner:a,socialContextBannerStyle:r}){return(0,d.jsx)(i.Z,{children:(0,d.jsx)(x.ty,{children:i=>i?(0,d.jsx)(S,{variables:{inviteCode:i},children:i=>{var o,l;const c=null===(o=i.v3GetInviteCodeQuery)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.sender,{firstName:u,imageMediumUrl:p,username:h}=null!=c?c:Object.freeze({});return u&&h?(e&&(e.current=u),t?(0,d.jsx)(m,{inviter:{firstName:u,imageMediumUrl:p,username:h},socialContextBannerStyle:null!=r?r:{isDismissible:!0,shouldShowSignupUpsellText:!0},setShouldShowSocialUpsellBanner:a}):(0,d.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 1px 0 0 rgba(0, 0, 0, 0.08)"}},marginStart:-2,paddingX:2,marginEnd:-2,children:(0,d.jsx)(y,{inviter:{firstName:u,imageMediumUrl:p,username:h},isStoryPin:!!n})})):null}}):null})})}},361115:(e,t,n)=>{n.d(t,{J:()=>o,U:()=>r});var i=n(50286),a=n(780280);const r=({isDesktop:e,viewerType:t})=>"bot"===t?"seo_graphql_pin_page":"auth"===t?e?"auth_dweb_graphql_pin_page":"auth_mweb_graphql_pin_page":e?"unauth_dweb_graphql_pin_page":"unauth_mweb_graphql_pin_page",o=()=>{const e=(0,i.HG)(),t=(()=>{const{isAuthenticated:e,isBot:t}=(0,a.B)();return t?"bot":e?"auth":"unauth"})();return r({isDesktop:e,viewerType:t})}},865607:(e,t,n)=>{n.d(t,{O:()=>d,Z:()=>c});var i=n(667294),a=n(898781),r=n(966113),o=n(883119),l=n(785893);const s={xs:12,sm:16,md:20,lg:24};function d({children:e}){const t=(0,a.ZP)();return(0,l.jsx)(o.u,{link:(0,l.jsx)(o.rU,{href:r.vB,target:"blank",children:(0,l.jsx)(o.xv,{color:"inverse",size:"100",weight:"bold",children:t._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:t._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:e})}function c({hasVerifiedIdentity:e,iconOnly:t,isVerifiedMerchant:n,showText:r,size:c}){const u=(0,a.ZP)(),p=(0,l.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,l.jsx)(o.JO,{accessibilityLabel:u._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:s[c]}),r&&(0,l.jsx)(o.xu,{marginStart:2,children:(0,l.jsx)(o.xv,{color:"shopping",inline:!0,weight:"bold",children:u._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,l.jsxs)(i.Fragment,{children:[n&&!t&&(0,l.jsx)(d,{children:p}),n&&t&&p,e&&!n&&(0,l.jsx)(o.JO,{accessibilityLabel:u._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:s[c]})]})}},998651:(e,t,n)=>{n.d(t,{L:()=>l,r:()=>o});var i=n(385740),a=n(909499);const r=["search_articles_story","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","search_for_you_upsell"];function o({query:e,rs:t,scope:n},r){const o=(0,i.BE)(),l=!(null!=o&&o.viewType||null!=o&&o.viewParameter),s=(0,a.wF)(n);if(!l&&s){const{viewType:n,viewParameter:i}=null!=o?o:{};r({event_type:s,view_type:n,view_parameter:i,aux_data:{query:e,rs:t||"Unknown"}})}"hashtag_closeup"===t?r({event_type:101,component:13065,element:10273,view_type:142}):"hashtag_pinrep"===t&&r({event_type:101,component:0,element:10349,view_type:142})}const l=(e=[])=>{let t=!0;return e.reduce(((e,n)=>{var i;return t&&n.story_type&&r.includes(n.story_type)&&0===(null===(i=n.display_options)||void 0===i?void 0:i.num_columns_requested)?e.searchFullWidthStories.push(n):(t=!1,e.filteredResults.push(n)),e}),{searchFullWidthStories:[],filteredResults:[]})}},96939:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(65675),a=n(883119),r=n(785893);function o({coverImages:e,height:t,isHovered:n,onClick:o,onMouseEnter:l,onMouseLeave:s,textType:d,text:c,url:u,width:p}){const m=e&&(e["236x"]||e["280x280"]);return(0,r.jsx)(i.Z,{backgroundColor:"gray",coverImage:m,height:t,isHovered:n,onClick:o,onMouseEnter:l,onMouseLeave:s,url:u,width:p,children:(0,r.jsx)(a.xu,{alignItems:"center",display:"flex",height:t,justifyContent:"center",padding:3,position:"absolute",top:!0,width:p||"100%",children:"text"===d?(0,r.jsx)(a.xu,{alignItems:"center",display:"flex",height:48,padding:3,children:(0,r.jsx)(a.X6,{align:"center",size:"500",color:"light",children:c})}):(0,r.jsx)(a.xu,{alignItems:"center",color:"secondary",display:"flex",height:48,padding:3,rounding:"pill",children:(0,r.jsx)(a.xv,{align:"center",weight:"bold",children:c})})})})}},654874:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(667294),a=n(116303),r=n(65675),o=n(564194),l=n(391143),s=n(72809),d=n(66699),c=n(898781),u=n(19121),p=n(773285),m=n(940882),h=n(883119),g=n(785893);function _({bubble:e,contextLogData:t,disableTabIndex:n,handleReport:_,height:v,imgSignature:y,isHovered:f,onClick:x,onMouseEnter:b,onMouseLeave:w,referringSource:S,searchBoxRenderStopwatch:P,showFlag:k,slotIndex:I,storyId:T,viewParameter:j,viewType:C,width:A}){const E=(0,c.ZP)(),D=(0,u.Z)(),{id:F,action:L,aux_fields:R,cover_images:z,dominant_colors:M,identifier_icon_type:O,title:Z,story_category:N,curator:U}=e,{checkExperiment:B}=(0,p.F)();let K="",H="";if(D.isAuth&&5===C){K=B("blp_explore_bubble_image_size").group;const e=K.split("_");e.length>1&&K.startsWith("enabled")&&(H=e[1])}const $=z&&z[0]&&(K.startsWith("enabled")&&H?z[0][H]:z[0]["280x280"]||z[0]["236x"]),W=(0,d.Z)(Z&&Z.format||"",Z&&Z.args||{}),G=M&&M.length?M[0]:"gray",V=(null==L?void 0:L.url)||(0,l.Z)({storyCategory:N,query:W,referringSource:S,bubbleId:F,storyId:T,title:Z.format,pinId:null==R?void 0:R.image_pin_id});return(0,g.jsx)(o.Z,{impressionAuxFields:{storyCategory:N,storyIdStr:T},impressionType:"Article",loggingId:F,viewType:C,viewParameter:j,slotIndex:I,contextLogData:{story_id:T,...t},children:(0,g.jsx)(r.Z,{backgroundColor:G,coverImage:$,disableTabIndex:n,height:v,id:F,isHovered:f,onClick:x,onMouseEnter:b,onMouseLeave:w,searchBoxRenderStopwatch:P,url:V,width:A,children:({isHovered:e})=>(0,g.jsxs)(i.Fragment,{children:[U&&26!==N&&(0,g.jsx)(h.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,g.jsx)(a.Z,{outline:!0,size:"xs",src:U.image_small_url,name:U.full_name})}),O&&O!==m.J&&(0,g.jsx)(h.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,g.jsx)(h.JO,{icon:(0,m.Z)(O),accessibilityLabel:E._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",size:12})}),(0,g.jsx)(h.xu,{display:"flex",height:v,width:A||"100%",position:"absolute",top:!0,padding:3,alignItems:26===N?"end":"center",justifyContent:"center",children:(0,g.jsxs)(h.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[v>200?(0,g.jsx)(h.X6,{size:"500",align:"center",color:"light",children:W}):(0,g.jsx)(h.xv,{align:"center",color:"light",weight:"bold",children:W}),U&&26===N&&(0,g.jsxs)(h.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,g.jsx)(h.xu,{marginEnd:2,children:(0,g.jsx)(a.Z,{outline:!0,size:"xs",src:U.image_small_url,name:U.full_name})}),(0,g.jsx)(h.xv,{size:"100",color:"light",children:U.full_name})]})]})}),D.isAuth&&D.isEmployee&&k?(0,g.jsx)(h.xu,{position:"absolute",bottom:!0,right:!0,marginBottom:1,children:(0,g.jsx)(s.Z,{handleReport:_,imgSignature:y||"",isVisible:e})}):null]})})})}},65675:(e,t,n)=>{n.d(t,{A:()=>o,Z:()=>l});var i=n(667294),a=n(883119),r=n(785893);const o={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function l({backgroundColor:e,children:t,coverImage:n,disableTabIndex:l,height:s,id:d,isHovered:c,onClick:u,onMouseDown:p,onMouseEnter:m,onMouseLeave:h,searchBoxRenderStopwatch:g,url:_,width:v}){var y,f;const[x,b]=(0,i.useState)(!1),w=()=>{m?m():b(!0)},S=()=>{h?h():b(!1)},P=c||x,k=P?o.hoverOverlay:o.bubbleOverlay;return(0,r.jsx)(a.iP,{href:_,onBlur:S,onFocus:w,onMouseDown:p,onMouseEnter:w,onMouseLeave:S,onTap:()=>{null==u||u(d)},role:"link",rounding:4,tabIndex:l?-1:void 0,children:(0,r.jsx)(a.zd,{rounding:4,width:v||"100%",height:s,children:null!=n&&n.url?(0,r.jsxs)(a.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(y=n.height)&&void 0!==y?y:1,naturalWidth:null!==(f=n.width)&&void 0!==f?f:1,onLoad:()=>{null==g||g.stop()},role:"presentation",src:n.url,children:[(0,r.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:k},height:"100%",width:"100%"}),"function"==typeof t?t({isHovered:P}):t]}):(0,r.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:"100%",width:"100%"})})})}},92331:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(654874),a=n(564194),r=n(676142),o=n(444445),l=n(407043),s=n(940882),d=n(883119),c=n(785893);const u=o.yF;function p({contextLogData:e,bubbles:t,id:n,referringSource:o,slotIndex:p,storyType:m,title:h,titleIcon:g,viewType:_,viewParameter:v}){const{logContextEvent:y}=(0,l.v)(),f={story_type:m,...e,content_ids:t.map((({type:e,id:t})=>e+":"+t)).join("|")};return(0,c.jsx)(a.Z,{viewType:_,componentType:200,viewParameter:v,loggingId:n,objectIdStr:n,contextLogData:f,impressionType:"Story",slotIndex:p,children:(0,c.jsxs)(d.xu,{children:[h&&(0,c.jsxs)(d.xu,{display:"flex",marginBottom:1,justifyContent:"center",alignItems:"center",children:["number"==typeof g&&g!==s.J&&(0,c.jsx)(d.xu,{marginEnd:2,dangerouslySetInlineStyle:{__style:{paddingTop:1}},children:(0,c.jsx)(d.JO,{accessibilityLabel:"",color:"default",icon:(0,s.Z)(g),size:14})}),(0,c.jsx)(d.xv,{weight:"bold",children:(0,r.Z)(h)})]}),t.map(((e,t)=>(0,c.jsx)(d.xu,{paddingY:1,flex:"none",children:(0,c.jsx)(i.Z,{bubble:e,onClick:e=>{y({event_type:101,object_id_str:e,view_type:_,view_parameter:v,component:200,aux_data:f})},referringSource:o,height:103,width:u,storyId:n,viewType:_,viewParameter:v,slotIndex:t,contextLogData:f})},`bubble-${e.id}`)))]})})}},666389:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294);const a={backgroundColor:"transparent"},r={backgroundColor:"rgba(216, 216, 216, 0.37)"},o={borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},l={outline:"0"};var s=n(883119),d=n(785893);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),c(this,"state",{hovered:!1}),c(this,"handleMouseEnter",(()=>this.setState({hovered:!0}))),c(this,"handleMouseLeave",(()=>this.setState({hovered:!1})))}render(){const{backgroundHaloSize:e,onClick:t,color:n="subtle"}=this.props,i=Object.freeze({height:e,width:e}),c={border:0,display:"block",background:"transparent",cursor:"pointer",...l},u={...i,...{...o,...a,...this.state.hovered?r:{}}};return(0,d.jsx)("button",{type:"button",style:c,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:e=>t&&t({event:e}),children:(0,d.jsx)("div",{style:u,children:(0,d.jsx)(s.xu,{rounding:"circle",children:(0,d.jsx)(s.JO,{accessibilityLabel:"",icon:"flag",size:e/2,color:n})})})})}}const p=u},72809:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(667294),a=n(666389),r=n(121151),o=n(214494),l=n(499128),s=n(116674),d=n(898781),c=n(343341),u=n(883119),p=n(785893);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends i.PureComponent{constructor(...e){var t;super(...e),t=this,m(this,"state",{showModal:!1,reportType:null}),m(this,"handleDismiss",(()=>this.setState({showModal:!1}))),m(this,"handleClick",(()=>{const{reportType:e}=this.state;"image"===e?this.reportSuggestionImage():this.reportSuggestionText()})),m(this,"reportSuggestionImage",(async function(){const{imgSignature:e,reportImage:n}=t.props;t.setState({showModal:!1});n((await o.Z.create("GetPinFromSignature",{imgSignature:e}).callGet()).resource_response.data.id)})),m(this,"reportSuggestionText",(()=>{const{handleReport:e,toastManagerContext:t}=this.props;e&&(e(),t.showToast((({hideToast:e})=>(0,p.jsx)(l.ZP,{onHide:e,text:this.props.i18n._('Thanks\xA0for\xA0your\xA0report!\xA0This\xA0will\xA0be\xA0reviewed\xA0by\xA0our\xA0Trust\xA0and\xA0Safety\xA0Team', 'ReportingFlag.Toast.text', 'Toast\xA0after\xA0reporting\xA0a\xA0search suggestion')}))),this.handleDismiss())})),m(this,"showModal",(({event:e})=>{e.stopPropagation(),e.preventDefault(),this.setState({showModal:!0})}))}render(){const{showModal:e}=this.state;return(0,p.jsxs)(i.Fragment,{children:[this.props.isVisible&&(0,p.jsx)(a.Z,{onClick:this.showModal,backgroundHaloSize:24}),e&&(0,p.jsx)(r.ZP,{accessibilityModalLabel:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.accessibilityModalLabel', 'accessible\xA0label\xA0for\xA0report\xA0suggestion modal'),heading:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.heading', 'Heading\xA0for\xA0report\xA0suggestion modal'),onDismiss:this.handleDismiss,size:"sm",children:(0,p.jsxs)(u.xu,{children:[(0,p.jsx)(u.xu,{padding:5,children:(0,p.jsx)(u.xv,{children:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion')})}),(0,p.jsxs)(u.FX,{id:"reporting-flag-options-group",legend:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion'),legendDisplay:"hidden",children:[(0,p.jsxs)(u.xu,{role:"list",display:"flex",direction:"column",marginBottom:4,paddingX:5,children:[(0,p.jsxs)(u.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,p.jsx)(u.FX.RadioButton,{checked:"text"===this.state.reportType,id:"textType",onChange:()=>this.setState({reportType:"text"}),value:"Report search text"}),(0,p.jsx)(u.xu,{flex:"grow",children:(0,p.jsx)(u.__,{htmlFor:"textType",children:(0,p.jsx)(u.xu,{paddingX:2,children:(0,p.jsx)(u.xv,{children:"Report search text"})})})})]}),(0,p.jsxs)(u.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,p.jsx)(u.FX.RadioButton,{checked:"image"===this.state.reportType,id:"imageType",onChange:()=>this.setState({reportType:"image"}),value:"Report search image"}),(0,p.jsx)(u.xu,{flex:"grow",children:(0,p.jsx)(u.__,{htmlFor:"imageType",children:(0,p.jsx)(u.xu,{paddingX:2,children:(0,p.jsx)(u.xv,{children:"Report search image"})})})})]})]}),(0,p.jsx)(u.iz,{}),(0,p.jsxs)(u.xu,{display:"flex",justifyContent:"end",padding:2,children:[(0,p.jsx)(u.xu,{margin:2,children:(0,p.jsx)(u.zx,{fullWidth:!0,onClick:this.handleDismiss,text:this.props.i18n._('Cancel', 'ReportingFlag.Box.Button.text.cancel', 'Text\xA0for\xA0cancel\xA0button\xA0when reporting search suggestion')})}),(0,p.jsx)(u.xu,{margin:2,children:(0,p.jsx)(u.zx,{fullWidth:!0,color:"red",onClick:this.handleClick,text:this.props.i18n._('Report', 'ReportingFlag.Box.Button.text.report', 'Button\xA0label\xA0to\xA0report\xA0search suggestion'),disabled:!this.state.reportType})})]})]})]})})]})}}function g(e){const t=(0,d.ZP)(),{reportImage:n}=(0,s.f)();return(0,p.jsx)(h,{...e,i18n:t,reportImage:n,toastManagerContext:(0,c.F9)()})}},90221:(e,t,n)=>{n.d(t,{N:()=>o});const i=e=>`BREAK_IN_${e}`,a=new Map,r=e=>{const t=a.get(e);if(t)return t;const n=Object.freeze({type:"FEED_BREAK_IN",__typename:"FEED_BREAK_IN",id:i(e)});return a.set(e,n),n},o=({breakIn:{index:e},items:t})=>t.length<e?t:[...t.slice(0,e),r(e),...t.slice(e)]},679031:(e,t,n)=>{n.d(t,{G9:()=>u,c$:()=>m,cn:()=>h,gG:()=>p,kk:()=>c});var i=n(63552),a=n(19121),r=n(883119),o=n(535996),l=n(885149),s=n(50286),d=n(785893);const c=({isDesktop:e})=>{const t=(0,o.pinRepPaddingInBoint)({isDesktop:e});return t?-t:0},u=-2,p=()=>{const e=(0,s.HG)(),t=(0,o.pinRepPaddingInBoint)({isDesktop:e}),n=t?-t:0;return(0,d.jsx)(r.xu,{marginTop:n,marginBottom:n,paddingY:t})},m=({children:e})=>{const t=(0,s.HG)();return!(0,a.Z)().isAuth&&t?(0,d.jsx)(l.x,{children:e}):e},h=({children:e})=>(0,d.jsx)(i.Z,{onTouch:e=>{if(e.target instanceof HTMLElement&&"IMG"===e.target.tagName){const t=e.target.getBoundingClientRect().top+window.scrollY-70;window.scrollTo(window.scrollX,t)}},pressState:"none",children:e})},245376:(e,t,n)=>{function i(e){return e&&5!==e?4===e?"stela":null:"related_products"}n.d(t,{Z:()=>i})},821997:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e,noCircle:t}){return(0,i.jsxs)("svg",{height:e,style:{display:"block"},viewBox:t?"3 3 70 70":"-3 -3 82 82",width:e,children:[t?null:(0,i.jsx)("circle",{cx:"38",cy:"38",fill:"white",r:"40"}),(0,i.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:"#fb7072",fillRule:"evenodd"})]})}},948376:(e,t,n)=>{n.d(t,{G3:()=>c,Rp:()=>d,kp:()=>s});var i=n(339363),a=n(202139),r=n(844974);const o=14*a.F4;function l(e,t,n){return e-t>n}const s=e=>{const t=function(){const e=Date.now(),t=Number((0,r.qn)("appUpsell"));return{currentTime:e,firstUpsellTime:Number((0,r.qn)("firstUpsellTime")),lastUpsellTime:t,showedAppUpsellCurrentSession:Boolean((0,i.qn)("showedAppUpsellCurrentSession"))}}();return e?function(e,t,n){const{currentTime:i,firstUpsellTime:a,lastUpsellTime:s,showedAppUpsellCurrentSession:d}=e;return n=n||o,!a||function(e,t,n){return e<t+n}(i,a,t)?!d:!!l(i,s,n)&&((0,r.L_)("firstUpsellTime"),!0)}(t,a.F4):function(e,t){const{currentTime:n,lastUpsellTime:i}=e;return t=t||o,!i||l(n,i,t)}(t)},d=({platform:e,userAgent:t})=>{try{return"android"===e&&parseFloat((e=>{const t=(e=e.toLowerCase()).match(/android\s([0-9\.]*)/i);return t?t[1]:void 0})(t))<7}catch(n){return!1}},c=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},116485:(e,t,n)=>{n.d(t,{AA:()=>r,E9:()=>g,EU:()=>y,IO:()=>v,Jd:()=>m,KH:()=>c,QR:()=>d,Uw:()=>a,ZR:()=>f,dy:()=>s,eA:()=>p,fo:()=>h,k7:()=>o,rT:()=>_,tz:()=>u,u9:()=>x,zR:()=>l,zu:()=>i});const i="OPEN_UNAUTH",a="openUnauthType",r="_isAfterLogin",o="_lastVisitedPages",l="_lastVisitedPagesBeforeLogin",s="_lastVisitedBoardPages",d="_lastVisitedPagesBeforeNavPage",c="_lastVisitedSessionPages",u="_unauthVisitedPages",p=20,m="_unauthInviteCode",h="_unauthReferrerString",g="unauthTopicsFollowed",_=["US","CA","NZ","AU"],v=new Set(["GB","IE"]),y=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),f=new Set(["BR","MX","AR","CL","CO","PE"]),x="ad_img"},844887:(e,t,n)=>{n.d(t,{DZ:()=>c,Dv:()=>u,Es:()=>d,HW:()=>s});var i=n(844974),a=n(773285),r=n(116485);const o=e=>e>=Date.now()-72e5,l=(e,t)=>{const n=[];if(e)for(const i of e)t&&!i.is_shared||o(i.ts)&&n.push(i);return n},s=()=>{const e=(0,i.qn)(r.zR),t=e?JSON.parse(e):[],n=l(t,!1),a=l(t,!0),s=n.map((e=>e.first_pin_image_signature)),d=a.map((e=>e.first_pin_image_signature)),c=(e=>{const t={};if(e)for(const n of e)n.is_shared&&o(n.ts)&&n.pin_id&&(t[n.pin_id]={inviteCode:n.pin_invite_code});return t})(t),u=(0,i.qn)(r.dy),p=u?JSON.parse(u):[];return{extraPlpImages:s,plpImageRenderData:n,extraBlpImages:l(p,!0).map((e=>e.first_pin_image_signature)),extraSharedImages:d,sharedPinData:c}},d=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1){if(e[n].id!==t[n].id)return!1}return!0},c=(e,t)=>e.nuxTopics?e.nuxTopics.map((({id:e})=>t[e])):null,u=()=>{const{checkExperiment:e}=(0,a.F)(),{anyEnabled:t,group:n}=e("mweb_mini_renux");return{inMiniRenuxEnabledGroup:t,interestsLimit:t?Number(n.slice(-1)):NaN}}},59729:(e,t,n)=>{n.d(t,{CC:()=>l,H$:()=>d,Mt:()=>o,dp:()=>s,p9:()=>c});var i=n(339363),a=n(116485),r=n(844974);const o=(e,t,n,i,o,l,s=a.k7)=>{const d=(0,r.qn)(s)?JSON.parse((0,r.qn)(s)):[];if(!d[0]||d[0].path!==e){const a=[{path:e,ts:Date.now(),pin_id:n||0,first_pin_image_signature:t||"",first_pin_id:n||"",image_info:i||"",pin_description:o||"",is_shared:!!l,pin_invite_code:l}];(0,r.Nh)(s,JSON.stringify(a.concat(d)))}},l=({path:e,image:t,dominant_color:n,pin_description:r,pin_id:o})=>{const l=(()=>{const e=(0,i.qn)(a.KH);if(!e)return[];let t;try{t=JSON.parse(e)}catch(n){t=[]}return t})();if(!l[0]||l[0].path!==e){const s=[{path:e,image:t,pin_description:r||"",dominant_color:n||"",pin_id:o||""}];(0,i.Nh)(a.KH,JSON.stringify(s.concat(l)))}};function s(e,t,n,i,r,l){o(e,t,n,i,r,l,a.zR)}const d=(e,t,n,i,r)=>{o(e,t,n,i,null!=r?r:"","",a.dy)};function c(e,t,n,i,r){o(e,t,n,i,r,"",a.QR)}},885149:(e,t,n)=>{n.d(t,{Z:()=>d,x:()=>s});var i=n(667294),a=n(867820),r=n(785893);const o=(0,i.createContext)((()=>{})),l=()=>{document&&document.body&&document.body.style&&(document.body.style.overflow="unset")},s=({children:e})=>{const[t,n]=(0,i.useState)(null);(0,i.useEffect)((()=>l),[]);const s=(0,i.useCallback)((e=>{(0,a.My)("dweb.unauth.context_menu.open_menu"),document&&document.body&&document.body.style&&(document.body.style.overflow="hidden"),n(e)}),[]),d=!!t;return(0,i.useEffect)((()=>{const e=()=>{n(null),l(),(0,a.My)("dweb.unauth.context_menu.click_away")};return d&&document.addEventListener("click",e),()=>{d&&document.removeEventListener("click",e)}}),[d]),(0,r.jsx)(o.Provider,{value:s,children:(0,r.jsxs)(i.Fragment,{children:[e,t]})})},d=()=>(0,i.useContext)(o)},364034:(e,t,n)=>{n.d(t,{$:()=>s,Z:()=>d});var i=n(667294),a=n(844974);const r=e=>{if(!e)return null;try{return JSON.parse(e)}catch(t){return null}},o=new Set;function l(e){const t=(0,i.useCallback)((t=>{const n=n=>{n===e&&t()};return o.add(n),()=>{o.delete(n)}}),[e]),n=(0,i.useSyncExternalStore)(t,(()=>(0,a.qn)(e)),(()=>null)),l=(0,i.useCallback)((t=>{null===t?(0,a.L_)(e):(0,a.Nh)(e,JSON.stringify(t)),function(e){o.forEach((t=>t(e)))}(e)}),[e]);return(0,i.useMemo)((()=>[r(n),l]),[n,l])}const s=2,d=()=>{const[e,t]=l("unauthSavedPins"),n=null!==(a=null==(i=e)?void 0:i.pins)&&void 0!==a?a:[];var i,a;const r=e=>t((e=>e.length?{pins:e}:null)(e)),o=()=>n.length<s;return{pins:n,save:e=>{o()&&r(n.filter((({id:t})=>t!==e.id)).concat([e]))},unsave:e=>r(n.filter((({id:t})=>t!==e))),isSaved:e=>n.some((({id:t})=>t===e)),clear:()=>r([]),canSaveMore:o}}},691720:(e,t,n)=>{n.d(t,{Hg:()=>a,T_:()=>o,g6:()=>r,w6:()=>i});const i=(e,t)=>Array.from({length:t-e},((t,n)=>n+e)),a=508,r=600;function o(e,t){if(!t.startsWith("en"))return e;return e.split(" ").map((e=>e===e.toUpperCase()?e:e.toLowerCase())).join(" ")}},698629:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294),a=n(391254),r=n(619623),o=n(50286),l=n(444445),s=n(883119),d=n(785893);const c="PinGridSkeletonLoader__tall",u="PinGridSkeletonLoader__short",p=({size:e})=>(0,d.jsx)(s.xu,{padding:1,children:(0,d.jsx)("div",{className:"tall"===e?c:u})}),m=({children:e})=>(0,d.jsx)(s.kC,{direction:"column",gap:{row:0,column:2},children:e}),h=({partialViewportWidth:e})=>{const t="desktop"===(0,o.ZP)(),n=t?l.yF:l.tG;return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(a.Z,{unsafeCSS:[{name:c,height:250},{name:u,height:150}].map((({name:e,height:t})=>(0,r.Z)({name:e,width:n,height:t}))).join("")}),(0,d.jsx)(s.xu,{marginStart:l.qG,marginEnd:l.qG,children:t?(0,d.jsxs)(s.kC,{direction:"row",gap:{row:l.jC,column:0},children:[(0,d.jsx)(m,{children:(0,d.jsx)(p,{size:"tall"})}),(0,d.jsx)(m,{children:(0,d.jsx)(p,{size:"short"})}),(0,d.jsx)(m,{children:(0,d.jsx)(p,{size:"tall"})}),!e&&(0,d.jsx)(m,{children:(0,d.jsx)(p,{size:"short"})})]}):(0,d.jsxs)(s.kC,{direction:"row",overflow:"hidden",justifyContent:"center",children:[(0,d.jsxs)(m,{children:[(0,d.jsx)(p,{size:"tall"}),(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"})]}),(0,d.jsxs)(m,{children:[(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"}),(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"})]})]})})]})}},619623:(e,t,n)=>{n.d(t,{Z:()=>i});const i=({name:e,width:t,height:n})=>{const i=`${n}${"number"==typeof n?"px":""}`,a="number"==typeof t?t:236;return`\n.${e} {\n  -webkit-animation-duration: 1s;\n  -webkit-animation-fill-mode: forwards;\n  -webkit-animation-iteration-count: infinite;\n  -webkit-animation-name: ${e}_placeHolderShimmer;\n  -webkit-animation-timing-function: linear;\n  border-radius: 16px;\n  background: #f6f7f9;\n  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);\n  background-repeat: no-repeat;\n  background-size: ${a} ${i};\n  width: ${`${t}${"number"==typeof t?"px":""}`};\n  height: ${i};\n}\n\n@keyframes ${e}_placeHolderShimmer{\n  0% {\n      background-position: -${a}px 0;\n  }\n  100% {\n      background-position: ${a}px 0;\n  }\n}\n`}},881802:(e,t,n)=>{n.d(t,{Bb:()=>_,Bx:()=>s,F4:()=>l,OG:()=>r,Qj:()=>d,_6:()=>g,gv:()=>o,hg:()=>c,is:()=>m,jP:()=>h,lt:()=>a,oM:()=>u,wI:()=>p});var i=n(826067);const a=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),r=e=>e.pathname,o=({firstName:e,i18n:t})=>e?(t._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",e):t._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board'),l=e=>{const t=(0,i.mB)(e.search).board_url;if(t){const e=(0,i.Jx)(t),n=(0,i.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${n}`:`${e}?${n}`}return e.pathname},s=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),d=e=>{const t=e.pathname;if(t.startsWith("/pin/")){const e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},c=e=>e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.'),u=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),p=e=>{const t=e.pathname;if(t.startsWith("/pin/")){const e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},m=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.'),h=e=>e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.'),g=e=>e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.'),_=e=>e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')},633083:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(643010),a=n(883119),r=n(785893);function o({color:e,image:t,isSelected:n,title:o}){var l,s,d;return(0,r.jsxs)(a.xu,{alignItems:"center","aria-selected":n,dangerouslySetInlineStyle:{__style:{backgroundColor:(0,i.Yc)()?n?"#fff":"#767676":n?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,r.jsx)(a.zd,{height:48,rounding:"circle",width:48,children:(0,r.jsx)(a.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(l=t.height)&&void 0!==l?l:1,naturalWidth:null!==(s=t.width)&&void 0!==s?s:1,src:null!==(d=t.url)&&void 0!==d?d:""})}),(0,r.jsx)(a.xu,{marginStart:2,marginEnd:3,children:(0,r.jsx)(a.xv,{color:n?"inverse":(0,i.Yc)()?"light":"dark",weight:"bold",children:o})})]})}},722545:(e,t,n)=>{n.d(t,{ZP:()=>X,Bi:()=>q,gv:()=>Y});var i=n(934494),a=n(667294),r=n(427806),o=n(247568),l=n(572551),s=n(656226),d=n(898781),c=n(784590),u=n(444445),p=n(883119),m=n(785893);const h=({data:e,itemIdx:t})=>(0,m.jsx)(s.default,{pin:e,pinId:e.id,authDesktopSurface:"RelatedProductsFeed",slotIndex:t,viewParameter:3334,viewType:72});function g({resourceOptions:e}){const t=(0,d.ZP)(),n=(0,c.Z)({name:"VisualLiveSearchProductFeedResource",options:e}),{data:i,isAtEnd:r,isLoaded:o,isFetching:s,fetchMore:g}=n,_=(0,a.useRef)(null);if(!o)return(0,m.jsx)(p.kC,{alignItems:"stretch",alignSelf:"center",justifyContent:"center",children:(0,m.jsx)(p.$j,{accessibilityLabel:t._('Loading related products', 'Label for loading spinner', 'Label for loading spinner'),show:!0})});const v=Array.isArray(i)?i:null==i?void 0:i.results;return(0,m.jsx)(p.xu,{display:"flex",maxWidth:"100%",ref:_,children:v&&(0,m.jsx)(l.default,{columnWidth:u.yF,isAtEnd:r,isFetching:s,renderItem:e=>(0,m.jsx)(h,{...e}),items:v,loadItems:()=>{s||r||g()},paddingStyle:"simplified",scrollContainerRef:_,virtualize:!1})})}var _=n(528264),v=n(362810),y=n(647945),f=n(773285),x=n(361259);class b extends a.PureComponent{constructor(...e){var t,n,i;super(...e),i=({data:e,itemIdx:t})=>{const{resourceOptions:{image_signature:n},visualLiveSearchResource:i}=this.props,a=i&&i.data&&i.data.search_identifier,r=`${window.location.pathname}products/${window.location.search}`;return"story"===e.type?(0,m.jsx)(v.Z,{story:e,dangerouslySetActionUrl:r,slotIndex:t}):(0,m.jsx)(s.default,{pin:e,pinId:e.id,authDesktopSurface:"FlashlightResultGrid",auxData:{search_identifier:a,image_signature:n},slotIndex:t,viewData:{search_identifier:a},viewParameter:3050,viewType:72})},(n="renderItem")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){const{visualLiveSearchResource:e,onSearchIdChange:t}=this.props,n=e&&e.data&&e.data.search_identifier;n&&t(n)}componentDidUpdate({visualLiveSearchResource:{data:e}}){const{visualLiveSearchResource:{data:t}}=this.props,n=t&&t.search_identifier,i=e&&e.search_identifier;n&&n!==i&&this.props.onSearchIdChange(n)}render(){const{hasSimplifiedPinGridExpLoaded:e,visualLiveSearchResource:t}=this.props,{data:n,isFetching:i,fetchMore:a}=t,r=n&&n.results,o=n&&n.search_identifier;return(0,m.jsxs)(p.xu,{children:[r&&o&&(0,m.jsx)(p.xu,{children:(0,m.jsx)(p.Rk,{columnWidth:u.yF,renderItem:({data:e,itemIdx:t})=>this.renderItem({data:e,itemIdx:t}),gutterWidth:u.P2,items:r,loadItems:a,minCols:1,scrollContainer:()=>window})}),(0,m.jsx)(p.$j,{accessibilityLabel:this.props.i18n._('Loading search results...', 'Accessibility label for loading visual search results', 'Accessibility label for loading visual search results'),show:i||!o||!e})]})}}function w(e){const t=(0,d.ZP)(),{hasSimplifiedPinGridExpLoaded:n}=(0,x.$)(),{checkExperiment:i}=(0,f.F)(),{anyEnabled:r}=i("web_flashlight_unified_feed"),{resourceOptions:o,pin:l}=e,s=(0,c.Z)({name:"VisualLiveSearchResource",options:o}),{visualSearchFlashlightUnifiedResource:u}=(0,y.Z)({resourceOptions:o});return(0,m.jsx)(a.Fragment,{children:r?(0,m.jsx)(_.Z,{imageSignature:l.image_signature,isProductOnlyFeed:!1,pin:l,variant:"flashlight",viewParameter:3050,viewType:72,visualSearchFlashlightUnifiedResource:u}):(0,m.jsx)(b,{...e,visualLiveSearchResource:s,hasSimplifiedPinGridExpLoaded:n,i18n:t})})}var S=n(99739),P=n(305791),k=n(975540),I=n(94047),T=n(297852),j=n(280446),C=n(119403),A=n(430323),E=n(829407),D=n(229428),F=n(697335),L=n(826067),R=n(407043),z=n(780280),M=n(616550);let O=0,Z="";function N({pin:e}){const{logContextEvent:t}=(0,R.v)(),n=(0,d.ZP)(),i=(0,M.useHistory)(),l=(0,z.B)(),{checkExperiment:s}=(0,f.F)(),{anyEnabled:c}=s("web_flashlight_unified_feed"),{id:u}=(0,M.useParams)(),{pinId:h}=(0,j.Z)(u||""),_=(0,M.useLocation)(),v=(0,L.mB)(_.search),{x:y,y:x,w:b,h:N,cropSource:U}=function(e){return Object.keys(e).reduce(((t,n)=>({...t,[n]:parseInt(e[n],10)})),{})}(v),{imageSignature:B}=v,K=function(...e){return e.every(Number.isInteger)}(y,x,b,N)?{x:y,y:x,w:b,h:N}:null,[H,$]=(0,a.useState)(""),W=_.pathname.includes("/products")?"products":"flashlight";function G({origCrop:e,cropSource:t}){const n=window.location.pathname+window.location.search;(0,T.Z)({cropArea:e,pinId:h,cropSource:t,isUnified:!1,imageSignature:B})!==n&&i.replace({pathname:`/pin/${h}/visual-search/`,query:{...e,cropSource:t,imageSignature:B},search:(0,I.Z)({cropArea:e,cropSource:t,imageSignature:B}),state:{internalNavigation:!0}})}const V=(0,a.useRef)();(0,a.useEffect)((()=>(V.current&&Z===h&&(V.current.scrollTop=O),()=>{V.current&&(O=V.current.scrollTop,Z=h)})));if((0,E.Z)((()=>{if(!K&&e){const t=(0,S.Z)({initialCropArea:K,pin:e,queryImageSig:B}),n=(0,T.Z)({cropArea:t,pinId:h,view:W,imageSignature:B});i.replace(n)}t({event_type:13,view_type:72,view_parameter:3050,view_data:{pin_id:h}})})),!e)return null;const{image_signature:q}=e,Y=B||q,{width:J,height:X,url:Q}=(0,P.Z)({pin:e,imageSignature:Y});""===Q&&i.push(`/pin/${h}/visual-search/`);const ee=U||5,te=(0,S.Z)({initialCropArea:K,pin:e,imageSignature:Y}),ne={pin_id:h,image_signature:Y,crop:(0,k.Z)({cropArea:te,scaledWidth:J,scaledHeight:X}),crop_source:ee,is_shopping:!1,entry_source:"flashlight"},ie=!(_&&_.state&&_.state.internalNavigation),ae=l&&l.isRTL||!1,re=J+20,oe=re+16,le=!c||c&&(5===ee||6===ee),se=!!e.visual_objects&&Y===q&&(0,D.m)(e.visual_objects)||[];return(0,m.jsx)(A.Z,{view:72,objectId:H,children:(0,m.jsxs)(a.Fragment,{children:[(0,m.jsx)(r.Z,{text:n._('Visual Search Page', 'pin.flashlight.accessibilityhiddenheading', 'accessibility label for flashlight page')}),le&&(0,m.jsx)(C.Z,{pinId:h,title:"products"===W?n._('Shop similar items', 'Header explaining results of flashlight products search', 'Header explaining results of flashlight products search'):n._('More Ideas', 'Header explaining results of flashlight search', 'Header explaining results of flashlight search'),variant:"flashlight",viewParameter:3050,viewType:72}),(0,m.jsx)(F.c,{children:t=>{var n;return"products"===W?(0,m.jsxs)(p.xu,{dangerouslySetInlineStyle:{__style:{marginTop:60}},children:[(0,m.jsx)(g,{resourceOptions:ne}),";"]}):(0,m.jsxs)(p.xu,{display:"flex",paddingX:12,children:[(0,m.jsx)(p.xu,{bottom:!0,overflow:"auto",position:"fixed",dangerouslySetInlineStyle:{__style:{width:re,height:"inherit",top:t+60,marginBottom:10}},ref:V,children:(0,m.jsx)(p.xu,{"data-test-id":"flashlight-enabled-image",dangerouslySetInlineStyle:{__style:{width:J,height:X}},children:(0,m.jsxs)(p.zd,{height:X,rounding:2,width:J,children:[(0,m.jsx)(p.Ee,{alt:null!==(n=e.description)&&void 0!==n?n:"",naturalHeight:X,naturalWidth:J,src:Q}),(0,m.jsx)(o.Z,{showAnimation:ie,imageSignature:Y,imageSize:{h:X,w:J},initialCropArea:te,onChange:G,pin:e,spotlightAreas:se})]})})}),(0,m.jsx)(p.xu,{position:"relative",width:"100%",dangerouslySetInlineStyle:{__style:{top:60,marginLeft:ae?void 0:oe,marginRight:ae?oe:void 0}},children:(0,m.jsx)(w,{resourceOptions:ne,onSearchIdChange:$,pin:e})})]})}})]})})}var U,B=n(418614),K=n(167912);const H=void 0!==U?U:U=n(957872);function $(e){var t,n,i;return{width:null!==(t=e.width)&&void 0!==t?t:0,url:null!==(n=e.url)&&void 0!==n?n:"",height:null!==(i=e.height)&&void 0!==i?i:0}}function W(e){const t=[];return e.forEach((({additionalImages:e,spec:n})=>{var i;t.push(...null!==(i=function({additionalImages:e,spec:t}){const n=[];return null==e||e.forEach((e=>{var i;e.canonicalImage&&n.push({canonical_images:{[t]:$(e.canonicalImage)},image_signature:null!==(i=e.imageSignature)&&void 0!==i?i:""})})),n}({additionalImages:e,spec:n}))&&void 0!==i?i:[])})),t}function G(e){return null==e?void 0:e.map((e=>{var t,n,i,a,r;return{additional_images:null!==(t=W([{additionalImages:e.additionalImageOrig,spec:"orig"},{additionalImages:e.additionalImage736x,spec:"736x"},{additionalImages:e.additionalImage564x,spec:"564x"},{additionalImages:e.additionalImage474x,spec:"474x"},{additionalImages:e.additionalImage236x,spec:"236x"}]))&&void 0!==t?t:[],variant_set:null!==(i=e.variantSet,n={variants:null!==(r=null==i?void 0:i.variants,a=null==r?void 0:r.map((e=>{var t,n;return{additional_images:null!==(n=e.additionalImages,t=null==n?void 0:n.map((e=>{var t,n;return{canonical_images:null!==(t=e.canonicalImages)&&void 0!==t?t:{},image_signature:null!==(n=e.imageSignature)&&void 0!==n?n:""}})))&&void 0!==t?t:[]}})))&&void 0!==a?a:[]})&&void 0!==n?n:{}}}))}function V(e){const t={};return e.forEach((e=>{const{image:n,spec:i}=e;n&&(t[i]=$(n))})),t}function q(){var e,t,n,i,a,r,o;const{id:l}=(0,M.useParams)(),{pinId:s}=(0,j.Z)(l||""),d=function({pinId:e}){return{query:H,variables:{pinId:e}}}({pinId:s}),c=null===(e=(0,K.useLazyLoadQuery)(H,d.variables).v3GetPinQuery)||void 0===e?void 0:e.data;if(!c)return null;var u,p,m,h,g;return{id:null!==(t=c.entityId)&&void 0!==t?t:"",is_eligible_for_related_products:null!==(n=c.isEligibleForRelatedProducts)&&void 0!==n&&n,description:null!==(i=c.description)&&void 0!==i?i:"",image_signature:null!==(a=c.imageSignature)&&void 0!==a?a:"",visual_objects:null!==(g=c.visualObjects,r=null==g?void 0:g.map((e=>{var t,n,i,a,r,o,l,s,d,c,u,p,m,h;return{detection:null!==(t=e.detection)&&void 0!==t&&t,h:null!==(n=e.h)&&void 0!==n?n:0,index:null!==(i=e.index)&&void 0!==i?i:0,is_stela:null!==(a=e.isStela)&&void 0!==a&&a,label:null!==(r=e.label)&&void 0!==r?r:"",label_id:null!==(o=e.labelId)&&void 0!==o?o:0,label_x:null!==(l=e.labelX)&&void 0!==l?l:0,label_y:null!==(s=e.labelY)&&void 0!==s?s:0,max_annotation_num_documents:null!==(d=e.maxAnnotationNumDocuments)&&void 0!==d?d:0,score:null!==(c=e.score)&&void 0!==c?c:0,show_on_closeup:null!==(u=e.showOnCloseup)&&void 0!==u&&u,w:null!==(p=e.x)&&void 0!==p?p:0,x:null!==(m=e.w)&&void 0!==m?m:0,y:null!==(h=e.y)&&void 0!==h?h:0}})))&&void 0!==r?r:[],images:null!==(o=V([{image:c.imageOrig,spec:"orig"},{image:c.image736x,spec:"736x"},{image:c.image564x,spec:"564x"},{image:c.image474x,spec:"474x"},{image:c.image236x,spec:"236x"}]))&&void 0!==o?o:{},rich_metadata:(m=c.richMetadata,{products:null!==(h=G(null==m?void 0:m.products))&&void 0!==h?h:[]}),rich_summary:(u=c.richSummary,{products:null!==(p=G(null==u?void 0:u.products))&&void 0!==p?p:[]}),type:"pin"}}function Y(){const{data:e,isLoaded:t}=(0,B.Z)({name:"PinResource",getOptions:({routeData:{params:{id:e}}})=>({id:e,field_set_key:"detailed",fetch_visual_search_objects:!0})});return t&&e?e:null}const J=(0,i.Z)({useGraphQLAdapter:q,useLegacyAdapter:Y});function X(){const{checkExperiment:e}=(0,f.F)(),t=(0,d.ZP)();return(0,m.jsx)(J,{input:e("auth_dweb_graphql_flashlight_pinResource").anyEnabled?{enabled:!0,data:null,suspense:{fallback:(0,m.jsx)(p.$j,{accessibilityLabel:t._('Loading Pin data', 'authDesktopFlashlightPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0})}}:{enabled:!1,data:null},children:({data:e})=>!!e&&(0,m.jsx)(N,{pin:e})})}},59644:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t)=>`${e}:${t||""}`},712055:(e,t,n)=>{n.d(t,{Z:()=>o,f:()=>l});var i=n(214494),a=n(254176);function r(e){return i.Z.create("BoardFollowResource",{board_id:e})}function o(e){return t=>{r(e).callCreate().catch((()=>{t((0,a.md)(e,!1))})),t((0,a.md)(e,!0))}}function l(e){return t=>{r(e).callDelete().catch((()=>{t((0,a.md)(e,!0))})),t((0,a.md)(e,!1))}}},177891:(e,t,n)=>{n.d(t,{a:()=>i,k:()=>a});const i=e=>({type:"ONE_TAP_SAVE",payload:e}),a=e=>({type:"ONE_TAP_UNSAVE",payload:e})},884183:(e,t,n)=>{n.d(t,{By:()=>s,IT:()=>l,N6:()=>a,br:()=>r,lU:()=>o});var i=n(689070);const a=(e,t)=>({type:"UPDATE_CURRENT_SEARCH",payload:{query:e,scope:t}}),r=(e,t)=>({type:"UPDATE_RECENT_SEARCHES",payload:{query:e,scope:t}}),o=(e,t,n)=>a=>{(0,i.Z)({url:"/v3/search/recent/",method:"DELETE",data:{vertical:e}}).then(t,n),a("PERSONAL"===e?{type:"CLEAR_RECENT_PERSONAL_SEARCHES"}:{type:"CLEAR_RECENT_SEARCHES"})},l=(e,t,n,a)=>r=>{(0,i.Z)({url:"/v3/search/recent/",method:"DELETE",data:{query:e,vertical:t}}).then(n,a),r("PERSONAL"===t?(e=>({type:"CLEAR_RECENT_PERSONAL_SEARCH",payload:{query:e}}))(e):(e=>({type:"CLEAR_RECENT_SEARCH",payload:{query:e}}))(e))},s=e=>t=>{t((e=>({type:"RELOAD_VISUAL_SEARCH_ANNOTATIONS",payload:{pinId:e}}))(e))}},70090:(e,t,n)=>{n.d(t,{ZN:()=>o,bJ:()=>s,fv:()=>l,hr:()=>r,lD:()=>d});var i=n(214494);function a(e,t){return i.Z.create("InterestFollowResource",{interest_id:e,interest_list:"favorited",referrer:t})}const r=(e,t)=>({type:"TOPIC_FOLLOW",payload:{id:e,value:t}}),o=(e,t)=>n=>{a(e,t).callCreate().catch((()=>n(r(e,!1)))),n(r(e,!0))},l=(e,t)=>n=>{a(e,t).callDelete().catch((()=>n(r(e,!0)))),n(r(e,!1))},s=e=>t=>{const n=e.reduce(((e,t)=>({...e,[t.id]:!t.is_followed})),{});return i.Z.create("UpdateFollowedInterestsResource",{updated_interest_follows:n}).callUpdate().then((()=>{e.forEach((({id:e,is_followed:n})=>{t(r(e,!n))}))}))},d=(e,t="")=>n=>i.Z.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate().then((()=>{Object.keys(e).forEach((t=>{const i=e[t];n(r(t,i))}))}))},461773:(e,t,n)=>{n.d(t,{KF:()=>c,ZN:()=>l,fv:()=>d,kE:()=>p,yA:()=>s});var i=n(689070),a=n(214494),r=n(90326);function o(e,t){return a.Z.create("UserFollowResource",{user_id:e,aux_data:t?{pin_id:t}:void 0})}function l(e,t=null){return n=>{o(e,t).callCreate().catch((()=>n((0,r.P_)(e,!1)))),n((0,r.P_)(e,!0))}}function s(e,t=null){return async n=>{n((0,r.P_)(e,!0)),await o(e,t).callCreate().catch((t=>{throw n((0,r.P_)(e,!1)),t}))}}function d(e,t=null){return n=>{o(e,t).callDelete().catch((()=>n((0,r.P_)(e,!0)))),n((0,r.P_)(e,!1))}}function c(e,t=null){return async n=>{n((0,r.P_)(e,!1)),await o(e,t).callDelete().catch((t=>{throw n((0,r.P_)(e,!0)),t}))}}const u=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),p=e=>t=>{e.length>0&&((0,i.Z)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e.join(",")}}).catch((()=>t(u(e,!1)))),t(u(e,!0)))}},492583:(e,t,n)=>{n.d(t,{Z:()=>i});const i={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",CALL_TO_CREATE_RESPONSES_FEED:"callToCreateResponsesFeed",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",TRIED_IT_FEED:"trieditfeed"}},422946:(e,t,n)=>{n.d(t,{J:()=>g,Z:()=>f});var i=n(492583),a=n(59644),r=n(932995),o=n(483025),l=n(998651),s=n(648284),d=n(819063),c=n(338739);const u=new Set(["PinResource","RepinResource"]),p={ApiResource:e=>{return"/v3/orientation/nux_creator_recommendations/"===(null==e?void 0:e.url)?"nux-creator-recommendations":null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?`call-to-create-pins:${e.pin_id}`:"/v3/users/me/interests/"===(null==e?void 0:e.url)?`recommended-interests:${null===(t=e.data)||void 0===t?void 0:t.blend_type}`:"";var t},AggregatedActivityFeedResource:e=>`trieditfeed:${e.aggregated_pin_data_id}`,AggregatedCommentFeedResource:e=>`aggregated-comments:${e.objectId}`,AggregatedCommentReplyFeedResource:e=>`${i.Z.AGGREGATED_COMMENT_REPLIES}:${e.objectId}`,BoardlessPinsResource:e=>`boardless-pins:${e.userId}`,BestPinsFeedAltResource:e=>`idea-page-best-pins:${e.interest}`,BoardArchiveResource:()=>"archived-boards",BoardCollaboratorsResource:e=>`board-collaborators:${e.board_id}`,BoardContentRecommendationResource:e=>`recommendation-feed:${e.id}`,BoardFeedResource:e=>`boardfeed:${e.board_id}`,BoardSectionsRepinResource:e=>`board-sections:${e.board_id}`,BoardSectionsResource:e=>`board-sections:${e.board_id}`,BoardSectionPinsResource:e=>`board-section-pins:${e.section_id}`,BoardsFeedResource:e=>`profile-boards:${e.username}`,BoardToolsFeedResource:e=>`board-tools:${e.boardId}`,ConversationsResource:()=>"conversations",DidItLikedByResource:e=>`triedit-likes:${e.didItDataId}`,DidItUserFeedResource:e=>`profile-tried:${e.username}`,ExploreArticleBlockSearchResource:e=>`explore-search:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserResource:e=>`explore-user:${e.article_id}:${e.block_id}`,ExploreArticleBlockPinResource:e=>`explore-pin:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserDidItDataResource:e=>`explore-did_it:${e.article_id}:${e.block_id}`,ExploreArticleResource:({response:e})=>{if(!e)return"";const t="explore_tab_pin".length,n=e.resource_response.data,{story_type:i}=n?n.objects[0]:{story_type:""};return`explore-${i.slice(t)}:${n.id}`},FollowingFeedResource:()=>"following",HolidaySpotlightRelatedFeedResource:e=>`holiday-spotlight-related:${e.storyType}`,HolidaySpotlightResource:e=>`holiday-spotlight:${e.storyType}`,InterestResource:e=>`klp-pins:${e.interest}`,MoreIdeasTabsBoardsResource:()=>"homefeed-more-ideas-tabs",NewsHubResource:()=>"notifications",NewsHubDetailsResource:e=>`newshubdetail:${e.news_id}`,NuxInterestsResource:()=>"nuxTopics",PinsFromBrandResource:e=>`brand-pins:${e.pin}`,ReactionsResource:e=>`reactions:${e.pin_id}`,RelatedArticlesResource:e=>`related-articles:${e.article_id}`,RelatedModulesResource:e=>`related-modules:${e.pin_id}`,RelatedPinFeedResource:e=>`related-pins:${e.pin}`,RelatedProductFeedResource:e=>"pin"===e.shop_source?`closeup-related-products:${e.pin}`:`related-products:${e.pin}`,RelatedStreamResource:e=>`related-story-pins:${e.pinId}`,SearchResource:e=>{const t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},BaseSearchResource:e=>{const t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.appliedProductFilters}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},SectionToolsFeedResource:e=>`section-tools:${e.sectionId}`,ShareSuggestionsTypeaheadResource:e=>`share-suggestions:${e.board||e.user}:${e.term}`,ShoppingFeedModularizedResource:e=>e.saved_products_only?`board-shop-saved:${e.board_id}`:`board-shop-related:${e.board_id}`,StoryFeedResource:e=>`story-feed:${e.feed_type}:${e.request_params}`,SuggestedCreatorFollowsResource:()=>"suggested-creator-follows",StoryPinTaggedProductsResource:()=>"story-pin-tagged-products",TodayArticleFeedResource:e=>`today-article:${e.id}`,IdeasHubTodayArticlesResource:e=>`today-article:${e.interest_id}`,TodayTabInterestFeedResource:e=>`today-article-interestfeed:${e.interest_id}`,TodayTabResource:()=>"today-tab",SeoTier1CandidateResource:()=>"tier1-feed",UnifiedCommentsResource:e=>`unified-comments:${e.aggregated_pin_id}`,UserActivityPinsResource:e=>`profile-pins-feed:${e.user_id}`,UserHomefeedResource:e=>e.pin_quiz?"pin-quiz":"homefeed",UserFollowingResource:e=>`user-following:${e.username}`,UserRecentActivityResource:e=>`user-recent-activity:${e.filter_type}`,UserStoryPinsFeedResource:e=>`story-pins-feed:${e.user_id}`,VideosFeedResource:()=>"videos-feed",VisualLiveSearchResource:e=>`visual-search:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualLiveSearchProductFeedResource:e=>`visual-search-products:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualSearchFlashlightUnifiedResource:e=>`related-products-unified:${e.pin_id}`,BoardFollowingResource:e=>`board-following:${e.username}`,InterestFollowingResource:e=>`topic-following:${e.username}`,UserPinsResource:e=>`profile-pins:${e.username}`,TopicFeedResource:e=>e.best_pins?`best-topic-pins:${e.interest}`:`topic-pins:${e.interest}`},m={ApiResource:({options:e})=>null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?{type:i.Z.CALL_TO_CREATE_RESPONSES_FEED,id:e.pin_id}:null,AggregatedActivityFeedResource:({options:{aggregated_pin_data_id:e}})=>({type:i.Z.TRIED_IT_FEED,id:e}),AggregatedCommentFeedResource:({options:{objectId:e}})=>({type:i.Z.AGGREGATED_COMMENTS,id:e}),AggregatedCommentReplyFeedResource:({options:{isUnifiedComment:e,objectId:t}})=>({type:e?i.Z.AGGREGATED_COMMENT_REPLIES:i.Z.AGGREGATED_COMMENTS,id:t,reversed:!0}),BoardFeedResource:({options:{board_id:e}})=>({type:i.Z.BOARDFEED,id:e}),BoardlessPinsResource:({options:{userId:e}})=>({type:i.Z.BOARDLESS_PINS,id:e}),BoardSectionPinsResource:({options:{section_id:e}})=>({type:i.Z.BOARD_SECTION_PINS,id:e}),BoardSectionsResource:({options:{board_id:e}})=>({type:i.Z.BOARD_SECTIONS,id:e}),BoardsResource:({options:{username:e,sort:t}})=>({type:i.Z.PROFILE_BOARDS,id:(0,a.Z)(e,t)}),BaseSearchResource:({options:{auto_correction_disabled:e,appliedProductFilters:t,scope:n,filters:a,query_pin_sigs:r,query:o,user:d},response:c})=>{var u;return{type:i.Z.SEARCH_PINS,id:(0,s.Tb)({appliedProductFilters:t,autoCorrectionDisabled:e,filters:a,query:o,selectedPinImgSig:r,scope:n,user:d}),items:null!==(u=c.resource_response.data)&&void 0!==u&&u.results?(0,l.L)(c.resource_response.data.results).filteredResults:[]}},DidItCommentsResource:({options:{objectId:e}})=>({type:i.Z.AGGREGATED_COMMENTS,id:e,reversed:!0}),DidItUserFeedResource:({options:{username:e}})=>({type:i.Z.TRIED_IT_FEED,id:e}),IdeasHubTodayArticlesResource:({options:{interest_id:e}})=>({type:i.Z.TODAY_TAB,id:e}),RelatedArticlesResource:({options:{article_id:e}})=>({type:i.Z.TODAY_TAB,id:e}),StoryPinDraftsResource:({options:{userId:e}})=>({type:i.Z.STORY_PIN_DATA,id:e}),TodayTabInterestFeedResource:({options:{interest_id:e}})=>({type:i.Z.TODAY_ARTICLE_INTEREST_FEED,id:e}),TodayTabResource:()=>({type:i.Z.TODAY_TAB,id:"todayTab"}),UnifiedCommentsPreviewResource:({options:{aggregated_pin_id:e}})=>({type:i.Z.UNIFIED_COMMENTS,id:e}),UnifiedCommentsResource:({options:{aggregated_pin_id:e,is_reversed:t}})=>({type:i.Z.UNIFIED_COMMENTS,id:e,reversed:t}),UserActivityPinsResource:({options:{user_id:e}})=>({type:i.Z.PROFILE_PINS_FEED,id:e}),UserStoryPinsFeedResource:({response:e,options:{user_id:t}})=>({type:i.Z.STORY_PINS_FEED,id:t,items:e.resource_response.data||[]})},h=(e,{pinId:t,oldFeedId:n,newFeedId:i})=>n===i?e:((e,{pinId:t,feedId:n})=>e[n]?{...e,[n]:[{type:"pin",id:t},...e[n]]}:e)(((e,{pinId:t,feedId:n})=>e[n]?{...e,[n]:e[n].filter((e=>!("pin"===e.type&&e.id===t)))}:e)(e,{pinId:t,feedId:n}),{pinId:t,feedId:i}),g=(e,t)=>e in p?p[e](t):null,_=(e,t)=>t?`board-section-pins:${t}`:`boardfeed:${e}`,v=(e,t)=>e.map((({id:e,schema:n})=>n?{id:e,type:n,trackingParams:"pin"===n?t.pins[e].tracking_params:void 0,user_id:void 0}:null)).filter(Boolean),y=(e,t,n)=>Object.keys(e).reduce(((i,a)=>{const r=e[a]||[],o=r.filter((e=>!(e.type===t&&e.id===n)));return r.length!==o.length&&(i[a]=o),i}),{...e}),f=(e={},t)=>{switch(t.type){case c.zP:case c.aW:{const{payload:a}=t,{resource:r,options:l,normalizedResponse:s,schema:u}=a;if(s&&r in p){const n=((e,t,n)=>{const i=n||o.Z[e];if(i===d.LR)return t.result;if(i===d.sN)return t.result.map((e=>({id:e,schema:"board"})));if(i===d.Gn)return t.result.map((e=>({id:e,schema:"user"})));if(i===d.Ht)return t.result.map((e=>({id:e,schema:"invite"})));if(i===d.fE)return t.result.map((e=>({id:e,schema:"reaction"})));if("object"==typeof i){const e=Object.entries(i).find((([e,t])=>t===d.LR));if(e)return t.result[e[0]]}return null})(r,s,u);if(n&&Array.isArray(n)){const i=p[r](l);if("ShoppingFeedModularizedResource"===r){const{board_id:t,saved_products_only:i}=null!=l?l:{},a=`board-shop-related:${t}`,r=`board-shop-saved:${t}`,o=`board-shop-saved-preview:${t}`,d=[...e[a]||[]],c=[...e[r]||[]],u=[...e[o]||[]];return v(n,s.entities).forEach((e=>{var n;i?c.push(e):s.entities.pins&&(null===(n=s.entities.pins[e.id])||void 0===n?void 0:n.board)===t?u.push(e):d.push(e)})),{...e,[a]:d,[r]:c,[o]:u}}if("BoardToolsFeedResource"===r||"SectionToolsFeedResource"===r)return{...e,[i]:n};{const a=(t.type===c.aW&&e[i]||[]).concat(v(n,s.entities));return{...e,[i]:a}}}}else{var n;const r=a.response.resource_response.data;if(null===(n=a.options)||void 0===n||!n.redux_normalize_feed)return e;const o=m[a.resource](a);if(o){const{type:n,id:a,items:l,reversed:s}=o;let d=(l||r||[]).map((e=>((e,t)=>{switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===i.Z.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"board_section":return{type:"boardsection",id:e.id};case"triedit":return{type:"triedit",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"triedit",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}})(e,n)));s&&(d=d.reverse());const u=`${n}:${a}`,p=e[u];if(p||t.type!==c.aW){const n=p||[];let i=d;return t.type===c.aW&&(i=s?d.concat(n):n.concat(d)),{...e,[u]:i}}}}break}case"FEED_ITEM_REORDERED":{const{payload:{feedType:n,feedId:a,itemType:o,targetItemId:l,sourceItemId:s}}=t,d=`${n}:${a}`,c=e[d]||[];let u=-1,p=-1;if([i.Z.BOARDFEED,i.Z.BOARD_SECTION_PINS,i.Z.BOARD_SECTIONS,"profileBoards"].includes(n)&&(u=c.findIndex((e=>e.type===o&&e.id===s)),p=c.findIndex((e=>e.type===o&&e.id===l))),-1!==u&&-1!==p)return{...e,[d]:(0,r.Z)(c,u,p)};break}case"FEED_ITEMS_REMOVED":{const{payload:{feedType:n,feedId:a,inverseSelection:r,itemType:o,itemIds:l=[]}}=t,s=`${n}:${a}`,d=e[s]||[];if(d&&d.length>0&&(n===i.Z.BOARD_SECTION_PINS||n===i.Z.BOARDFEED)){const t=d.filter((e=>{const t=l.includes(e.id);return!(e.type===o&&(r&&!t||!r&&t))})),n=!!t.find((e=>"pin"===e.type));return{...e,[s]:n?t:[]}}if(d&&d.length>0&&n===i.Z.BOARD_SECTIONS){const t=d.filter((e=>{const t=l.includes(e.id);return!(e.type===o&&t)}));return{...e,[s]:t}}if(d&&d.length>0&&(n===i.Z.AGGREGATED_COMMENTS||n===i.Z.BOARDLESS_PINS||n===i.Z.PROFILE_PINS_FEED||n===i.Z.STORY_PINS_FEED||n===i.Z.UNIFIED_COMMENTS||n===i.Z.TRIED_IT_FEED||n===i.Z.STORY_PIN_DATA)){const t=d.filter((e=>{const t=l.includes(e.id);return!(e.type===o&&t)}));return{...e,[s]:t}}break}case"FEED_ITEMS_ADDED":{const{payload:{feedType:n,feedId:a,itemType:r,itemIds:o=[],prepend:l}}=t,s=`${n}:${a}`,d=e[s]||[];if(d&&(n===i.Z.BOARD_SECTION_PINS||n===i.Z.BOARDFEED||n===i.Z.BOARDLESS_PINS)){const t=o.map((e=>({id:e,type:r})));let n=0;"story"===(d[0]||{}).type&&(n=1),"story"===(d[1]||{}).type&&(n=2);const i=[...d.slice(0,n),...t,...d.slice(n)];return{...e,[s]:i}}if(d&&n===i.Z.BOARD_SECTIONS){const t=[...o].reverse().map((e=>({id:e,type:"boardsection"}))),n=d?[...t,...d]:[...t];return{...e,[s]:n}}if(n===i.Z.AGGREGATED_COMMENTS||n===i.Z.AGGREGATED_COMMENT_REPLIES||n===i.Z.PROFILE_PINS_FEED||n===i.Z.STORY_PINS_FEED||n===i.Z.UNIFIED_COMMENTS){const t=o.map((e=>({id:e,type:r}))),n=d?[...l?t:d,...l?d:t]:t;return{...e,[s]:n}}if(n===i.Z.TRIED_IT_FEED){const t=o.map((e=>({id:e,type:r}))),n=d?[...t,...d]:t;return{...e,[s]:n}}break}case"FEED_INVALIDATE":{const{payload:{feedType:n,feedId:i}}=t,a=`${n}:${i}`;if(e[a]||[])return{...e,[a]:null};break}case"APPEND_FEED_ITEMS":{const{payload:{id:n,items:i,options:a}}=t,r=e[n];if(r){let t;return t=a.isPrepend?r[0]&&"story"===r[0].type?[].concat(r[0],i,r.slice(1)):i.concat(r):r.concat(i),{...e,[n]:t}}return{...e,[n]:i}}case"PIN_DELETE":{const{payload:{pinId:n}}=t;return y(e,"pin",n)}case"BOARD_ARCHIVE":{const{payload:{boardId:n,username:i}}=t,a=`profile-boards:${null!=i?i:""}`;if(e[a])return{...e,[a]:e[a].filter((e=>e.id!==n))};break}case"BOARD_UNARCHIVE":{const{payload:{boardId:n}}=t,i="archived-boards";if(e[i])return{...e,[i]:e[i].filter((e=>e.id!==n))};break}case"BOARD_DELETE":{const{payload:{boardId:n}}=t;return y(e,"board",n)}case"BOARD_SECTION_DELETE":{const{payload:{boardSectionId:n}}=t;return y(e,"boardsection",n)}case"PINS_MOVE":{const{payload:{source:n,target:i,pinIds:a,userId:r}}=t,o=n.boardlessPins&&r&&`boardless-pins:${r}`||n.boardId&&_(n.boardId,n.sectionId),l=_(i.boardId,i.sectionId);return a.reduce(((e,t)=>h(e,{pinId:t,oldFeedId:o,newFeedId:l})),e)}case"PINS_MOVE_ALL":{const{payload:{source:n,target:i,excludePinIds:a}}=t,r=_(n.boardId,n.sectionId),o=_(i.boardId,i.sectionId),l={...e,[r]:a.map((e=>({type:"pin",id:e})))};return delete l[o],l}case"PIN_EDIT":{const{payload:{pinId:n,boardId:i,section:a,source:{boardId:r,sectionId:o}}}=t,l=_(r,o),s=_(i,null==a?void 0:a.id);return h(e,{pinId:n,oldFeedId:l,newFeedId:s})}case c.AF:if(u.has(t.payload.resource)){const n=t.payload.response.resource_response.data,i=n.board;let a;if("quick_saves"===i.layout)a=`boardless-pins:${t.payload.options.user_id}`;else{const e=t.payload.options.section;a=e?`board-section-pins:${e}`:`boardfeed:${i.id}`}if(e[a]){const t={...e},i={id:n.id,type:"pin",trackingParams:null==n?void 0:n.tracking_params};return t[a]=[i].concat(e[a]),t}}if("BoardSectionResource"===t.payload.resource&&t.payload.normalizedResponse){const n=t.payload.normalizedResponse.result,i=`board-sections:${t.payload.normalizedResponse.entities.boardsections[n].board}`;if(e[i]){const t={...e},a={id:n,type:"boardsection"};return t[i]=[a].concat(e[i]),t}}if("AggregatedCommentResource"===t.payload.resource&&t.payload.normalizedResponse){const n={id:t.payload.normalizedResponse.result,type:"aggregatedcomment"},i=["aggregated-comments","unified-comments"];let a={...e};for(const r of i){const i=`${r}:${t.payload.options.objectId}`;e[i]&&(a={...a,[i]:[n].concat(a[i])})}return a}if("AggregatedCommentReplyResource"===t.payload.resource&&t.payload.normalizedResponse){const n=`${i.Z.AGGREGATED_COMMENT_REPLIES}:${t.payload.options.objectId}`;return{...e,[n]:[...e[n]||[],{id:t.payload.normalizedResponse.result,type:"aggregatedComment"}]}}if("ReactionsResource"===t.payload.resource&&t.payload.normalizedResponse){const{reaction_pin_id:n}=t.payload.options;if("reaction"===t.payload.options.action_type){const i=`reactions:${t.payload.options.pin_id}`,a={...e},r={id:`${n}:${t.payload.options.user_id}`,type:"reaction",trackingParams:void 0};return a[i]=[r].concat(e[i]),a}if("unreaction"===t.payload.options.action_type){const i=`${n}:${t.payload.options.user_id}`;return y(e,"reaction",i)}}break;case"COMPLETE_STORY":{const{payload:{storyId:n}}=t;return y(e,"story",n)}}return e}},761881:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>(e=>(t,n)=>t.feeds[((e,t)=>"string"==typeof e?e:e(t))(e,n)])(e)},977734:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(723852),a=n(675752),r=n(214494);function o({history:e,i18n:t,logContextEvent:n,onSuccess:o,onUndo:l,originalPinId:s,pinId:d,trackingParams:c,disableRepinAnimation:u,showNewUserSavetoProfileAnimation:p,showRepinConfirmation:m,historyPush:h,savePinId:g}){return(_,v)=>{const{pins:y,session:f}=v(),{userId:x}=f,b=y[d],w={name:t._('Quick Saves', 'quickSave.boardName', 'Name of the auto-created board in quicksave experience.'),layout:"quick_saves",protected:!1,return_existing:!0,user_id:x};return r.Z.create("BoardResource",w).callCreate().then((r=>{var v;const y=r.resource_response.data;return new i.Z({boardId:y.id,dispatch:_,isQuickSave:!0,history:e,i18n:t,onSuccess:o,onUndo:l,originalPinId:s,pinId:d,section:void 0,showNewUserSavetoProfileAnimation:p,showRepinToasts:e=>m?m(e,u):void 0,trackingParams:c,userId:f.userId,historyPush:h,savePinId:g,pinData:{trackingParams:b?b.tracking_params:void 0,viewParameter:b?(0,a.A)(b):void 0,pinnedToBoardId:b?null===(v=b.pinned_to_board)||void 0===v?void 0:v.id:void 0}}).processRepin(n)}))}}},962551:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(643010),a=n(883119),r=n(785893);function o({guide:e,guidedQuery:t,isSlot0Style:n=!1}){const{dominant_color:o,display:l}=e,s=(0,r.jsx)(a.iP,{role:"link",tapStyle:"none",rounding:"pill",href:`/search/pins/?rs=guide&q=${encodeURIComponent(t)}`,children:(0,r.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundSize:"cover",backgroundColor:o,whiteSpace:n?void 0:"nowrap"}},"data-test-id":"one-bar-module-3",minWidth:n?void 0:84,padding:4,rounding:"pill",children:(0,r.jsx)(a.xv,{align:n?"start":"center",color:n?(0,i.Yc)()?"inverse":"default":"inverse",lineClamp:n?2:void 0,size:"200",weight:n?"normal":"bold",children:l})})});return n?s:(0,r.jsx)(a.xu,{flex:"none",marginStart:-7,paddingX:4,children:s})}const l=-1,s=0;function d({guides:e,isSlot0Style:t=!1,query:n}){const i=({position:e,term:t})=>e===l?t:e===s?`${t} ${n}`:`${n} ${t}`,d=()=>e.map((e=>(0,r.jsx)(o,{guide:e,guidedQuery:i(e),isSlot0Style:t},e.display)));return t?(0,r.jsx)(a.xu,{padding:2,children:(0,r.jsx)(a.kC,{width:"100%",gap:{row:0,column:1},direction:"column",alignItems:"start",children:d()})}):(0,r.jsx)(a.xu,{overflow:"hidden",width:"calc(100vw - 16px)",children:(0,r.jsx)(a.xu,{display:"flex",marginBottom:-2,marginStart:-4,overflow:"auto",paddingX:7,paddingY:2,position:"relative",width:"100vw",children:d()})})}},620862:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(898781),a=n(883119),r=n(785893);function o({buttonText:e,handleDrawerClose:t,isDrawerOpen:n,onClick:o,largeSize:l=!1,reversed:s=!1,invertWhenDrawerIsOpen:d=!1,hasProductFiltersApplied:c=!1}){const u=(0,i.ZP)(),p=d&&n,m=(0,r.jsx)(a.JO,{accessibilityLabel:"",icon:"filter",color:p?"light":"dark"},"filterIcon"),h=e&&(0,r.jsx)(a.xv,{align:"center",color:p?"inverse":"default",weight:"bold",children:e},e),g=s?[h,m]:[m,h];return(0,r.jsx)(a.iP,{onTap:()=>{n?t():o()},rounding:"pill",accessibilityLabel:u._('Filter', 'productsFilterButton', 'Button to filter products results'),children:(0,r.jsxs)(a.xu,{position:"relative",children:[(0,r.jsx)(a.xu,{display:"flex",justifyContent:"center",alignContent:"center",color:p?"dark":"secondary",rounding:"pill",minHeight:40,paddingX:4,dangerouslySetInlineStyle:l?{__style:{padding:"18px"}}:void 0,children:(0,r.jsx)(a.kC,{gap:{row:2,column:0},alignItems:"center",children:g})}),c&&(0,r.jsx)(a.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{border:"2px solid white"}},display:"flex",height:14,justifyContent:"center",minWidth:14,position:"absolute",rounding:"pill",top:!0,right:!0})]})})}},905732:(e,t,n)=>{n.d(t,{Z:()=>xe});var i=n(667294),a=n(79113),r=n(245376),o=n(116303),l=n(63552),s=n(898781),d=n(112690),c=n(883119),u=n(785893);function p({cropSource:e,domainFilters:t,handleDomain:n,pinId:a}){const p=(0,s.ZP)(),m=(0,d.Z)();(0,i.useEffect)((()=>{m({event_type:120,component:13469,view_parameter:3396,view_type:72,aux_data:{commerce_data:JSON.stringify({source:(0,r.Z)(e)})}})}),[]);return(0,u.jsxs)(c.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,u.jsx)(c.xu,{paddingY:4,children:(0,u.jsx)(c.xv,{children:p._('Merchants', 'FeedFiltering.DomainFilter.Merchants', 'Area that lists the Merchants filters')})}),t.map(((e,t)=>(0,u.jsx)(l.Z,{onTouch:()=>{var i,r;n(t),r=null!==(i=e.domain)&&void 0!==i?i:"",m({event_type:102,component:13469,view_parameter:3396,view_type:72,element:11376,aux_data:{pin_id:a,commerce_data:JSON.stringify({select:!0,domain:r})}})},pressState:"none",children:(0,u.jsxs)(c.xu,{alignItems:"center",display:"flex",marginBottom:3,children:[(0,u.jsx)(c.xu,{marginEnd:2,children:(0,u.jsx)(o.Z,{name:e.label||"",size:"sm",src:e.image_url})}),(0,u.jsx)(c.xu,{flex:"grow",children:(0,u.jsx)(c.xv,{children:e.label})}),e.selected?(0,u.jsx)(c.xu,{children:(0,u.jsx)(c.JO,{accessibilityLabel:p._('checked merchant filter', 'FeedFiltering.DomainFilters.MerchantsCheckmark', 'checkmark when merchant is selected'),color:"default",icon:"check"})}):null]},e.domain)},e.domain)))]})}var m=n(892819),h=n(643010),g=n(780280),_=n(542473),v=n.n(_),y=Math.sqrt(50),f=Math.sqrt(10),x=Math.sqrt(2);function b(e,t,n){var i,a,r,o,l=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((i=t<e)&&(a=e,e=t,t=a),0===(o=function(e,t,n){var i=(t-e)/Math.max(0,n),a=Math.floor(Math.log(i)/Math.LN10),r=i/Math.pow(10,a);return a>=0?(r>=y?10:r>=f?5:r>=x?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(r>=y?10:r>=f?5:r>=x?2:1)}(e,t,n))||!isFinite(o))return[];if(o>0){let n=Math.round(e/o),i=Math.round(t/o);for(n*o<e&&++n,i*o>t&&--i,r=new Array(a=i-n+1);++l<a;)r[l]=(n+l)*o}else{o=-o;let n=Math.round(e*o),i=Math.round(t*o);for(n/o<e&&++n,i/o>t&&--i,r=new Array(a=i-n+1);++l<a;)r[l]=(n+l)/o}return i&&r.reverse(),r}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function I(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=C(e);if(t){var a=C(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return D(this,n)}}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,a,r=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);o=!0);}catch(s){l=!0,a=s}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return r}(e,t)||z(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var O="react-compound-slider:";function Z(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){return t.val>n.val?e?-1:1:n.val>t.val?e?1:-1:0}}function N(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.findIndex((function(e){return e.key===t}));if(-1!==a){var r=e[a],o=r.key,l=r.val;return l===n?e:[].concat(R(e.slice(0,a)),[{key:o,val:n}],R(e.slice(a+1))).sort(Z(i))}return e}function U(e,t){if(!e)return[0,0];var n=e.getBoundingClientRect();return[t?n.top:n.left,t?n.bottom:n.right]}function B(e){var t=e.type,n=void 0===t?"":t,i=e.touches;return!i||i.length>1||"touchend"===n.toLowerCase()&&i.length>0}function K(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=0,r=e.map((function(e){var t=n.getValue(e);return e!==t&&(a+=1,v()(!i,"".concat(O," Invalid value encountered. Changing ").concat(e," to ").concat(t,"."))),t})).map((function(e,t){return{key:"$$-".concat(t),val:e}})).sort(Z(t));return{handles:r,changes:a}}function $(e,t){return t}function W(e,t){for(var n=0;n<e.length;n++){if(e[n].key!==t[n].key)return e;if(t[n+1]&&t[n].val===t[n+1].val)return e}return t}function G(e,t,n,i,a){for(var r=-1,o=!0,l=0;l<e.length;l++){var s=e[l],d=t[l];if(!d||d.key!==s.key)return e;d.val!==s.val&&(r=l,o=d.val-s.val>0)}if(-1===r)return e;for(var c=o?n:-n,u=0;u<t.length;u++){var p=t[u],m=t[u+1];if(m&&p.val===m.val){if(u===r){var h=m.val+c;if(a(h)===h){var g=G(t,N(t,m.key,m.val+c,i),n,i,a);return g===t?e:g}return e}var _=p.val+c;if(a(_)===_){var v=G(t,N(t,p.key,p.val+c,i),n,i,a);return v===t?e:v}return e}}return t}function V(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.forEach((function(t){return t&&t(e)}))}}var q=function(){return{value:0,percent:0}},Y=function(e){j(n,e);var t=F(n);function n(){var e;P(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).getRailProps=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.props,i=n.emitMouse,a=n.emitTouch;return S(S({},t),{},{onMouseDown:V(t&&t.onMouseDown,i),onTouchStart:V(t&&t.onTouchStart,a)})},e}return I(n,[{key:"render",value:function(){var e=this.getRailProps,t=this.props,n=t.getEventData,a=t.activeHandleID,r=void 0===a?"":a,o=(0,t.children)({getEventData:n||q,activeHandleID:r,getRailProps:e});return o&&i.Children.only(o)}}]),n}(i.Component),J=function(e){j(n,e);var t=F(n);function n(){var e;P(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).autofocus=function(e){e.target instanceof HTMLElement&&e.target.focus()},e.getHandleProps=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.props,a=i.emitKeyboard,r=i.emitMouse,o=i.emitTouch;return S(S({},n),{},{onKeyDown:V(n&&n.onKeyDown,(function(e){return a&&a(e,t)})),onMouseDown:V(n&&n.onMouseDown,e.autofocus,(function(e){return r&&r(e,t)})),onTouchStart:V(n&&n.onTouchStart,(function(e){return o&&o(e,t)}))})},e}return I(n,[{key:"render",value:function(){var e=this.getHandleProps,t=this.props,n=t.activeHandleID,a=void 0===n?"":n,r=t.children,o=t.handles,l=r({handles:void 0===o?[]:o,activeHandleID:a,getHandleProps:e});return l&&i.Children.only(l)}}]),n}(i.Component),X=function(){function e(){P(this,e),this.interpolator=void 0,this.domain=[0,1],this.range=[0,1],this.domain=[0,1],this.range=[0,1],this.interpolator=null}return I(e,[{key:"createInterpolator",value:function(e,t){var n=this,i=e[0],a=e[1],r=t[0],o=t[1];return a<i?function(e){return n.interpolateValue(o,r)(n.deinterpolateValue(a,i)(e))}:function(e){return n.interpolateValue(r,o)(n.deinterpolateValue(i,a)(e))}}},{key:"interpolateValue",value:function(e,t){return t-=e=+e,function(n){return e+t*n}}},{key:"deinterpolateValue",value:function(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(){return t}}},{key:"rescale",value:function(){return this.interpolator=null,this}},{key:"getValue",value:function(e){var t=this.domain,n=this.range;return(this.interpolator||(this.interpolator=this.createInterpolator(t,n)))(+e)}},{key:"setDomain",value:function(e){return this.domain=[e[0],e[1]],this.rescale(),this}},{key:"getDomain",value:function(){return this.domain}},{key:"setRange",value:function(e){return this.range=[e[0],e[1]],this}},{key:"getRange",value:function(){return this.range}},{key:"getTicks",value:function(e){var t=this.domain;return b(t[0],t[t.length-1],e||10)}}]),e}(),Q=function(){return{value:0,percent:0}},ee=function(e){j(n,e);var t=F(n);function n(){return P(this,n),t.apply(this,arguments)}return I(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.values,a=e.scale,r=void 0===a?new X:a,o=e.count,l=void 0===o?10:o,s=e.getEventData,d=void 0===s?Q:s,c=e.activeHandleID,u=t({getEventData:d,activeHandleID:void 0===c?"":c,ticks:(n||r.getTicks(l)).map((function(e){return{id:"$$-".concat(e),value:e,percent:r.getValue(e)}}))});return u&&i.Children.only(u)}}]),n}(i.Component),te=function(){return{value:0,percent:0}},ne=function(e){j(n,e);var t=F(n);function n(){var e;P(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).getTrackProps=function(t){var n=e.props,i=n.emitMouse,a=n.emitTouch;return S(S({},t||{}),{},{onMouseDown:V(t&&t.onMouseDown,i),onTouchStart:V(t&&t.onTouchStart,a)})},e}return I(n,[{key:"render",value:function(){for(var e=this.getTrackProps,t=this.props,n=t.children,a=t.left,r=void 0===a||a,o=t.right,l=void 0===o||o,s=t.scale,d=void 0===s?new X:s,c=t.handles,u=void 0===c?[]:c,p=t.getEventData,m=void 0===p?te:p,h=t.activeHandleID,g=void 0===h?"":h,_=d.getDomain(),v=[],y=0;y<u.length+1;y++){var f=u[y-1],x=u[y];0===y&&!0===r?f={id:"$",value:_[0],percent:0}:y===u.length&&!0===l&&(x={id:"$",value:_[1],percent:100}),f&&x&&v.push({id:"".concat(f.id,"-").concat(x.id),source:f,target:x})}var b=n({getEventData:m,activeHandleID:g,tracks:v,getTrackProps:e});return b&&i.Children.only(b)}}]),n}(i.Component);function ie(e,t,n){return Math.min(Math.max(e,t),n)}var ae=I((function e(){var t=this;P(this,e),this.step=1,this.domain=[0,1],this.range=[0,1],this.setDomain=function(e){return t.domain=[e[0],e[1]],t},this.setRange=function(e){return t.range=[e[0],e[1]],t},this.setStep=function(e){return t.step=e,t},this.getValue=function(e){var n=L(t.domain,2),i=n[0],a=n[1],r=L(t.range,2),o=r[0],l=r[1],s=t.step,d=(ie(e,i,a)-i)/(a-i);return ie(s*Math.round(d*(l-o)/s)+o,o<l?o:l,l>o?l:o)}})),re="undefined"!=typeof window&&"undefined"!=typeof document,oe=function(){},le=function(e,t,n,i){var a=i?e-t:e+t;return i?Math.max(n[0],a):Math.min(n[1],a)},se=function(e,t,n,i){var a=i?e+t:e-t;return i?Math.min(n[1],a):Math.max(n[0],a)},de=[0,100],ce=function(e){j(n,e);var t=F(n);function n(){var e;P(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={step:.1,values:[],domain:de,handles:[],reversed:!1,activeHandleID:"",valueToPerc:null,valueToStep:null,pixelToStep:null},e.slider=i.createRef(),e.onKeyDown=function(t,n){var i=["ArrowRight","ArrowUp"],a=["ArrowDown","ArrowLeft"],r=E(e),o=r.state.handles,l=r.props,s=l.step,d=void 0===s?.1:s,c=l.reversed,u=void 0!==c&&c,p=l.vertical,m=void 0!==p&&p,h=l.domain,g=void 0===h?[0,100]:h,_=t.key||"".concat(t.keyCode);if(i.concat(a).includes(_)){if(m){var v=[a,i];i=v[0],a=v[1]}t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault();var y=o.find((function(e){return e.key===n}));if(y){var f=y.val,x=f;i.includes(_)?x=le(f,d,g,u):a.includes(_)&&(x=se(f,d,g,u));var b=o.map((function(e){return e.key===n?{key:e.key,val:x}:e}));e.submitUpdate(b,!0)}}},e.onMouseDown=function(t,n){e.onStart(t,n,!1)},e.onTouchStart=function(t,n){B(t)||e.onStart(t,n,!0)},e.getEventData=function(t,n){var i,a=E(e),r=a.state,o=r.pixelToStep,l=r.valueToPerc,s=a.props.vertical;return o.setDomain(U(e.slider.current,s)),n&&t instanceof TouchEvent?i=o.getValue(K(s,t)):t instanceof MouseEvent&&(i=o.getValue(s?t.clientY:t.pageX)),{value:i,percent:l.getValue(i)}},e.onMouseMove=function(t){var n=E(e),i=n.state,a=i.handles,r=i.pixelToStep,o=i.activeHandleID,l=void 0===o?"":o,s=n.props,d=s.vertical,c=s.reversed,u=void 0!==c&&c;r.setDomain(U(e.slider.current,d));var p=N(a,l,r.getValue(d?t.clientY:t.pageX),u);e.submitUpdate(p)},e.onTouchMove=function(t){var n=E(e),i=n.state,a=i.handles,r=i.pixelToStep,o=i.activeHandleID,l=n.props,s=l.vertical,d=l.reversed;if(null!==r&&!B(t)){r.setDomain(U(e.slider.current,s));var c=N(a,o,r.getValue(K(s,t)),d);e.submitUpdate(c)}},e.onMouseUp=function(){var t=E(e),n=t.state,i=n.handles,a=void 0===i?[]:i,r=n.activeHandleID,o=t.props,l=o.onChange,s=void 0===l?oe:l,d=o.onSlideEnd,c=void 0===d?oe:d;s(a.map((function(e){return e.val}))),c(a.map((function(e){return e.val})),{activeHandleID:r}),e.setState({activeHandleID:""}),re&&(document.removeEventListener("mousemove",e.onMouseMove),document.removeEventListener("mouseup",e.onMouseUp))},e.onTouchEnd=function(){var t=E(e),n=t.state,i=n.handles,a=n.activeHandleID,r=t.props,o=r.onChange,l=void 0===o?oe:o,s=r.onSlideEnd,d=void 0===s?oe:s;l(i.map((function(e){return e.val}))),d(i.map((function(e){return e.val})),{activeHandleID:a}),e.setState({activeHandleID:""}),re&&(document.removeEventListener("touchmove",e.onTouchMove),document.removeEventListener("touchend",e.onTouchEnd))},e}return I(n,[{key:"componentDidMount",value:function(){var e=this.state.pixelToStep,t=this.props.vertical;e.setDomain(U(this.slider.current,t))}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"removeListeners",value:function(){re&&(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"onStart",value:function(e,t,n){var i=this.state.handles,a=this.props.onSlideStart,r=void 0===a?oe:a;n||e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),i.find((function(e){return e.key===t}))?(this.setState({activeHandleID:t}),r(i.map((function(e){return e.val})),{activeHandleID:t}),n?this.addTouchEvents():this.addMouseEvents()):(this.setState({activeHandleID:""}),this.handleRailAndTrackClicks(e,n))}},{key:"handleRailAndTrackClicks",value:function(e,t){var n,i=this,a=this.state,r=a.handles,o=a.pixelToStep,l=this.props,s=l.vertical,d=l.reversed,c=void 0!==d&&d,u=this.slider;o.setDomain(U(u.current,s)),n=t?o.getValue(K(s,e)):o.getValue(s?e.clientY:e.pageX);for(var p="",m=1/0,h=0;h<r.length;h++){var g=r[h],_=g.key,v=g.val,y=Math.abs(v-n);y<m&&(p=_,m=y)}var f=N(r,p,n,c);this.setState({activeHandleID:p},(function(){i.submitUpdate(f,!0),t?i.addTouchEvents():i.addMouseEvents()}))}},{key:"addMouseEvents",value:function(){re&&(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp))}},{key:"addTouchEvents",value:function(){re&&(document.addEventListener("touchmove",this.onTouchMove),document.addEventListener("touchend",this.onTouchEnd))}},{key:"submitUpdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props,i=n.mode,a=void 0===i?1:i,r=n.step,o=void 0===r?.1:r,l=n.onUpdate,s=void 0===l?oe:l,d=n.onChange,c=void 0===d?oe:d,u=n.reversed,p=void 0!==u&&u,m=this.state.valueToStep.getValue;this.setState((function(n){var i=n.handles,r=[];if("function"==typeof a)r=a(i,e,o,p,m),v()(Array.isArray(r),"Custom mode function did not return an array.");else switch(a){case 1:r=$(0,e);break;case 2:r=W(i,e);break;case 3:r=G(i,e,o,p,m);break;default:r=e,v()(!1,"".concat(O," Invalid mode value."))}return s(r.map((function(e){return e.val}))),t&&c(r.map((function(e){return e.val}))),{handles:r}}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.handles,a=t.valueToPerc,r=t.activeHandleID,o=this.props,l=o.className,s=o.rootStyle,d=void 0===s?{}:s,c=o.rootProps,u=void 0===c?{}:c,p=o.component,m=void 0===p?"div":p,h=o.disabled,g=void 0!==h&&h,_=o.flatten,v=void 0!==_&&_,y=n.map((function(e){var t=e.key,n=e.val;return{id:t,value:n,percent:a.getValue(n)}})),f=i.Children.map(this.props.children,(function(t){return!0===function(e){if(!(0,i.isValidElement)(e))return!1;var t=e.type,n=t?t.name:"";return n===J.name||n===Y.name||n===ee.name||n===ne.name}(t)?i.cloneElement(t,{scale:a,handles:y,activeHandleID:r,getEventData:e.getEventData,emitKeyboard:g?oe:e.onKeyDown,emitMouse:g?oe:e.onMouseDown,emitTouch:g?oe:e.onTouchStart}):t}));return v?i.createElement(i.Fragment,null,i.createElement(m,S(S({},u),{},{style:d,className:l,ref:this.slider})),f):i.createElement(i.Fragment,null,i.createElement(m,S(S({},u),{},{style:d,className:l,ref:this.slider}),f))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,i,a=e.step,r=void 0===a?.1:a,o=e.values,l=e.domain,s=void 0===l?de:l,d=e.reversed,c=void 0!==d&&d,u=e.onUpdate,p=void 0===u?oe:u,m=e.onChange,h=void 0===m?oe:m,g=e.warnOnChanges,_=void 0!==g&&g,y=t.valueToPerc,f=t.valueToStep,x=t.pixelToStep,b={};if(y&&f&&x||(y=new X,f=new ae,x=new ae,b.valueToPerc=y,b.valueToStep=f,b.pixelToStep=x),t.domain===de||null===t.step||null===t.domain||null===t.reversed||r!==t.step||s[0]!==t.domain[0]||s[1]!==t.domain[1]||c!==t.reversed){var w=L(s,2),S=w[0],P=w[1];f.setStep(r).setRange([S,P]).setDomain([S,P]),!0===c?(y.setDomain([S,P]).setRange([100,0]),x.setStep(r).setRange([P,S])):(y.setDomain([S,P]).setRange([0,100]),x.setStep(r).setRange([S,P])),v()(P>S,"".concat(O," Max must be greater than min (even if reversed). Max is ").concat(P,". Min is ").concat(S,"."));var k=H(o||t.values,c,f,_),I=k.handles;(k.changes||void 0===o||o===t.values)&&(p(I.map((function(e){return e.val}))),h(I.map((function(e){return e.val})))),b.step=r,b.values=o,b.domain=s===de?R(s):s,b.handles=I,b.reversed=c}else if(n=o,i=t.values,!(n===i||n.length===i.length&&n.reduce(function(e){return function(t,n,i){return t&&e[i]===n}}(i),!0))){var T=H(o,c,f,_),j=T.handles;T.changes&&(p(j.map((function(e){return e.val}))),h(j.map((function(e){return e.val})))),b.values=o,b.handles=j}return Object.keys(b).length?b:null}}]),n}(i.PureComponent);const ue=({domain:[e,t],handle:{id:n,value:i,percent:a},getHandleProps:r,touched:o,activeHandleID:l})=>(0,u.jsx)("div",{"aria-valuemax":t,"aria-valuemin":e,"aria-valuenow":i,role:"slider",style:{left:`${a}%`,position:"absolute",marginLeft:"-11px",marginTop:"-5px",border:"1px solid white",zIndex:2,width:15,height:15,cursor:"pointer",borderRadius:"50%",boxShadow:"1px 1px 1px 1px rgba(0, 0, 0, 0.2)",backgroundColor:"black",transform:o&&l===n?"scale(2)":""},...r(n)}),pe=({source:e,target:t,getTrackProps:n,backgroundColor:i})=>(0,u.jsx)("div",{style:{position:"absolute",height:5,zIndex:1,backgroundColor:i||"black",borderRadius:7,cursor:"pointer",left:`${e.percent}%`,width:t.percent-e.percent+"%"},...n()});const me=function({cropSource:e,currencyType:t,minPrice:n,maxPrice:a,lowerBound:o,upperBound:l,handlePriceChange:p}){const _=(0,s.ZP)(),v=(0,m.Z)(),y=(0,d.Z)(),{locale:f}=(0,g.B)(),x={position:"absolute",width:"100%",height:5,borderRadius:7,cursor:"pointer",backgroundColor:(0,h.Yc)()?"#454545":"lightGrey"},b=[Math.ceil(o),Math.ceil(l)],w=[Math.ceil(n),Math.ceil(a)],[S,P]=(0,i.useState)([!1,!1]);(0,i.useEffect)((()=>{y({event_type:120,component:13468,view_parameter:3396,view_type:72,aux_data:{commerce_data:JSON.stringify({source:(0,r.Z)(e)})}})}),[]);const k={currency:t,style:"currency",minimum_fraction_digits:0,maximum_fraction_digits:2};return(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(c.xu,{paddingY:4,children:(0,u.jsx)(c.xv,{children:_._('Price range', 'FeedFiltering.PriceFilter.PriceRange', 'Area that lists the price slider')})}),(0,u.jsxs)(c.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:3,children:[(0,u.jsx)(c.xv,{weight:"bold",children:(0,u.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{transform:S[0]?"translateZ(0) translateY(0) scale(1.25)":""}},children:v(f,w[0],k)})}),(0,u.jsx)(c.xv,{weight:"bold",children:(0,u.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{transform:S[1]?"translateZ(0) translateY(0) scale(1.25)":"",textAlign:"right"}},children:v(f,w[1],{...k,uplimit:l})})})]},"priceSliderValues"),(0,u.jsxs)(ce,{domain:b,mode:2,onChange:()=>{P([!1,!1])},onUpdate:e=>{p(e);const[t,n]=w,[i,a]=e;t!==i?P([!0,!1]):n!==a&&P([!1,!0])},rootStyle:{margin:"5%",position:"relative",width:"90%"},step:1,values:w,children:[(0,u.jsx)(Y,{children:({getRailProps:e})=>(0,u.jsx)("div",{style:x,...e()})}),(0,u.jsx)(J,{children:({handles:e,getHandleProps:t,activeHandleID:n})=>(0,u.jsx)("div",{className:"slider-handles",children:e.map(((e,i)=>(0,u.jsx)(ue,{activeHandleID:n,domain:b,getHandleProps:t,handle:e,touched:S[i]},e.id)))})}),(0,u.jsx)(ne,{left:!1,right:!1,children:({tracks:e,getTrackProps:t})=>(0,u.jsx)("div",{className:"slider-tracks",children:e.map((({id:e,source:n,target:i})=>(0,u.jsx)(pe,{getTrackProps:t,source:n,target:i,backgroundColor:(0,h.Yc)()?"white":"black"},e)))})})]}),(0,u.jsx)(c.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginTop:12,children:(0,u.jsx)(c.xv,{children:_._('Drag to change price', 'FeedFiltering.PriceFilter.PriceDragText', 'Area that instructs how to use price slider')})})]})};function he({domains:e,prices:t}){return!(!e||""===e)||!!(t&&t.length>0)}function ge(e){return e?e.filter((e=>e.selected)).map((e=>e.domain)).join(","):null}function _e({minPrice:e,maxPrice:t,priceFilters:n}){const{min_value:i,suggested_max_value:a}=n||{};return e!==i||t!==a?[e,t]:[]}function ve({currentPrice:e,currencyType:t,lowerBound:n,upperBound:i,handlePriceChange:a,cropSource:r}){const o=e[0],l=e[1];return(0,u.jsx)(me,{cropSource:r,currencyType:t,handlePriceChange:a,lowerBound:n,maxPrice:l,minPrice:o,upperBound:i})}const ye=function({cropSource:e,initialProductFilters:t,pinId:n,productFilters:a,submitFilters:r,updateShowIndicator:o}){const l=(0,s.ZP)(),m=(0,d.Z)(),h=a.domainFilters,g=a.priceFilters,{min_value:_,suggested_max_value:v,currency_type:y}=g||{},f=null==t?void 0:t.domains;let x=[];f&&(x=f.split(",")),h&&h.forEach((e=>{e.selected=x.includes(e.domain)}));const[b,w]=(null==t?void 0:t.prices)||[],S=b||_,P=w||v,[k,I]=(0,i.useState)(h),[T,j]=(0,i.useState)([S,P]);return(0,i.useEffect)((()=>{I(h),j([S,P]);const e={domains:ge(h)||"",prices:_e({minPrice:S,maxPrice:P,priceFilters:g})};o(he(e))}),[h,S,P]),(0,u.jsxs)(i.Fragment,{children:[(0,u.jsxs)(c.xu,{children:[g&&Object.values(g).length>0&&(0,u.jsx)(ve,{cropSource:e,currencyType:y,currentPrice:T,handlePriceChange:e=>{j(e)},lowerBound:_,upperBound:v}),k&&(0,u.jsx)(p,{cropSource:e,domainFilters:k,handleDomain:e=>{if(!k)return;const t=!k[e].selected,n=[...k.slice(0,e),{...k[e],selected:t},...k.slice(e+1)];I(n)},pinId:n})]}),(0,u.jsx)(c.kC,{alignItems:"center",justifyContent:"center",children:(0,u.jsx)(c.zx,{color:"red",onClick:()=>{m({event_type:102,view_parameter:3396,view_type:72,element:11546});const e=ge(k)||"",[t,n]=T,i={domains:e,prices:_e({minPrice:t,maxPrice:n,priceFilters:g})};r(i),o(he(i))},size:"lg",text:l._('Confirm', 'FeedFilterContainer.FeedFiltering.ConfirmButton', 'Confirms filter selection'),type:"submit"})})]})},fe=({heading:e,onDismiss:t,onReset:n})=>{const i=(0,s.ZP)();return(0,u.jsx)(c.xu,{children:(0,u.jsxs)(c.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,u.jsx)(c.kC,{alignItems:"center",justifyContent:"start",children:(0,u.jsx)(c.hU,{accessibilityLabel:i._('Close', 'SlidingModal.FeedFilterContainer.IconButton', 'Close filters menu'),icon:"cancel",onClick:t,padding:5,size:"lg",iconColor:"gray"})}),(0,u.jsx)(c.kC,{alignItems:"center",flex:"grow",justifyContent:"center",children:(0,u.jsx)(c.xv,{align:"center",weight:"bold",children:e})}),(0,u.jsx)(c.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginRight:15}},display:"flex",children:(0,u.jsx)(c.zx,{fullWidth:!0,onClick:n,text:i._('Reset', 'SlidingModal.FeedFilterContainer.ResetButton', 'Reset filters')})})]})})};const xe=function({closeFiltersModal:e,cropSource:t,initialProductFilters:n,isOpen:o,pinId:l,productFilters:p,submitFilters:m,updateShowIndicator:h}){const g=(0,s.ZP)(),_=(0,d.Z)();return(0,i.useEffect)((()=>{_({event_type:13,view_parameter:3396,view_type:72,aux_data:{commerce_data:JSON.stringify({source:(0,r.Z)(t)})}})}),[]),(0,u.jsx)(c.xu,{marginEnd:2,children:(0,u.jsxs)(a.Z,{allowClickAndDrag:!0,isOpen:o,accessibilityModalLabel:g._('Filters', 'flashlightPage.slidingModal.accessibilityModalLabel', 'Modal label for product filters'),children:[(0,u.jsx)(fe,{heading:g._('Filters', 'flashlightPage.slidingModal.heading', 'heading for this mobile modal'),onDismiss:e,onReset:()=>{m({domains:"",prices:[]}),h(!1),e(),_({event_type:102,view_parameter:3396,view_type:72,element:11545})}}),(0,u.jsx)(c.xu,{paddingX:5,paddingY:5,children:(0,u.jsx)(ye,{cropSource:t,initialProductFilters:n,productFilters:p,pinId:l,submitFilters:({domains:t,prices:n})=>{m({domains:t,prices:n}),e()},updateShowIndicator:h})})]})})}},163321:(e,t,n)=>{n.d(t,{Z:()=>g,e:()=>p});var i=n(702664),a=n(240684),r=n(46584),o=n(131108),l=n(599997),s=n(883119),d=n(332611),c=n(785893);const u=(0,a.ZP)({resolved:{},chunkName:()=>"storyPins-duplo-HlsVideoContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(19596).then(n.bind(n,881999)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 881999}}),p=Object.freeze({white:"inverse",black:"default"}),m={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"}};function h({titleText:e,videoPin:t,videoPlaceholderImage:n}){return(0,c.jsx)(u,{fallback:(0,c.jsx)(s.Ee,{alt:e||"",color:"rgb(111, 91, 77)",fit:"cover",naturalHeight:3,naturalWidth:2,src:n||t.metadata.thumbnail}),aspectRatio:l.q4,controls:!1,poster:n||t.metadata.thumbnail,src:t.url})}function g({buttonAction:e,buttonCustomization:t,buttonText:n,experience:a,hideCompleteButton:u,imageAlt:p,imageUrl:g,openNewTab:_,storyType:v,titleText:y,titleTextColor:f,titleTextCustomization:x,videoPin:b,videoPlaceholderImage:w}){var S;const P=(0,i.useDispatch)(),{experience_id:k,placement_id:I}=a||{},T=(0,r.Z)({onVisibilityChanged:e=>{e&&a&&"viewed"!==a.status&&(a.status="viewed",P((0,d.UT)(I,k,!1,!0)))}}),j=(0,l.zn)(v),C=j?o.f8:o.hm,A=j?o.sH:o.HI,E=!j,{color:D,fontStyle:F,fontWeight:L,horizontalAlignment:R,fontSize:z}=(0,l.Mf)(x||{},"mweb"),{button_background_color:M,button_text_color:O}=t||{};return(0,c.jsx)(s.xu,{position:"relative",padding:1,marginBottom:2,ref:T,children:(0,c.jsxs)(s.rU,{accessibilityLabel:y,href:e,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),a&&P((0,d.CK)(I,k,!1,!0))},target:_?"blank":null,children:[(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(150%)"}},position:"relative",children:(0,c.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},top:!0,right:!0,bottom:!0,left:!0,overflow:"hidden",position:"absolute",rounding:4,children:[(0,c.jsx)(s.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:"feed_card_video"===v&&b?(0,c.jsx)(h,{titleText:y,videoPin:b,videoPlaceholderImage:w}):g&&(0,c.jsx)(s.Ee,{alt:p||y||"",color:"rgb(111, 91, 77)",naturalHeight:4,naturalWidth:3,src:g,fit:"cover"})}),E&&(0,c.jsx)(s.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:m.defaultOverlay},position:"absolute",top:!0,left:!0}),(0,c.jsx)(C,{children:(0,c.jsx)(s.xv,{align:R,color:f,italic:"italics"===F,weight:L,children:(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(S=D||f)&&void 0!==S?S:void 0,fontSize:z}},children:y})})})]})}),!u&&(0,c.jsx)(A,{children:(0,c.jsx)(s.xu,{display:"flex",rounding:"pill",color:j?"default":"secondary",dangerouslySetInlineStyle:{__style:{backgroundColor:M}},justifyContent:"center",alignItems:"center",paddingX:2,height:48,children:(0,c.jsx)(s.xv,{weight:"bold",size:"200",lineClamp:1,children:(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{color:O}},children:n})})})})]})})}},706794:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),a=n(702664),r=n(491563),o=n(19121),l=n(773285),s=n(350118),d=n(861411),c=n(883119),u=n(785893);function p({slotIndex:e,storyId:t,exactMatch:n=!1}){const{isAuth:p}=(0,o.Z)(),{checkExperiment:m}=(0,l.F)(),h=(0,s.S6)(),{action:g,aux_fields:_,objects:v,story_type:y,title:f}=(0,a.useSelector)((({stories:e})=>e[t])),x=v[0].id,b=v.slice(1,3).map((({id:e})=>h(e)));return!n&&b.length<2?null:m(p?"mweb_deprecated_impression_tracker_story_impression_auth":"mweb_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,u.jsx)(d.qS,{auxData:{content_ids:b.map((e=>null==e?void 0:e.id)),story_id:t,story_type:y,..._},component:200,loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:43,viewType:2,children:({impressionTrackerRef:e})=>(0,u.jsxs)(c.xu,{ref:e,children:[f&&(0,u.jsx)(c.xu,{paddingY:1,marginTop:2,children:(0,u.jsx)(c.xv,{align:"center",children:f.format})}),(0,u.jsx)(r.Z,{action:g,auxData:_,isPinnerAuthorityHero:n,userId:x,userPins:n?void 0:b,userSearchRepStyle:n,viewParameter:43,viewType:2})]})}):(0,u.jsx)(d.Hs,{auxData:{content_ids:b.map((e=>null==e?void 0:e.id)),story_id:t,story_type:y,..._},component:200,loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:43,viewType:2,children:(0,u.jsxs)(i.Fragment,{children:[f&&(0,u.jsx)(c.xu,{paddingY:1,marginTop:2,children:(0,u.jsx)(c.xv,{align:"center",children:f.format})}),(0,u.jsx)(r.Z,{action:g,auxData:_,isPinnerAuthorityHero:n,userId:x,userPins:n?void 0:b,userSearchRepStyle:n,viewParameter:43,viewType:2})]})})}},687866:(e,t,n)=>{n.d(t,{UG:()=>u,ZP:()=>m,aG:()=>p});var i=n(667294),a=n(116303),r=n(898781),o=n(52022),l=n(57791),s=n(940882),d=n(883119),c=n(785893);const u={large:"large",medium:"medium",small:"small",extra_small:"extra_small",article:"article",interest:"interest"},p={bubbleOverlay:{__style:{backgroundColor:"rgba(0, 0, 0, 0.3)"}}};function m({backgroundColor:e,bubbleId:t,bubbleUrl:n,coverImageUrl:m,curator:h,font:g,format:_,height:v,identifierIconType:y,onTap:f,pwtSurfaceContext:x,referringSource:b,subtitle:w,title:S,buttonFormat:P,contentAlign:k="center",textAlign:I="center",width:T="100%"}){const j=(0,r.ZP)(),C=(0,o.Z)(),[A,E]=(0,i.useState)("string"==typeof v?void 0:v),D=e=>{if(e){const t=e.offsetWidth,n="string"==typeof v?Number.parseFloat(v):100;E(t*n/100)}};if(!A)return(0,c.jsx)(d.xu,{ref:D,dangerouslySetInlineStyle:{__style:{paddingBottom:"string"==typeof v?Number.parseFloat(v)+"%":"100%",width:T}}});const F=_===u.article,L=_===u.interest,R=g||A>250&&"lg"||A>140&&_&&[u.medium,u.small,u.article].includes(_)&&"md"||A<120&&_&&_===u.small&&"xs"||"sm";return(0,c.jsx)(d.xu,{position:"relative","data-test-id":"search-suggestion","data-test-type":b,children:(0,c.jsx)(l.MZ,{to:n,isAppUpsellDisabled:!0,onTouch:()=>{f&&(C({action:"click",item:"search-suggestion"}),f(t))},rounding:4,children:(0,c.jsxs)(d.zd,{rounding:4,children:[(0,c.jsx)(d.xu,{width:T,height:A,children:m&&(0,c.jsx)(d.Ee,{alt:"",color:e,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:()=>{x&&x.markConstraintComplete("RenderSearchLandingPageBubbles")},role:"presentation",src:m})}),(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:p.bubbleOverlay,height:A,width:T,position:"absolute",top:!0,left:!0}),h&&!F&&(0,c.jsx)(d.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,c.jsx)(a.Z,{outline:!0,size:"xs",src:h.image_small_url,name:h.full_name})}),!!y&&y!==s.J&&(0,c.jsx)(d.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,c.jsx)(d.JO,{icon:(0,s.Z)(y),accessibilityLabel:j._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",size:12})}),(0,c.jsx)(d.xu,{display:"flex",position:"absolute",top:!0,width:T,height:A,padding:F||L?6:A>100?3:1,alignItems:F||L?"end":"center",justifyContent:k,children:(0,c.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[w&&(0,c.jsx)(d.xv,{align:I,color:"light",size:"lg"===R?"300":"100",overflow:"normal",children:w}),["lg","md"].includes(R)?(0,c.jsx)(d.X6,{align:I,size:"md"===R&&L?"500":"lg"===R?"600":"400",color:"light",overflow:"normal",children:S}):(0,c.jsx)(d.xv,{align:I,color:"light",size:"sm"===R?"300":"100",overflow:"normal",weight:"bold",children:S}),h&&F&&(0,c.jsxs)(d.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,c.jsx)(d.xu,{marginEnd:2,children:(0,c.jsx)(a.Z,{outline:!0,size:"xs",src:h.image_small_url,name:h.full_name})}),(0,c.jsx)(d.xv,{size:"100",color:"light",weight:"bold",children:h.full_name})]}),P&&(0,c.jsx)(d.xu,{marginTop:4,children:(0,c.jsx)(d.zx,{role:"link",text:P.text,href:P.href,size:P.size,accessibilityLabel:P.accessibilityLabel})})]})})]})})})}},368156:(e,t,n)=>{n.d(t,{Z:()=>y});var i,a=n(667294),r=n(702664),o=n(30439),l=n(934494),s=n(149230),d=n(112690),c=n(861411),u=n(940882),p=n(883119),m=n(167912),h=n(785893);const g=void 0!==i?i:i=n(16143);function _({auxData:e,pattern:t,slotIndex:n,storyId:i,viewType:r,viewParameter:l,storyData:{storyType:m,referringSource:g,hasTitle:_,titleFormat:v,identifierIconName:y,actionUrl:f,actionText:x,bubblesData:b,storyGraphqlRef:w}}){const S=(0,d.Z)(),P={story_type:m,story_id:i,content_ids:b.map((({type:e,id:t})=>e+":"+t)).join("|"),...e};return(0,h.jsx)(c.Hs,{loggingId:i,objectIdStr:i,viewParameter:l,viewType:r,slotIndex:n,component:200,auxData:P,children:(0,h.jsxs)(a.Fragment,{children:[_&&(0,h.jsxs)(p.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:["number"==typeof y&&y!==u.J&&(0,h.jsx)(p.xu,{marginEnd:2,dangerouslySetInlineStyle:{__style:{paddingTop:1}},children:(0,h.jsx)(p.JO,{accessibilityLabel:"",color:"default",icon:(0,u.Z)(y),size:14})}),(0,h.jsx)(p.xv,{weight:"bold",children:v})]}),(0,h.jsx)(o.Z,{pattern:t,referringSource:g,storyId:i,viewParameter:l,viewType:r,storyGraphqlRef:w}),f&&x&&(0,h.jsx)(p.xu,{display:"flex",width:"100%",justifyContent:"center",marginTop:1,children:(0,h.jsx)(p.zx,{role:"link",accessibilityLabel:x,color:"gray",onClick:()=>{S({view_type:r,view_parameter:l,aux_data:P,event_type:102})},text:x,href:f,rel:(0,s.Z)(f)?"nofollow":void 0,target:(0,s.Z)(f)?"blank":void 0,size:"md"})})]})})}const v=(0,l.Z)({useGraphQLAdapter:({storyGraphqlRef:e})=>{const t=(0,m.useFragment)(g,e),{storyType:n,storyTitle:i,referringSource:a,displayOptions:r,action:o,objects:l}=t,s=null==r?void 0:r.identifierIconName;return{storyType:n,referringSource:a,hasTitle:!!i,titleFormat:null==i?void 0:i.format,identifierIconName:s,actionUrl:null==o?void 0:o.url,actionText:(null==o?void 0:o.text)||void 0,bubblesData:(null==l?void 0:l.filter((e=>"ExploreArticle"===e.__typename)).map((e=>({id:e.entityId||"",type:e.type||""}))).filter(Boolean))||[],storyGraphqlRef:t}},useLegacyAdapter:({storyId:e})=>{const t=(0,r.useSelector)((({stories:t})=>t[e])),{story_type:n,referring_source:i,title:a,display_options:o,action:l,objects:s}=t,d=s.map((e=>e.id))||[],c=(0,r.useSelector)((({articles:e})=>d.map((t=>{const n=e[t];return{type:n.type,id:n.id}}))));return{storyType:n,referringSource:i,hasTitle:!!a,titleFormat:null==a?void 0:a.format,identifierIconName:null==o?void 0:o.identifier_icon_name,actionUrl:null==l?void 0:l.url,actionText:null==l?void 0:l.text,bubblesData:c}}});function y({storyGraphqlRef:e,storyId:t,...n}){return(0,h.jsx)(v,{input:e?{enabled:!0,data:{storyGraphqlRef:e}}:{enabled:!1,data:{storyId:t}},children:({data:e})=>(0,h.jsx)(_,{...n,storyId:t,storyData:e})})}},30439:(e,t,n)=>{n.d(t,{Z:()=>h});var i,a=n(702664),r=n(934494),o=n(936819),l=n(883119),s=n(687866),d=n(167912),c=n(785893);const u=void 0!==i?i:i=n(165103);function p({storyData:{storyType:e,bubblesData:t},onTouch:n,pattern:i=[s.UG.medium],pwtSurfaceContext:a,referringSource:r,storyId:d,viewParameter:u,viewType:p}){const m=t.map((({type:e,id:t})=>e+":"+t)).join("|");return(0,c.jsx)(l.kC,{alignItems:"stretch",justifyContent:"between",width:"100%",wrap:!0,children:t.map(((t,h)=>{var g;const _=i[h%i.length];return(0,c.jsx)(l.xu,{paddingY:1,width:[s.UG.small,s.UG.extra_small].includes(_)?"calc(50% - 4px)":"100%","data-test-id":`bubble-${h}`,children:(0,c.jsx)(o.ZP,{auxData:{content_ids:m,story_type:e,grid_index:h},bubbleId:t.id,format:_,height:([s.UG.medium,s.UG.extra_small].includes(_)?"50%":_===s.UG.article&&"73%")||"100%",onTouch:n,pwtSurfaceContext:a,referringSource:r,slotIndex:h,storyId:d,viewParameter:u,viewType:p,bubbleGraphqlRef:"ExploreArticle"===(null===(g=t.bubbleGraphqlRef)||void 0===g?void 0:g.__typename)?t.bubbleGraphqlRef:null})},`bubble-${h}`)}))})}const m=(0,r.Z)({useGraphQLAdapter:({storyGraphqlRef:e})=>{var t;const n=(0,d.useFragment)(u,e);return{storyType:n.storyType,bubblesData:(null===(t=n.objects)||void 0===t?void 0:t.filter((e=>"ExploreArticle"===e.__typename)).map((e=>({id:e.entityId||"",type:e.type||"",bubbleGraphqlRef:e}))).filter(Boolean))||[]}},useLegacyAdapter:({storyId:e})=>{const t=(0,a.useSelector)((({stories:t})=>t[e])),n=t.objects.map((e=>e.id))||[],i=(0,a.useSelector)((({articles:e})=>n.map((t=>{const n=e[t];return{id:n.id,type:n.type}}))));return{storyType:t.type,bubblesData:i}}});function h({storyGraphqlRef:e,storyId:t,...n}){return(0,c.jsx)(m,{input:e?{enabled:!0,data:{storyGraphqlRef:e}}:{enabled:!1,data:{storyId:t}},children:({data:e})=>(0,c.jsx)(p,{...n,storyId:t,storyData:e})})}},936819:(e,t,n)=>{n.d(t,{Bp:()=>v,VM:()=>_,ZP:()=>f});var i,a=n(702664),r=n(934494),o=n(112690),l=n(19121),s=n(861411),d=n(826067),c=n(773285),u=n(687866),p=n(613316),m=n(167912),h=n(785893);const g=void 0!==i?i:i=n(902856),_=e=>{var t,n,i,a,r,o,l,s,d;return{actionUrl:null===(t=e.action)||void 0===t?void 0:t.url,coverImage236xUrl:null===(n=e.cover_images[0]["236x"])||void 0===n?void 0:n.url,coverImage474xUrl:null===(i=e.cover_images[0]["474x"])||void 0===i?void 0:i.url,coverImage136x136Url:null===(a=e.cover_images[0]["136x136"])||void 0===a?void 0:a.url,coverImage170xUrl:null===(r=e.cover_images[0]["173x"])||void 0===r?void 0:r.url,coverImage222xUrl:null===(o=e.cover_images[0]["222x"])||void 0===o?void 0:o.url,coverImage90x90Url:null===(l=e.cover_images[0]["90x90"])||void 0===l?void 0:l.url,curatorFullName:null===(s=e.curator)||void 0===s?void 0:s.full_name,curatorImageSmallUrl:null===(d=e.curator)||void 0===d?void 0:d.image_small_url,dominantColors:e.dominant_colors,id:e.id,identifierIconType:e.identifier_icon_type,storyCategory:e.story_category,titleFormat:e.title.format}};function v({auxData:e,bubbleData:{actionUrl:t,coverImage236xUrl:n,coverImage474xUrl:i,coverImage136x136Url:a,coverImage170xUrl:r,coverImage222xUrl:m,coverImage90x90Url:g,curatorFullName:_,curatorImageSmallUrl:v,dominantColors:y,id:f,identifierIconType:x,storyCategory:b,titleFormat:w},font:S,format:P,height:k,onTouch:I,pwtSurfaceContext:T,referringSource:j,slotIndex:C,storyId:A,viewParameter:E,viewType:D,width:F="100%"}){const L=(0,o.Z)(),R=(0,l.Z)(),{checkExperiment:z}=(0,c.F)();if(!((n||i||a||r||m||g)&&w))return null;const M=_&&v?{full_name:_,image_small_url:v}:void 0,O={"236x":n,"474x":i,"136x136":a,"170x":r,"222x":m,"90x90":g};let Z="",N="";if(R.isAuth&&5===D){Z=z("blp_explore_bubble_image_size").group;const e=Z.split("_");e.length>1&&(N=e[1])}const U=Z.startsWith("enabled")&&N?O[N]:O["474x"]||O["236x"],B=t||(({storyCategory:e,query:t,referringSource:n,bubbleId:i,storyId:a,title:r})=>{const o=null!=e&&(0,p.y)(e),l=(0,d.XP)({q:t,rs:n||void 0,b_id:i,source_id:a}),s=o&&r?(0,p.x)({title:r,id:i,articleType:"discover"}):`/discover/article/${i}/`;return o?s:"/search/pins/"+(l?"?"+l:"")})({storyCategory:b,query:w,referringSource:j,bubbleId:f,storyId:A,title:w}),K=P===u.UG.article?13865:200,H=P===u.UG.article?102:6940,$=y&&y.length?y[0]:void 0;return(0,h.jsx)(s.fv,{auxData:{story_id:A,...e},impressionData:{storyCategory:b,storyIdStr:A},impressionType:"articleImpressions",loggingId:A,slotIndex:C,viewParameter:E,viewType:D,children:(0,h.jsx)(u.ZP,{backgroundColor:$,bubbleId:f,bubbleUrl:B,coverImageUrl:U,curator:M,font:S,format:P,height:k,identifierIconType:x,onTap:t=>{L({component:K,event_type:H,object_id_str:t,view_parameter:E,view_type:D,aux_data:{article_id:t,grid_index:C,...e}}),I&&I({query:w})},pwtSurfaceContext:T,referringSource:j,title:w,width:F})})}const y=(0,r.Z)({useGraphQLAdapter:({bubbleGraphqlRef:e})=>{var t,n,i,a,r,o,l,s,d,c;const u=(0,m.useFragment)(g,e);return{actionUrl:null===(t=u.action)||void 0===t?void 0:t.url,coverImage236xUrl:null===(n=u.coverImage236x)||void 0===n?void 0:n[0].url,coverImage474xUrl:null===(i=u.coverImage474x)||void 0===i?void 0:i[0].url,coverImage136x136Url:null===(a=u.coverImage136x136)||void 0===a?void 0:a[0].url,coverImage170xUrl:null===(r=u.coverImage170x)||void 0===r?void 0:r[0].url,coverImage222xUrl:null===(o=u.coverImage222x)||void 0===o?void 0:o[0].url,coverImage90x90Url:null===(l=u.coverImage90x90)||void 0===l?void 0:l[0].url,curatorFullName:null===(s=u.curator)||void 0===s?void 0:s.fullName,curatorImageSmallUrl:null===(d=u.curator)||void 0===d?void 0:d.imageSmallUrl,dominantColors:u.dominantColors,id:u.entityId||"",identifierIconType:u.identifierIconType,storyCategory:u.storyCategory,titleFormat:null===(c=u.title)||void 0===c?void 0:c.format}},useLegacyAdapter:({bubbleId:e})=>{const t=(0,a.useSelector)((({articles:t})=>t[e]));return _(t)}});function f({bubbleGraphqlRef:e,bubbleId:t,...n}){return(0,h.jsx)(y,{input:e?{enabled:!0,data:{bubbleGraphqlRef:e}}:{enabled:!1,data:{bubbleId:t}},children:({data:e})=>(0,h.jsx)(v,{...n,bubbleData:e})})}},946036:(e,t,n)=>{n.d(t,{q:()=>a,z:()=>i});const i=["shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2"],a="checklist_education_feed_card"},566102:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(730568);const a=({containerTypeIsItemGrid:e,storyType:t})=>"BUBBLE_ONE_COL"===t||e&&!(0,i.Z)({storyType:t})},730568:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(946036);const a=({storyType:e})=>i.z.includes(e)},248299:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(166300),a=n(898781),r=n(883119),o=n(785893);function l({isPinRep:e}){const t=(0,a.ZP)(),n=e?"default":"inverse",l=(0,o.jsx)(r.xu,{padding:e?1:0,"data-test-id":"unavailable-pin",children:(0,o.jsx)(r.xu,{color:e?"secondary":"dark",top:!0,height:e?314:"100vh",position:e?"static":"absolute",rounding:e?4:0,width:"100%",children:(0,o.jsxs)(r.kC,{height:"100%",direction:"column",justifyContent:"center",alignItems:"center",children:[(0,o.jsx)(r.xu,{paddingY:4,children:(0,o.jsx)(r.JO,{accessibilityLabel:t._('Pin not available', 'story-pin.Closeup.UnavailableStoryPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:n,icon:"alert",size:20})}),(0,o.jsx)(r.xv,{align:"center",color:n,weight:"bold",children:t._('Unavailable', 'story-pin.Closeup.UnavailableStoryPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),(0,o.jsx)(r.xu,{paddingY:1,children:(0,o.jsx)(r.xv,{align:"center",color:n,children:t._('Removed by the creator', 'story-pin.Closeup.UnavailableStoryPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})});return e?l:(0,o.jsx)(r.xu,{height:"100vh",children:(0,o.jsx)(i.Z,{children:l})})}},201155:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(883119),a=n(785893);function r({ideaPinImages:e}){const t={1:28,2:40,3:48},n=e.map(((e,t)=>{var n,r,o;return(0,a.jsx)(i.xu,{height:48,width:28,color:"default",borderStyle:"sm",overflow:"hidden",rounding:2,dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},children:(0,a.jsx)(i.Ee,{alt:"",src:null!==(n=null==e?void 0:e.url)&&void 0!==n?n:"",color:"#696969",fit:"cover",naturalHeight:null!==(r=null==e?void 0:e.height)&&void 0!==r?r:1,naturalWidth:null!==(o=null==e?void 0:e.width)&&void 0!==o?o:1})},t)}));return(0,a.jsx)(i.kC,{justifyContent:"center",children:(0,a.jsx)(i.kC,{justifyContent:"start",width:t[e.length],children:n})})}var o=n(499128),l=n(898781),s=n(784590),d=n(50286);function c({handleHide:e,text:t,userId:n,href:c,imageUrl:u}){const p=(0,l.ZP)(),m=(0,d.HG)(),h=(0,s.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:n}}),g=Array.isArray(t)?t.join(" "):t;if(0===(h.data||[]).length)return(0,a.jsx)(o.ZP,{duration:5e3,onHide:e,text:g,href:c,thumbnail:u?{image:(0,a.jsx)(i.Ee,{alt:p._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:u})}:void 0});const _=(h.data||[]).slice(0,3).map((e=>{var t;return null===(t=e.images)||void 0===t?void 0:t[m?"236x":"170x"]})),v=(0,a.jsx)(r,{ideaPinImages:_});return(0,a.jsx)(o.ZP,{href:c,duration:5e3,onHide:e,_dangerouslySetThumbnail:v,text:g})}},182476:(e,t,n)=>{n.d(t,{Z:()=>S});var i,a=n(702664),r=n(815613),o=n(780280),l=n(633083),s=n(898781),d=n(892819),c=n(883119),u=n(167912),p=n(785893);const m=({backgroundColor:e,decreaseNamePadding:t,isHomefeedTuner:n,isLego:i,isSelected:a,locale:r,nameTextSize:o,renderAsPill:u,showFollowerCount:m,topicName:h,followerCount:g,image:_})=>{var v;const y=(0,s.ZP)(),f=(0,d.Z)(),x=(0,p.jsx)(c.JO,{accessibilityLabel:y._('Selected', ' - ', ' -- '),color:"inverse",icon:i?"check":"check-circle",size:i?12:24});return u?(0,p.jsx)(l.Z,{color:e||"#767676",image:_,isSelected:null!=a&&a,title:h}):(0,p.jsxs)(c.xu,{position:"relative","aria-selected":a,children:[(0,p.jsx)(c.zd,{rounding:i||n?4:2,children:(0,p.jsxs)(c.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},children:[(0,p.jsx)(c.xu,{bottom:!0,left:!0,padding:i&&a?1:0,position:"absolute",right:!0,rounding:i&&a?4:0,top:!0,children:(0,p.jsx)(c.Ee,{alt:h,color:e||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(v=_.url)&&void 0!==v?v:""})}),(0,p.jsx)(c.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:a?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:i&&a?"4px solid #767676":"none"}},rounding:i?4:void 0,position:"absolute",left:!0,right:!0,top:!0}),i&&a&&(0,p.jsx)(c.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:4,top:!0})]})}),n?(0,p.jsx)(c.xu,{top:!0,bottom:!0,left:!0,right:!0,padding:2,position:"absolute",display:"flex",alignContent:"center",justifyContent:"center",alignItems:"center",children:(0,p.jsx)(c.xv,{align:"center",color:"light",size:o,weight:"bold",children:h})}):(0,p.jsxs)(c.xu,{bottom:!0,left:!0,padding:t?1:2,position:"absolute",right:!0,children:[(0,p.jsx)(c.xv,{color:"inverse",size:o,weight:"bold",children:h}),m&&g>=0&&(0,p.jsx)(c.xu,{paddingY:1,children:(0,p.jsxs)(c.xv,{color:"inverse",size:"100",children:[(0,p.jsx)(c.xv,{color:"inverse",inline:!0,size:"100",weight:"bold",children:f(r,g,{shortform:!0,shortform_maximum_fraction_digits:1})}),y._('followers', ' - ', ' -- ')]})})]}),a&&(0,p.jsx)(c.xu,{margin:2,position:"absolute",right:!0,top:!0,children:i?(0,p.jsx)(c.xu,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:2,width:24,children:x}):x})]})},h=void 0!==i?i:i=n(133132),g=({topicRef:e,...t})=>{var n,i,a,r,o,l;const s=(0,u.useFragment)(h,e),d=s.images?{url:null!==(n=s.images.url)&&void 0!==n?n:"",width:null!==(i=s.images.width)&&void 0!==i?i:0,height:null!==(a=s.images.height)&&void 0!==a?a:0,dominant_color:"",type:""}:{dominant_color:"",height:0,type:"",url:"",width:0};return(0,p.jsx)(m,{backgroundColor:null!==(r=s.background_color)&&void 0!==r?r:"",topicName:null!==(o=s.name)&&void 0!==o?o:"",followerCount:null!==(l=s.follower_count)&&void 0!==l?l:0,image:d,...t})},_=({topic:e,topicBlob:t,topicInfoForContextualExp:n,...i})=>{const a=n||e||t||{},r=a.images["236x"]||a.images["400x"]||a.images["474x"]||a.images.orig||{height:1,url:"",width:1},o=a.follower_count||-1;return(0,p.jsx)(m,{backgroundColor:a.background_color,topicName:a.name,followerCount:o,image:r,...i})};var v,y=n(70090);const f=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:n,isSelected:i=!1,nameTextSize:l="lg",onTouch:s,padding:d=2,renderAsPill:u,showFollowButton:m=!1,showFollowerCount:h=!1,shouldClickthrough:v=!1,topic:f,viewParameter:x,viewType:b})=>{const w=(0,a.useDispatch)(),{locale:S}=(0,o.B)(),P=(0,p.jsxs)(c.xu,{"data-test-id":"nux-picker-topic",children:["graphql"!==f.type?(0,p.jsx)(_,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,locale:S,nameTextSize:l,renderAsPill:u,showFollowerCount:h,topic:f.topic,topicBlob:f.topicBlob,topicInfoForContextualExp:f.topicInfoForContextualExp}):(0,p.jsx)(g,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,locale:S,nameTextSize:l,renderAsPill:u,showFollowerCount:h,topicRef:f.topicRef}),!!f&&m&&(0,p.jsx)(c.xu,{paddingY:2,children:(0,p.jsx)(r.Z,{textType:t?"AddRemove":"FollowFollowing",followEventType:601,id:f.id,invertColors:t,inline:t,isFollowed:f.is_followed,onFollow:e=>w((0,y.ZN)(e)),onUnfollow:e=>w((0,y.fv)(e)),size:"md",unfollowEventType:602,viewParameter:x||void 0,viewType:b||void 0})})]});let k="/";return f&&(k=`/topics/${f.id}`),v&&f.slug?(0,p.jsx)(c.iP,{role:"link",onTap:({event:e})=>{null==s||s(e)},tapStyle:"compress",rounding:2,href:k,children:(0,p.jsx)(c.xu,{padding:d,children:P})}):P},x=void 0!==v?v:v=n(964820),b=({topicRef:e,decreaseNamePadding:t=!1,isHomefeedTuner:n,isLego:i,isSelected:a=!1,nameTextSize:r="lg",onTouch:o,padding:l=2,renderAsPill:s,showFollowButton:d=!1,showFollowerCount:c=!1,shouldClickthrough:m=!1,viewParameter:h,viewType:g})=>{var _,v;const y=(0,u.useFragment)(x,e);return(0,p.jsx)(f,{decreaseNamePadding:t,isHomefeedTuner:n,isLego:i,isSelected:a,nameTextSize:r,onTouch:o,padding:l,renderAsPill:s,showFollowButton:d,showFollowerCount:c,shouldClickthrough:m,viewParameter:h,viewType:g,topic:{id:null!==(_=y.entityId)&&void 0!==_?_:"",type:"graphql",is_followed:null!==(v=y.is_followed)&&void 0!==v&&v,topicRef:y}})},w=({id:e,topic:t,topicBlob:n,topicInfoForContextualExp:i,decreaseNamePadding:r=!1,isHomefeedTuner:o,isLego:l,isSelected:s=!1,nameTextSize:d="lg",onTouch:c,padding:u=2,renderAsPill:m,showFollowButton:h=!1,showFollowerCount:g=!1,shouldClickthrough:_=!1,viewParameter:v,viewType:y})=>{const x=(0,a.useSelector)((({topics:t})=>t[e])),b=null!=t?t:x;return(0,p.jsx)(f,{decreaseNamePadding:r,isHomefeedTuner:o,isLego:l,isSelected:s,nameTextSize:d,onTouch:c,padding:u,renderAsPill:m,showFollowButton:h,showFollowerCount:g,shouldClickthrough:_,viewParameter:v,viewType:y,topic:{id:e,is_followed:!(null==b||!b.is_followed),topic:b,topicBlob:n,topicInfoForContextualExp:i,type:"resource"}})},S=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:n,isSelected:i=!1,nameTextSize:a="lg",onTouch:r,padding:o=2,renderAsPill:l,showFollowButton:s=!1,showFollowerCount:d=!1,shouldClickthrough:c=!1,viewParameter:u,viewType:m,...h})=>h.topicRef?(0,p.jsx)(b,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,nameTextSize:a,onTouch:r,padding:o,renderAsPill:l,showFollowButton:s,showFollowerCount:d,shouldClickthrough:c,viewParameter:u,viewType:m,topicRef:h.topicRef}):(0,p.jsx)(w,{id:h.id,decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,nameTextSize:a,onTouch:r,padding:o,renderAsPill:l,showFollowButton:s,showFollowerCount:d,shouldClickthrough:c,topic:h.topic,topicBlob:h.topicBlob,topicInfoForContextualExp:h.topicInfoForContextualExp,viewParameter:u,viewType:m})},430235:(e,t,n)=>{n.d(t,{Z:()=>A});var i,a=n(667294),r=n(920085),o=n(248975),l=n(958007),s=n(862628),d=n(862193),c=n(759177),u=n(992750),p=n(62409),m=n(349700),h=n(867820),g=n(407043),_=n(773285),v=n(350118),y=n(898781),f=n(667679),x=n(883119),b=n(623568),w=n(616550),S=n(167912),P=n(785893);const k=({children:e,onTap:t})=>{const[n,i]=(0,a.useState)(!1);return(0,P.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:n?"rgba(0, 0, 0, 0.06)":void 0}},rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,P.jsx)(x.iP,{onTap:t,onBlur:()=>i(!1),onFocus:()=>i(!0),onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:e})})},I=void 0!==i?i:i=n(12617);function T({desktopContextMenuState:e,isMainPinImage:t,source:n,images:i,embedSrc:l,embedType:d,sourceUserUsername:c,sourceUserFullname:u,pinJoinVisualAnnotation:p,pinJoinSeoBreadcrumbName:v,pinJoinSeoBreadcrumbUrl:b,pinId:S,pinLink:I,pinTitle:T,pinDescription:j,pinCategory:C,pinEligibleForDownload:A}){var E;const D=(0,y.ZP)(),F=(0,w.useHistory)(),{logContextEvent:L}=(0,g.v)(),R=(0,o.Z)({images:i,embedSrc:l,embedType:d}),z=v,M=b,O=null!==(E=null==p?void 0:p[0])&&void 0!==E?E:void 0,Z=(0,s.Z)(O),N=`/search/pins/?q=${encodeURIComponent(Z)}&rs=image_only_attribution`,U=(0,f.Z)(),B="dweb.plp.ellipsis.button"===n,{checkExperiment:K}=(0,_.F)();if(!R)return null;const H=(0,o.Z)({images:i,embedSrc:l,embedType:d});let $="related_pin_right_click";B?$="action_bar_ellipsis":t&&($="right_click");let W="dweb_download_in_context_menus";["action_bar_ellipsis","right_click"].includes($)&&(W="dweb_download_in_context_menus_closeup");const{group:G}=A?K(W):{group:""},V=G.split("_").pop(),q=V?parseInt(V,10)-1:NaN,Y=[{component:()=>(({i18n:e,pinId:t,showSignupModal:n,attributionLabelSource:i,downloadExpName:a,dwebDownloadInContextMenusGroup:r})=>(0,P.jsx)(k,{onTap:()=>{(0,h.My)("dweb.unauth.context_menu.save_image",{attributionLabelSource:i,downloadExpName:a,dwebDownloadInContextMenusGroup:r}),n({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${i}_save_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:t}}})},children:(0,P.jsx)(x.xv,{size:"200",weight:"bold",children:e._('Save image', 'dweb.unauth.context_menu.link.save_image', 'Link to save the image')})},"SaveMenuItem"))({i18n:D,pinId:S,showSignupModal:U,attributionLabelSource:$,downloadExpName:W,dwebDownloadInContextMenusGroup:G})},{component:()=>!(t||B&&!I)&&(({pinId:e,pinLink:t,fromEllipsisButton:n,attributionLabelSource:i,showSignupModal:a,i18n:r,downloadExpName:o,dwebDownloadInContextMenusGroup:l})=>(0,P.jsx)(k,{onTap:()=>{(0,h.My)("dweb.unauth.context_menu.open_plp_new_tab",{attributionLabelSource:i,downloadExpName:o,dwebDownloadInContextMenusGroup:l}),window.open(n?t:`/pin/${e}/`),n||a({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_context_menu_related_pin_right_click_open_link_button",desktopOptions:{modalType:"login"}})},children:(0,P.jsx)(x.xv,{size:"200",weight:"bold",children:r._('Open link in new tab', 'dweb.unauth.context_menu.link.plp_new_tab', 'Link to open the pin in a new tab')})},"NewTabMenuItem"))({i18n:D,pinId:S,pinLink:I,fromEllipsisButton:B,showSignupModal:U,attributionLabelSource:$,downloadExpName:W,dwebDownloadInContextMenusGroup:G})},{component:()=>!!(O||z&&M)&&(({history:e,levelOneInterestUrl:t,searchUrl:n,levelOneInterestName:i,i18n:a,interestTag:r,attributionLabelSource:o,downloadExpName:l,dwebDownloadInContextMenusGroup:s})=>(0,P.jsx)(k,{onTap:()=>{(0,h.My)("dweb.unauth.context_menu.see_more_pins",{attributionLabelSource:o,downloadExpName:l,dwebDownloadInContextMenusGroup:s}),t?e.push(`${t}`):e.push(n)},children:i?(0,P.jsx)(x.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,m.nk)(a._('See more ideas about {{levelOneInterestName}}', 'dweb.unauth.context_menu.link.see_more_ideas.l1', 'Link to see similar pins'),{levelOneInterestName:i})}):(0,P.jsx)(x.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,m.nk)(a._('See more ideas about {{interestTag}}', 'dweb.unauth.context_menu.link.see_more_ideas.interest_tag', 'Link to see similar pins'),{interestTag:r})})},"MoreInterestsMenuItem"))({history:F,levelOneInterestUrl:M,searchUrl:N,levelOneInterestName:z,i18n:D,interestTag:O,attributionLabelSource:$,downloadExpName:W,dwebDownloadInContextMenusGroup:G})},{component:()=>!(!u||!c)&&(({history:e,sourceUserUsername:t,sourceUserFullname:n,i18n:i,attributionLabelSource:a,downloadExpName:r,dwebDownloadInContextMenusGroup:o})=>(0,P.jsx)(k,{onTap:()=>{(0,h.My)("dweb.unauth.context_menu.more_from_creator",{attributionLabelSource:a,downloadExpName:r,dwebDownloadInContextMenusGroup:o}),e.push(`/${t}/`)},children:(0,P.jsx)(x.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,m.nk)(i._('See more from {{full_name}}', 'dweb.unauth.context_menu.link.more_from_creator', 'Link to see more ideas from this creator'),{full_name:n})})},"MoreFromCreatorMenuItem"))({history:F,sourceUserUsername:c,sourceUserFullname:u,i18n:D,attributionLabelSource:$,downloadExpName:W,dwebDownloadInContextMenusGroup:G})},{component:()=>!K("dweb_remove_login_signup_options_from_context_menus").anyEnabled&&(({attributionLabelSource:e,showSignupModal:t,i18n:n,downloadExpName:i,dwebDownloadInContextMenusGroup:r})=>(0,P.jsx)(a.Fragment,{children:(0,P.jsx)(k,{onTap:()=>{(0,h.My)("dweb.unauth.context_menu.login_signup",{attributionLabelSource:e,downloadExpName:i,dwebDownloadInContextMenusGroup:r}),t({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${e}_signup_or_login_button`,desktopOptions:{modalType:"login"}})},children:(0,P.jsx)(x.xv,{size:"200",weight:"bold",children:n._('Log in or sign up for more', 'dweb.unauth.context_menu.link.login_signup', 'Link to log in or sign up')})})},"LoginSignupMenuItem"))({showSignupModal:U,i18n:D,attributionLabelSource:$,downloadExpName:W,dwebDownloadInContextMenusGroup:G})}].map((({component:e})=>e())).filter((e=>!!e));return Number.isNaN(q)||Y.splice(q,0,(({i18n:e,pinTitle:t,pinDescription:n,pinId:i,bestPinImgSrc:a,attributionLabelSource:o,logContextEvent:l,pinCategory:s,downloadExpName:d,dwebDownloadInContextMenusGroup:c})=>(0,P.jsx)(k,{onTap:()=>{(0,h.My)("dweb.unauth.context_menu.download_image",{attributionLabelSource:o,downloadExpName:d,dwebDownloadInContextMenusGroup:c}),(0,r.Z)({filename:t||n||i,imgSrc:a||"",category:s,pinId:i,isUnauth:!0,platform:"mweb"},l)},children:(0,P.jsx)(x.xv,{size:"200",weight:"bold",children:e._('Download image', 'Button to download Pin image', 'Button to download Pin image')})},"DownloadMenuItem"))({i18n:D,pinTitle:T,pinDescription:j,pinId:S,bestPinImgSrc:H,attributionLabelSource:$,logContextEvent:L,pinCategory:C,downloadExpName:W,dwebDownloadInContextMenusGroup:G})),(0,P.jsxs)(x.xu,{"data-test-id":"desktop-context-menu",position:"fixed",dangerouslySetInlineStyle:{__style:{top:`${e.y}px`,left:`${e.x}px`}},zIndex:new x.Ry(99999),color:"default",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:250,children:[(0,P.jsx)(x.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",children:(0,P.jsx)(x.JO,{icon:"pinterest",accessibilityLabel:D._('Pinterest logo', 'dweb.unauth.context_menu.pinterest_logo', 'Pinterest logo in the context menu'),color:"brandPrimary"})}),Y]})}function j({graphqlRef:e,pinId:t,useNativeCreatorAsPinner:n,...i}){var a,r,o,s,p,m,h,g,_,v,y,f,x,w,k;const j=(0,S.useFragment)(I,e),C=(0,b.hy)(null==j?void 0:j.storyPinDataId),A=Boolean(null==j||null===(a=j.videos)||void 0===a?void 0:a.videoList),E=null==j?void 0:j.isUnsafe,D=!C&&!A&&!E,F=(0,c.Z)(j);let L;var R,z;(L=null!=j&&j.nativeCreator?j.nativeCreator:null!=j&&j.linkDomain?j.linkDomain.officialUser:(null==j?void 0:j.originPinner)||(null==j?void 0:j.pinner),L)||(L=null!==(R=null==j||null===(z=j.linkDomain)||void 0===z?void 0:z.officialUser)&&void 0!==R?R:null==j?void 0:j.pinner);const M=(0,d.Z)(j),O=null==j?void 0:j.title,Z=null==j?void 0:j.description,N=null==j?void 0:j.gridTitle,U=null!==(r=null==j||null===(o=j.richSummary)||void 0===o?void 0:o.displayName)&&void 0!==r?r:"",B=null!==(s=null==j||null===(p=j.richMetadata)||void 0===p?void 0:p.title)&&void 0!==s?s:"",K=null!==(m=null==j||null===(h=j.richMetadata)||void 0===h?void 0:h.description)&&void 0!==m?m:"",H=null==j?void 0:j.storyPinDataId,$=null==j||null===(g=j.storyPinData)||void 0===g||null===(_=g.metadata)||void 0===_?void 0:_.pinTitle,W=(null==j||null===(v=j.pinJoin)||void 0===v?void 0:v.visualAnnotation)||void 0,G=M||void 0,V=null==j?void 0:j.closeupDescription,q=null==j?void 0:j.closeupUnifiedDescription,Y=(null==j?void 0:j.category)||"",J=(0,u.Ly)({pinTitle:O,gridTitle:N,richSummaryDisplayName:U,richMetadataTitle:B,storyPinDataId:H,storyPinDataMetadataPinTitle:$,pinJoinVisualAnnotation:W,pinJoinAnnotationsWithLinks:G}),X=(0,l.Z)({storyPinDataId:H,pinDescription:Z,richMetadataDescription:K,richSummaryDisplayName:U,closeupDescription:V,closeupUnifiedDescription:q});return(0,P.jsx)(T,{...i,embedSrc:(null==j?void 0:j.embed)&&j.embed.src,embedType:(null==j?void 0:j.embed)&&j.embed.type,images:F,sourceUserUsername:null===(y=L)||void 0===y?void 0:y.username,sourceUserFullname:null===(f=L)||void 0===f?void 0:f.fullName,pinJoinVisualAnnotation:null==j||null===(x=j.pinJoin)||void 0===x?void 0:x.visualAnnotation,pinJoinSeoBreadcrumbName:(null==j||null===(w=j.pinJoin)||void 0===w?void 0:w.seoBreadcrumbs)&&(j.pinJoin.seoBreadcrumbs.length>0?j.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==j||null===(k=j.pinJoin)||void 0===k?void 0:k.seoBreadcrumbs)&&(j.pinJoin.seoBreadcrumbs.length>0?j.pinJoin.seoBreadcrumbs[0].url:null),pinId:t,pinTitle:J,pinDescription:X,pinCategory:Y,pinEligibleForDownload:D})}function C({graphqlRef:e,pinId:t,useNativeCreatorAsPinner:n,...i}){var a,r,o,s,d,c,m,h,g,_,y,f,x,w,S,k;const I=(0,v.S6)()(t),j=null==I?void 0:I.story_pin_data_id,C=null==I?void 0:I.videos,A=(0,b.hy)(j),E=(0,b.iR)(C),D=null==I?void 0:I.title,F=null==I?void 0:I.description,L=null==I?void 0:I.grid_title,R=null!==(a=null==I||null===(r=I.rich_metadata)||void 0===r?void 0:r.title)&&void 0!==a?a:"",z=null==I?void 0:I.category,M=null==I?void 0:I.images,O=null!==(o=null==I||null===(s=I.rich_metadata)||void 0===s?void 0:s.description)&&void 0!==o?o:"",Z=null!==(d=null==I||null===(c=I.rich_summary)||void 0===c?void 0:c.display_name)&&void 0!==d?d:"",N=null==I?void 0:I.closeup_description,U=null==I?void 0:I.closeup_unified_description,B=null==I||null===(m=I.story_pin_data)||void 0===m||null===(h=m.metadata)||void 0===h?void 0:h.pin_title,K=null==I||null===(g=I.pin_join)||void 0===g?void 0:g.visual_annotation,H=null==I||null===(_=I.pin_join)||void 0===_?void 0:_.annotations_with_links,$=null==I?void 0:I.is_unsafe,W=!A&&!E&&!$,{link_domain:G,native_creator:V,origin_pinner:q,pinner:Y}=I||{};let J=(0,p.wS)(G,V,q,Y);var X,Q;J||(J=null!==(X=null==I||null===(Q=I.link_domain)||void 0===Q?void 0:Q.official_user)&&void 0!==X?X:null==I?void 0:I.pinner);const{full_name:ee,username:te}=null!==(y=J)&&void 0!==y?y:{},ne=(0,u.Ly)({pinTitle:D,gridTitle:L,richSummaryDisplayName:Z,richMetadataTitle:R,storyPinDataId:j,storyPinDataMetadataPinTitle:B,pinJoinVisualAnnotation:K,pinJoinAnnotationsWithLinks:H}),ie=(0,l.Z)({storyPinDataId:j,pinDescription:F,richMetadataDescription:O,richSummaryDisplayName:Z,closeupDescription:N,closeupUnifiedDescription:U});return(0,P.jsx)(T,{...i,embedSrc:null==I||null===(f=I.embed)||void 0===f?void 0:f.src,embedType:null==I||null===(x=I.embed)||void 0===x?void 0:x.type,images:M,sourceUserUsername:ee,sourceUserFullname:te,pinJoinVisualAnnotation:null==I||null===(w=I.pin_join)||void 0===w?void 0:w.visual_annotation,pinJoinSeoBreadcrumbName:(null==I||null===(S=I.pin_join)||void 0===S?void 0:S.seo_breadcrumbs)&&(I.pin_join.seo_breadcrumbs.length>0?I.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==I||null===(k=I.pin_join)||void 0===k?void 0:k.seo_breadcrumbs)&&(I.pin_join.seo_breadcrumbs.length>0?I.pin_join.seo_breadcrumbs[0].url:null),pinId:t,pinTitle:ne,pinDescription:ie,pinCategory:z,pinEligibleForDownload:W})}function A(e){return e.graphqlRef?(0,P.jsx)(j,{...e}):(0,P.jsx)(C,{...e})}},874317:(e,t,n)=>{n.d(t,{Y:()=>w,Z:()=>T});var i,a=n(598615),r=n(248975),o=n(862628),l=n(941646),s=n(938917),d=n(898781),c=n(759177),u=n(667679),p=n(62409),m=n(349700),h=n(867820),g=n(538232),_=n(773285),v=n(350118),y=n(616550),f=n(883119),x=n(167912),b=n(785893);const w={WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"},S=void 0!==i?i:i=n(167074);function P({contextMenuState:e,hideContextMenu:t,pinId:n,images:i,embedSrc:c,embedType:p,sourceUserUsername:v,sourceUserFullname:x,pinJoinVisualAnnotation:w,pinJoinSeoBreadcrumbName:S,pinJoinSeoBreadcrumbUrl:P}){var k;const I=(0,d.ZP)(),T=(0,y.useHistory)(),j=(0,r.Z)({images:i,embedSrc:c,embedType:p}),C=S,A=P,E=null!==(k=null==w?void 0:w[0])&&void 0!==k?k:void 0,D=(0,o.Z)(E),F=`/search/pins/?q=${encodeURIComponent(D)}&rs=image_only_attribution`,L=(0,u.Z)(),R=(0,g.R)(),{checkExperiment:z}=(0,_.F)(),M=(0,s.Z)();return j?(0,b.jsxs)(f.xu,{"data-test-id":"mobile-context-menu",position:"absolute",dangerouslySetInlineStyle:{__style:{top:`${e.yPosition}px`,left:`${e.xPosition}px`}},zIndex:new f.Ry(99999),color:"default",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:250,children:[(0,b.jsxs)(f.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",direction:"row",display:"flex",alignItems:"center",justifyContent:"between",children:[(0,b.jsx)(f.JO,{icon:"pinterest",accessibilityLabel:I._('Pinterest logo', 'unauth.mweb.context_menu.pinterest_logo', 'Pinterest logo in the context menu'),color:"brandPrimary"}),(0,b.jsx)(f.xu,{alignSelf:"end","data-test-id":"mobile-context-menu-cancel-button",children:(0,b.jsx)(f.iP,{onTap:({event:e})=>{e.stopPropagation(),t()},children:(0,b.jsx)(f.JO,{icon:"cancel",accessibilityLabel:I._('Dismiss mweb context menu', 'unauth.mweb.context_menu.dismiss', 'Dismiss icon in mweb context menu')})})})]}),M&&z("mweb_main_pin_ltcm_open_in_app").anyEnabled&&(0,b.jsx)(a.Z,{componentType:18,within:"mweb-context-menu",children:({handleOpenApp:e})=>(0,b.jsx)(f.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,b.jsx)(l.Z,{id:"more-options-open-app",children:(0,b.jsx)(f.iP,{onTap:({event:i})=>{i.stopPropagation(),t(),e({deepLinkUri:`/pin/${n}/`}),(0,h.My)("unauth.mweb.context_menu.open_in_app")},children:(0,b.jsx)(f.xv,{size:"200",weight:"bold",children:I._('Open in App', 'unauth.mweb.context_menu.link.open_in_app', 'Link to open the pin in Pinterest app')})})})})}),(0,b.jsx)(f.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,b.jsx)(l.Z,{id:"more-options-save",children:(0,b.jsx)(f.iP,{onTap:({event:e})=>{e.stopPropagation(),t(),(0,h.My)("unauth.mweb.context_menu.save_image"),e&&R.saveButtonConfig.onSaveButtonClick(e)},children:(0,b.jsx)(f.xv,{size:"200",weight:"bold",children:I._('Save image', 'unauth.mweb.context_menu.link.save_image', 'Link to save image')})})})}),(0,b.jsx)(f.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,b.jsx)(l.Z,{id:"more-options-open-link",children:(0,b.jsx)(f.iP,{onTap:({event:e})=>{e.stopPropagation(),t(),(0,h.My)("unauth.mweb.context_menu.open_plp_new_tab"),window.open(`/pin/${n}/`)},children:(0,b.jsx)(f.xv,{size:"200",weight:"bold",children:I._('Open link in new tab', 'unauth.mweb.context_menu.link.plp_new_tab', 'Link to open the pin in a new tab')})})})}),(E||!(!C||!A))&&(0,b.jsx)(f.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,b.jsx)(f.iP,{onTap:()=>{(0,h.My)("unauth.mweb.context_menu.see_more_pins"),T.push(A?`${A}`:F)},children:C?(0,b.jsx)(f.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,m.nk)(I._('See more ideas about {{levelOneInterestName}}', 'unauth.mweb.context_menu.link.see_more_ideas.l1', 'Link to see similar pins'),{levelOneInterestName:C})}):(0,b.jsx)(f.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,m.nk)(I._('See more ideas about {{interestTag}}', 'unauth.mweb.context_menu.link.see_more_ideas.interest_tag', 'Link to see similar pins'),{interestTag:E})})})}),!(!x||!v)&&(0,b.jsx)(f.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,b.jsx)(f.iP,{onTap:()=>{(0,h.My)("unauth.mweb.context_menu.more_from_creator"),T.push(`/${v}/`)},children:(0,b.jsx)(f.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,m.nk)(I._('See more from {{full_name}}', 'unauth.context_menu.link.more_from_creator', 'Link to see more ideas from this creator'),{full_name:x})})})}),(0,b.jsx)(f.xu,{rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,b.jsx)(f.iP,{onTap:({event:e})=>{e.stopPropagation(),t(),(0,h.My)("unauth.mweb.context_menu.login_signup"),L({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_context_menu_login_signup"})},children:(0,b.jsx)(f.xv,{size:"200",weight:"bold",children:I._('Log in or sign up for more', 'unauth.mweb.context_menu.link.login_signup', 'Link to log in or sign up')})})})]}):null}function k({graphqlRef:e,pinId:t,...n}){var i,a,r,o,l;const s=(0,x.useFragment)(S,e),d=(0,c.Z)(s);let u;var p,m;(u=null!=s&&s.nativeCreator?s.nativeCreator:null!=s&&s.linkDomain?s.linkDomain.officialUser:(null==s?void 0:s.originPinner)||(null==s?void 0:s.pinner),u&&"string"!=typeof u)||(u=null!==(p=null==s||null===(m=s.linkDomain)||void 0===m?void 0:m.officialUser)&&void 0!==p?p:null==s?void 0:s.pinner);return(0,b.jsx)(P,{...n,embedSrc:(null==s?void 0:s.embed)&&s.embed.src,embedType:(null==s?void 0:s.embed)&&s.embed.type,images:d,sourceUserUsername:null===(i=u)||void 0===i?void 0:i.username,sourceUserFullname:null===(a=u)||void 0===a?void 0:a.fullName,pinJoinVisualAnnotation:null==s||null===(r=s.pinJoin)||void 0===r?void 0:r.visualAnnotation,pinJoinSeoBreadcrumbName:(null==s||null===(o=s.pinJoin)||void 0===o?void 0:o.seoBreadcrumbs)&&(s.pinJoin.seoBreadcrumbs.length>0?s.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==s||null===(l=s.pinJoin)||void 0===l?void 0:l.seoBreadcrumbs)&&(s.pinJoin.seoBreadcrumbs.length>0?s.pinJoin.seoBreadcrumbs[0].url:null),pinId:t})}function I({graphqlRef:e,pinId:t,...n}){var i,a,r,o,l,s;const d=(0,v.S6)()(t),{link_domain:c,native_creator:u,origin_pinner:m,pinner:h}=d||{};let g=(0,p.wS)(c,u,m,h);var _,y;g&&"string"!=typeof g||(g=null!==(_=null==d||null===(y=d.link_domain)||void 0===y?void 0:y.official_user)&&void 0!==_?_:h);const{full_name:f,username:x}=null!==(i=g)&&void 0!==i?i:{};return(0,b.jsx)(P,{...n,embedSrc:null==d||null===(a=d.embed)||void 0===a?void 0:a.src,embedType:null==d||null===(r=d.embed)||void 0===r?void 0:r.type,images:null==d?void 0:d.images,sourceUserUsername:f,sourceUserFullname:x,pinJoinVisualAnnotation:null==d||null===(o=d.pin_join)||void 0===o?void 0:o.visual_annotation,pinJoinSeoBreadcrumbName:(null==d||null===(l=d.pin_join)||void 0===l?void 0:l.seo_breadcrumbs)&&(d.pin_join.seo_breadcrumbs.length>0?d.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==d||null===(s=d.pin_join)||void 0===s?void 0:s.seo_breadcrumbs)&&(d.pin_join.seo_breadcrumbs.length>0?d.pin_join.seo_breadcrumbs[0].url:null),pinId:t})}function T(e){return e.graphqlRef?(0,b.jsx)(k,{...e}):(0,b.jsx)(I,{...e})}},389026:(e,t,n)=>{n.d(t,{Z:()=>b});var i,a=n(667294),r=n(934494),o=n(21384),l=n(50286),s=n(57791),d=n(992750),c=n(52022),u=n(867820),p=n(883119),m=n(167912),h=n(616550),g=n(785893);const _=void 0!==i?i:i=n(975261),v=({attribute:e,deviceType:t,location:n})=>{const i=(0,c.S)(n);(0,u.My)("unuath.product_attribution.click",{item:e,page:i,device:t})},y=({isSquarePin:e,price:t,shouldDisplayMerchant:n})=>t&&e?n?90:68:void 0;function f({description:e,domain:t,graphqlRef:n,gridTitle:i,isSquarePin:r,pinId:c,priceSummary:u,richMetadataTitle:m,richSummaryDisplayName:_,storyPinDataId:f,storyPinDataMetadataPinTitle:x,title:b}){const w=(0,l.ZP)(),S=(0,h.useLocation)(),P=u&&(u.price||u.standardPrice||(({maxPrice:e,minPrice:t,price:n})=>e&&t?`${t}-${e}`:n)(u)),k=(0,a.useMemo)((()=>r?2:P?3:2),[r,P]);if(!c)return null;const I=(0,d.fs)({pinTitle:b,gridTitle:i,richSummaryDisplayName:_,richMetadataTitle:m,storyPinDataId:f,storyPinDataMetadataPinTitle:x})||e,T=`/pin/${c}/`;return(0,g.jsx)(p.xu,{paddingX:2,marginBottom:-1,marginTop:2,display:"flex",direction:"column",height:y({isSquarePin:r,price:P}),children:(0,g.jsxs)(p.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,g.jsx)(p.xu,{flex:"grow",minHeight:12,overflow:"hidden",width:142,children:(0,g.jsxs)(s.MZ,{to:T,accessibilityLabel:I,deeplinkUri:T,children:[P&&(0,g.jsx)(p.iP,{onTap:()=>v({deviceType:w,attribute:"price",location:S}),children:(0,g.jsx)(p.xv,{size:"100",weight:"bold",children:P})}),(0,g.jsx)(p.xu,{marginTop:1,children:(0,g.jsx)(p.iP,{onTap:()=>v({deviceType:w,attribute:"title",location:S}),children:(0,g.jsx)(p.xv,{size:"100",weight:"bold",lineClamp:k,children:I})})}),t&&P&&(0,g.jsx)(p.xu,{marginTop:1,children:(0,g.jsx)(p.iP,{onTap:()=>v({deviceType:w,attribute:"merchant",location:S}),children:(0,g.jsx)(p.xv,{size:"100",lineClamp:1,children:t})})})]})}),"desktop"!==w&&(0,g.jsx)(p.xu,{children:(0,g.jsx)(o.Z,{pinId:c,size:"sm",graphqlRef:n})})]})})}const x=(0,r.Z)({useGraphQLAdapter:({queryRef:e})=>(0,m.useFragment)(_,e),useLegacyAdapter:()=>{}});function b({queryRef:e,...t}){return(0,g.jsx)(x,{input:e?{enabled:!0,data:{queryRef:e}}:{enabled:!1,data:{pinId:t.pinId}},children:({data:e})=>(0,g.jsx)(f,{...t,graphqlRef:e})})}},116674:(e,t,n)=>{n.d(t,{X:()=>c,f:()=>d});var i=n(667294);function a(e=null,t){switch(t.type){case"REPORT_CONTENT_SHOW":return{id:t.payload.id,isProduct:t.payload.isProduct,isPromoted:t.payload.isPromoted,videoDuration:t.payload.videoDuration,viewParameter:t.payload.viewParameter,viewType:t.payload.viewType,type:t.payload.type};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var r=n(425288),o=n(623568),l=n(785893);const{Provider:s,useHook:d}=(0,r.Z)("ReportData");function c({children:e}){const[t,n]=(0,i.useReducer)(a,null),r=(0,i.useCallback)((()=>n({type:"REPORT_CONTENT_DISMISS"})),[]),d=(0,i.useCallback)(((e,t,i)=>n({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:i,type:"aggregatedComment"}})),[]),c=(0,i.useCallback)(((e,t,i)=>n({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:i,type:"conversation"}})),[]),u=(0,i.useCallback)(((e,t,i)=>n({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:i,type:"pin"}})),[]),p=(0,i.useCallback)(((e,t,i)=>{const{id:a,is_downstream_promotion:r,promoter:l,rich_metadata:s,rich_summary:d,videos:c}=e,u=(0,o.VX)(s,d),p=(0,o.jL)(r,!!l);let m;if((0,o.iR)(c)&&c){const{video_list:e={}}=c,t=e[Object.keys(e)[0]];m=t&&t.duration}n({type:"REPORT_CONTENT_SHOW",payload:{id:a,isProduct:u,isPromoted:p,videoDuration:m,viewParameter:t,viewType:i,type:"pin"}})}),[]),m=(0,i.useMemo)((()=>({reportData:t,dismiss:r,reportComment:d,reportConversation:c,reportImage:u,reportPin:p})),[t,r,d,c,u,p]);return(0,l.jsx)(s,{value:m,children:e})}},862193:(e,t,n)=>{n.d(t,{Z:()=>l});var i,a=n(667294),r=n(167912);const o=void 0!==i?i:i=n(569772),l=e=>{var t;const n=(0,r.useFragment)(o,e),i=null==n||null===(t=n.pinJoin)||void 0===t?void 0:t.annotationsWithLinksArray;return(0,a.useMemo)((()=>null==i?void 0:i.reduce(((e,{name:t,url:n})=>t?{...e,[t]:{name:t,url:n}}:e),{})),[i])}},491563:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(667294),a=n(702664),r=n(116303),o=n(815613),l=n(149230),s=n(898781),d=n(883119),c=n(785893);const u={__style:{backgroundColor:"rgba(0, 0, 0, 0.04)"}},p=({height:e,image:t,width:n})=>{var i,a,r;const o=(0,s.ZP)();return(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{borderRight:"1px solid white"}},children:t?(0,c.jsxs)(d.xu,{position:"relative",children:[(0,c.jsx)(d.GH,{width:n,height:e,contentAspectRatio:"number"==typeof t.height&&"number"==typeof t.width?t.width/t.height:1,children:(0,c.jsx)(d.Ee,{alt:o._('pin image', 'alt text for pin image', 'alt text for pin image'),color:t.dominant_color||void 0,naturalWidth:null!==(i=t.width)&&void 0!==i?i:1,naturalHeight:null!==(a=t.height)&&void 0!==a?a:1,src:null!==(r=t.url)&&void 0!==r?r:""})}),(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:u,height:e,width:n,position:"absolute",top:!0,left:!0})]}):(0,c.jsx)(d.xu,{color:"secondary",width:n,height:e})})};var m=n(112690),h=n(892819),g=n(865673),_=n(57791),v=n(349700),y=n(698330),f=n(780280),x=n(861411),b=n(461773);function w({action:e,auxData:t,isPinnerAuthorityHero:n=!1,userSearchRepStyle:u=!1,onFollowUser:w,onUnfollowUser:S,userId:P,userPins:k,viewParameter:I,viewType:T,truncateName:j=!1}){const C=(0,s.ZP)(),A=(0,h.Z)(),E=(0,a.useDispatch)(),{locale:D}=(0,f.B)(),F=(0,m.Z)(),[L,R]=(0,i.useState)(u?window.innerWidth-16:null),z=(0,y.mN)()(P);if(!z)return null;const{contextual_pin_image_urls:M,explicitly_followed_by_me:O,follower_count:Z=0,full_name:N,image_medium_url:U,is_verified_merchant:B,recent_pin_images:K,username:H,verified_identity:$}=z,W=e=>L?(L-(e-1))/e:0,G=u?1.6*W(4):117,V=(null==k?void 0:k.map((e=>{var t;return null==e||null===(t=e.images)||void 0===t?void 0:t["236x"]})))||[],q=(null==K?void 0:K["222x"])||(null==K?void 0:K["192x"])||[];let Y=(null==M?void 0:M["222x"])||(null==M?void 0:M["192x"])||[];n&&0===Y.length&&(Y=q);const J=u&&Y.length<=0;let X=u?Y.concat(q).slice(0,4):V.concat(q).slice(0,2);0===X.length&&(X=[void 0,void 0]);const Q=!J&&(L?(0,c.jsx)(d.zd,{rounding:4,children:(0,c.jsx)(d.kC,{children:X.map(((e,t)=>(0,c.jsx)(p,{height:G,image:e,width:W(X.length)},`pinImage-${t}`)))})}):(0,c.jsx)(d.xu,{height:G,ref:e=>{e&&R(e.offsetWidth)},width:"100%"})),ee=e=>(0,c.jsx)(d.kC,{justifyContent:"center",children:(0,c.jsx)(d.xu,{marginTop:e,height:60,width:60,children:(0,c.jsx)(r.Z,{outline:!0,name:null!=N?N:"",src:null!=U?U:""})})}),te=e=>(0,c.jsxs)(d.kC,{direction:"column",gap:{row:0,column:1},alignItems:e,children:[(0,c.jsx)(d.kC,{alignItems:"stretch",maxWidth:(u?(L||0)/2:L)||void 0,children:(0,c.jsx)(d.xv,{align:e,weight:"bold",lineClamp:j?1:void 0,children:B||null!=$&&$.verified?(0,c.jsx)(g.Z,{badgeSize:"md",badgeSpacing:2,fullName:null!=N?N:"",verifiedType:B?"verifiedMerchant":"verifiedIdentity",truncate:j}):N})}),(0,c.jsx)(d.xv,{inline:!0,size:"100",align:e,children:(0,v.nk)(C.ngettext('{{followers}} follower', '{{followers}} followers', Z, 'PinnerAuthority.followersCount', 'Count of a user\'s followers'),{followers:A(D,Z,{shortform:!0})})})]}),ne=(0,c.jsx)(d.kC,{justifyContent:"center",children:e&&e.url?(0,c.jsx)(d.zx,{role:"link",accessibilityLabel:e.text,color:"gray",size:"lg",text:e.text,href:e.url,onClick:()=>{F({event_type:9029,object_id_str:P,view_type:T,view_parameter:I,aux_data:t})},rel:(0,l.Z)({url:e.url})?"nofollow":void 0,target:(0,l.Z)({url:e.url})?"blank":void 0}):(0,c.jsx)(o.Z,{id:P,isSecondaryButton:!0,isFollowed:O,onFollow:e=>{w&&w(),E((0,b.ZN)(e))},onUnfollow:e=>{S&&S(),E((0,b.fv)(e))},size:"lg",followEventType:45,unfollowEventType:46,viewParameter:I,viewType:T})});return(0,c.jsx)(x.Cy,{loggingId:P,objectIdStr:P,slotIndex:0,viewParameter:I,viewType:T,children:({impressionTrackerRef:e})=>(0,c.jsx)(d.xu,{ref:e,padding:1,marginBottom:6,"data-test-id":"user-rep",children:(0,c.jsx)(_.MZ,{to:`/${H}/`,onTouch:()=>{F({event_type:43,object_id_str:P,view_parameter:I,view_type:T})},children:(0,c.jsxs)(d.kC,{direction:"column",gap:{row:0,column:2},width:"100%",children:[Q,u?(0,c.jsx)(d.xu,{width:"100%",children:(0,c.jsxs)(d.kC,{justifyContent:"between",alignItems:"center",children:[(0,c.jsxs)(d.kC,{alignItems:"center",gap:{row:2,column:0},children:[ee(),te("start")]}),ne]})}):(0,c.jsxs)(d.kC,{direction:"column",gap:{row:0,column:2},children:[ee(-10),te("center"),ne]})]})})})})}},865673:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(512176),r=n(883119),o=n(785893);const l=function({badgeSize:e,badgeSpacing:t,fullName:n,verifiedType:l,truncate:s=!1}){const d=n.split(" "),c=d.slice(0,d.length-1).join(" "),u=" ".concat(d[d.length-1]);return s?(0,o.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,o.jsx)(r.xv,{lineClamp:1,weight:"bold",children:n}),(0,o.jsx)(r.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},paddingX:1,children:(0,o.jsx)(a.Z,{isVerifiedMerchant:"verifiedMerchant"===l,size:e,showVerifiedIdentity:"verifiedIdentity"===l})})]}):(0,o.jsxs)(i.Fragment,{children:[(0,o.jsx)("span",{children:c}),(0,o.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[u," ",(0,o.jsx)(r.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},children:(0,o.jsx)(a.Z,{isVerifiedMerchant:"verifiedMerchant"===l,size:e,showVerifiedIdentity:"verifiedIdentity"===l})})]})]})}},152028:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(81226),a=n(898781),r=n(883119),o=n(785893);function l({duration:e}){const t=(0,a.ZP)();return(0,o.jsxs)(r.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill",children:[(0,o.jsx)(r.JO,{accessibilityLabel:t._('Video camera icon', 'Video camera indicator icon for a Pin', 'Video camera indicator icon for a Pin'),color:"light",icon:"video-camera"}),(0,o.jsx)(r.xu,{marginStart:1,children:(0,o.jsx)(r.xv,{color:"inverse",size:"100",lineClamp:1,children:(0,i.Z)(e)})})]})}},140093:(e,t,n)=>{n.d(t,{Z:()=>Et});var i=n(722545),a=n(934494),r=n(667294),o=n(702664),l=n(427806),s=n(761881),d=n(834911),c=n(737022),u=n(542554),p=n(156637),m=n(280446),h=n(604077),g=n.n(h),_=n(777506),v=n.n(_),y=n(440011),f=n(898781),x=n(785893);function b({pinDominantColor:e,url:t,closeupImageWidth:n,closeupImageHeight:i}){const a=(0,f.ZP)();return(0,x.jsx)(y.Z,{alt:a._('Pin image', 'flashlight.cropper.closeupImage', 'Pin closeup image'),color:e,isFlashlightPage:!0,naturalHeight:i,naturalWidth:n,placeholder:t,showSpinner:!1,src:t})}var w=n(641696),S=n.n(w),P=n(105879),k=n.n(P),I=n(883119);const T=24,j=e=>{const{alt:t,src:n,top:i,left:a}=e;return(0,x.jsx)(I.xu,{position:"absolute",height:T,width:T,dangerouslySetInlineStyle:{__style:{top:i,left:a}},children:(0,x.jsx)(I.Ee,{alt:t,color:"transparent",naturalHeight:T,naturalWidth:T,src:n})})},C={backgroundColor:"#000000",opacity:"0.4"};function A({closeupImage:e,closeupImageDims:t,cropArea:{x:n,y:i,w:a,h:o},disableBorder:l,disableHandles:s,onTouchStart:d,onTouchMove:c,onTouchEnd:u,pinDominantColor:p}){var m;const h=(0,f.ZP)(),_=null!==(m=null==e?void 0:e.url)&&void 0!==m?m:"",{closeupImageWidth:y,closeupImageHeight:w}=t,P=Math.floor(w*i),T=Math.floor(y*n),A=Math.floor(w*o),E=Math.floor(y*a),D=T+E,F=P+A;return(0,x.jsxs)(I.xu,{onTouchMove:c,onTouchStart:d,onTouchEnd:u,position:"relative",children:[(0,x.jsx)(b,{pinDominantColor:p,url:_,closeupImageWidth:y,closeupImageHeight:w}),(0,x.jsxs)(r.Fragment,{children:[(0,x.jsx)(I.xu,{dangerouslySetInlineStyle:{__style:C},height:P,left:!0,position:"absolute",top:!0,width:"100%"}),(0,x.jsx)(I.xu,{dangerouslySetInlineStyle:{__style:{...C,top:P}},left:!0,height:A,position:"absolute",width:T}),(0,x.jsx)(I.xu,{dangerouslySetInlineStyle:{__style:{...C,top:P,left:D}},height:A,position:"absolute",right:!0}),(0,x.jsx)(I.xu,{dangerouslySetInlineStyle:{__style:{...C,top:F}},bottom:!0,left:!0,position:"absolute",width:"100%"})]}),!s&&(0,x.jsxs)(I.xu,{"data-test-id":"CropperHandles",children:[(0,x.jsx)(j,{alt:h._('Top left cropper handle', 'flashlight.cropper.topLeftHandle', 'top left handle for cropping image'),src:S(),top:P-9,left:T-9}),(0,x.jsx)(j,{alt:h._('Top right cropper handle', 'flashlight.cropper.topRightHandle', 'top right handle for cropping image'),src:k(),top:P-9,left:D-15}),(0,x.jsx)(j,{alt:h._('Bottom left cropper handle', 'flashlight.cropper.bottomLeftHandle', 'bottom left handle for cropping image'),src:g(),top:F-15,left:T-9}),(0,x.jsx)(j,{alt:h._('Bottom right cropper handle', 'flashlight.Cropper.BottomLeftHandle', 'bottom right handle for cropping image'),src:v(),top:F-15,left:D-15})]}),(0,x.jsx)(I.xu,{"data-test-id":"CroppedArea",position:"absolute",rounding:2,height:A+4,width:E+4,dangerouslySetInlineStyle:{__style:{top:P-2,left:T-2,border:l?void 0:"2px solid #ffffff"}}})]})}var E=n(523563),D=n(829407),F=n(112690);function L({auxData:e,style:t,onClick:n,x:i,y:a,viewParameter:r}){const o=(0,f.ZP)(),l=(0,F.Z)(),s=32;return(0,D.Z)((()=>{l({aux_data:e,event_type:120,element:1260,view_parameter:r,view_type:72})})),(0,x.jsx)("div",{"data-test-id":"dot",onClick:n,onKeyPress:n,role:"button",style:{position:"absolute",top:a-16,left:i-16,outline:"none",...t},"aria-label":o._('Select a specific item on image', 'dot.accessibilityLabel', 'Accessibility label for <Dot /> component'),tabIndex:"0",children:(0,x.jsx)(I.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.1)",width:s,height:s,border:"none",borderRadius:s,cursor:n?"pointer":"default"}},children:(0,x.jsx)(I.xu,{color:"light",position:"absolute",padding:0,display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{boxShadow:"none",width:16,height:16,border:"none",borderRadius:16,top:8,left:8}}})})})}var R=n(599611),z=n(391254),M=n(100183);const O=(0,M.Ll)(["\n  flashlightDotPop {\n      0% {\n          opacity: 0;\n          transform: scale(0);\n      }\n\n      100% {\n          opacity: 1;\n          transform: scale(1);\n      }\n  }\n","labelReveal {\n    0% {\n      transform: scale(0, 1)\n    }\n\n    100% {\n      transform: scale(1, 1)\n    }\n  }\n"]);function Z({closeupImageTop:e,cropArea:t,entryPoint:n,imageHeight:i,imageTop:a,imageWidth:o,onDotTap:l,setCropArea:s,shouldUpdateUnifiedFeed:d,viewParameter:c,visualObjects:u}){const p=(0,F.Z)(),m=d?{commerce_data:JSON.stringify({entrypoint:n})}:{},h="shopping"===n?1221:1260;return(0,x.jsxs)(r.Fragment,{children:[(0,x.jsx)(z.Z,{unsafeCSS:O}),u.map(((n,r)=>{const{x:u=0,y:g=0,w:_=0,h:v=0,is_stela:y,label:f}=n,b={x:u,y:g,h:v,w:_};if((0,E.Z)(t,b,.04))return null;const w=(0,R.Z)({cropArea:n,scaledWidth:o,scaledHeight:i}),S=Math.floor(w.x+w.w/2),P=Math.floor(w.y+a+w.h/2)-e,k={animation:`flashlightDotPop 0.3s ease-out ${parseFloat((.1*r).toFixed(2))}s both`};return(0,x.jsx)(L,{auxData:m,onClick:function(){p({view_parameter:c,view_type:72,element:h,event_type:102,aux_data:m}),l({cropArea:b,cropSource:y?4:1,label:f,reload:!0,fromUnifiedFeed:d}),null==s||s(b)},style:k,x:S,y:P,viewParameter:c},JSON.stringify(b))}))]})}var N=n(618446),U=n.n(N),B=n(691720);function K({closeupImage:e,closeupImageDims:t,cropArea:n,handleChangeCloseupImageTop:i,handleCropperChange:a,pinDominantColor:o,visualObjects:l,viewParameter:s,viewType:d}){const c=(0,F.Z)(),[u,p]=(0,r.useState)(0),{closeupImageHeight:m,closeupImageWidth:h,closeupImageTop:g}=t;return(0,x.jsxs)(I.xu,{overflow:"hidden",position:"fixed",dangerouslySetInlineStyle:{__style:{top:g}},maxWidth:B.g6,width:"100%",children:[(0,x.jsx)(A,{closeupImage:e,closeupImageDims:t,cropArea:n,disableBorder:!0,disableHandles:!0,onTouchStart:e=>{const{clientY:t}=e.touches[0];p(t)},onTouchMove:e=>{e.preventDefault();const{closeupImageTop:n,closeupImageMinTop:a}=t;if(i&&a){const{clientY:t}=e.touches[0];p(t);const r=t-u;i(Math.floor(Math.max(a,Math.min(0,n+r))))}},onTouchEnd:()=>{c({view_parameter:s,view_type:d,element:11677,event_type:102}),U()(n,{x:0,y:0,h:1,w:1})||a({cropArea:{x:0,y:0,h:1,w:1},cropSource:5,reload:!0,fromUnifiedFeed:!0})},pinDominantColor:o}),!!l.length&&0!==m&&0!==h&&(0,x.jsx)(I.xu,{"data-test-id":"FlashlightDots",children:(0,x.jsx)(Z,{closeupImageTop:g,cropArea:n,entryPoint:"shopping",imageHeight:m,imageTop:g,imageWidth:h,onDotTap:a,shouldUpdateUnifiedFeed:!0,viewParameter:s,visualObjects:l})})]})}var H=n(766935),$=n(245376),W=n(124580),G=n(63552),V=n(905732),q=n(223815),Y=n(643010),J=n(826067),X=n(867820),Q=n(780280);const ee=(0,M.Ll)(["\n  modalReveal {\n      0% {\n          transform: translate(0%, 100%);\n      }\n\n      100% {\n        transform: translate(0%, 0%);\n      }\n  }\n"]);function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ne=()=>{};function ie({filterIconShown:e,isRTL:t}){const n=t?"marginRight":"marginLeft",i=t?"marginLeft":"marginRight";return e?{[n]:38,[i]:50,marginTop:15,marginBottom:15}:{[n]:-10,[i]:50,marginTop:15,marginBottom:15}}const ae={mask:{baseStyles:{backgroundColor:"rgba(0,0,0, .5)",height:"100%",overscrollBehavior:"none",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out",width:"100%",zIndex:1}},modal:{baseStyles:{border:(0,Y.Yc)()?void 0:"1px solid #efefef",borderRadius:"16px",overscrollBehavior:"none",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",transformOrigin:"bottom",width:"100vw",zIndex:1}}},re=0,oe=1,le=2;class se extends r.Component{constructor(...e){super(...e),te(this,"state",{currentDistanceFromTop:this.props.maxDistanceFromTop?this.props.maxDistanceFromTop:-1,startY:0,scrollDirection:re,shouldAnimate:!1,addedEvent:!1,filterModalIsOpen:!1,showIndicator:!1}),te(this,"onScroll",(0,H.Z)((()=>{const{logContextEvent:e,viewParameter:t,viewType:n}=this.props;e({event_type:110,view_parameter:t,view_type:n})}),1e3)),te(this,"onTouchStart",(e=>{const{clientY:t}=e.touches[0];this.setState({startY:t,shouldAnimate:!1,scrollDirection:re})})),te(this,"onTouchMove",(e=>{!this.state.addedEvent&&this.modal&&(this.modal.addEventListener("touchmove",this.preventPullToRefresh,{passive:!1}),this.setState({addedEvent:!0})),e.preventDefault();const{clientY:t}=e.touches[0],{startY:n,currentDistanceFromTop:i}=this.state,{canMoveModal:a,entryPoint:r,onDismiss:o,logContextEvent:l,maxDistanceFromTop:s,viewParameter:d}=this.props,c=t-n;a&&void 0!==s&&(("CloseupShop"===r||"CloseUpMainPinDrawer"===r)&&c>20&&i>s&&o?(l({event_type:108,view_parameter:d,view_type:427}),this.setState({currentDistanceFromTop:s,startY:0,scrollDirection:re},(()=>o(e)))):(c>0&&i>=0&&(i<s||"CloseupShop"===r||"CloseUpMainPinDrawer"===r)&&window.scrollY<=0||c<0&&i<=s&&i>=0)&&this.setModalPosition(t))})),te(this,"onTouchEnd",(()=>{const{minDistanceFromTop:e,entryPoint:t}=this.props;this.state.addedEvent&&this.modal&&(this.modal.removeEventListener("touchmove",this.preventPullToRefresh),this.setState({addedEvent:!1})),this.props.shouldSnapToEnds&&this.state.scrollDirection===le?(this.header&&W.Z.removeObstruction("top",this.header),this.setState({currentDistanceFromTop:this.props.maxDistanceFromTop,shouldAnimate:!0}),t&&(0,X.My)(`mweb.${t}.snap_to_bottom`)):this.props.shouldSnapToEnds&&this.state.scrollDirection===oe&&(this.setState({currentDistanceFromTop:e||0,shouldAnimate:!0}),this.header&&W.Z.addObstruction("top",this.header),t&&(0,X.My)(`mweb.${t}.sliding_modal.snap_to_top`))})),te(this,"handleHeaderTouch",(()=>{const{maxDistanceFromTop:e,minDistanceFromTop:t,entryPoint:n}=this.props,{currentDistanceFromTop:i,scrollDirection:a}=this.state;a===re&&(i===e?(this.setState({currentDistanceFromTop:t||0,shouldAnimate:!0}),(0,X.My)(`mweb.${n}.sliding_modal.header_touch.snap_to_top`)):e&&(this.setState({currentDistanceFromTop:e,shouldAnimate:!0}),(0,X.My)(`mweb.${n}.sliding_modal.header_touch.snap_to_bottom`)))})),te(this,"handleCloseIconTouch",(e=>{const{currentDistanceFromTop:t}=this.state,{onDismiss:n,logContextEvent:i,maxDistanceFromTop:a,viewParameter:r,viewType:o}=this.props;e.stopPropagation(),n&&(i({aux_data:{commerce_data:JSON.stringify({snapped_top:0===t})},element:75,event_type:102,view_parameter:r,view_type:o}),this.setState({currentDistanceFromTop:a,startY:0,scrollDirection:re},(()=>n(e))))})),te(this,"getMaskStyles",(()=>{const{entryPoint:e,overrideZDepth:t}=this.props,n=ae.mask.baseStyles;return n.zIndex=t?t-1:n.zIndex,{__style:{...n,..."CloseupShop"===e?{backgroundColor:"rgba(255,255,255, 1)",height:"50%",top:"70%"}:Object.freeze({})}}})),te(this,"getModalStyles",(()=>{const{entryPoint:e,overrideZDepth:t,shouldSnapToEnds:n}=this.props,{currentDistanceFromTop:i,shouldAnimate:a}=this.state,r=ae.modal.baseStyles;return r.zIndex=t||r.zIndex,r.border=this.props.noBorder?void 0:r.border,{__style:{...r,boxShadow:"CloseupShop"===e?"0px 0px 8px rgba(0, 0, 0, 0.1)":void 0,animation:"modalReveal 0.3s ease-out both",zIndex:"CloseUpMainPinDrawer"===e?4:void 0,borderRadius:"CloseUpMainPinDrawer"===e?"24px":void 0,top:i>-1?i:void 0,...n&&a?{transitionDuration:"500ms",transitionProperty:"transform, opacity, top"}:Object.freeze({})}}})),te(this,"setModalPosition",(e=>{const{startY:t,currentDistanceFromTop:n}=this.state,{maxDistanceFromTop:i,snapToEndThreshold:a,entryPoint:r}=this.props;if(i){const o=e-t,l="CloseupShop"===r||"CloseUpMainPinDrawer"===r?Math.max(0,n+o):Math.min(i,Math.max(0,n+o)),s=Math.floor(l);let d=re;if(a){const e=Math.floor(a*i),t=Math.floor((1-a)*i);o<0?d=s>t?le:oe:o>0&&(d=s>e?le:oe)}this.setState({startY:e,currentDistanceFromTop:s,scrollDirection:d})}})),te(this,"preventBackgroundScroll",(e=>{e.preventDefault()})),te(this,"preventPullToRefresh",(e=>{const{canMoveModal:t}=this.props,{currentDistanceFromTop:n,startY:i}=this.state,{clientY:a}=e.touches[0],r=a-i;t&&n>=0&&0===window.scrollY&&r>0&&e.preventDefault()})),te(this,"openFiltersModal",(e=>{e.stopPropagation(),this.setState({filterModalIsOpen:!0})})),te(this,"closeFiltersModal",(()=>{this.setState({filterModalIsOpen:!1})})),te(this,"buttonTap",(()=>{const{cropSource:e,logContextEvent:t}=this.props;let n="";n="related_products"===(0,$.Z)(e)?3455:3456,t({event_type:102,view_parameter:n,view_type:72,element:11735})})),te(this,"updateShowIndicator",(e=>{this.setState({showIndicator:e})}))}componentDidMount(){const{isOpen:e,entryPoint:t}=this.props;e&&W.Z.pause(),"CloseupShop"!==t&&"CloseUpMainPinDrawer"!==t||window.addEventListener("scroll",this.onScroll)}componentDidUpdate(e,t){const{domainFilters:n,priceFilters:i,cropSource:a,isOpen:r,logContextEvent:o,maxDistanceFromTop:l,setHasDraggedDrawerToFullScreen:s,minDistanceFromTop:d,entryPoint:c}=this.props,{currentDistanceFromTop:u}=this.state;if(r&&!e.isOpen?W.Z.pause():!r&&e.isOpen&&W.Z.resume(),"CloseUpMainPinDrawer"===c&&l<e.maxDistanceFromTop&&u>l&&this.handleHeaderTouch(),t.currentDistanceFromTop!==(e.minDistanceFromTop||0)&&u===(d||0)&&s&&s(!0),n&&i&&(!U()(n,e.domainFilters)||!U()(i,e.priceFilters))){let e="";e="related_products"===(0,$.Z)(a)?3455:3456,o({event_type:13,view_parameter:e,view_type:72,element:11735})}}componentWillUnmount(){const{entryPoint:e,isOpen:t}=this.props;this.header&&W.Z.removeObstruction("top",this.header),t&&W.Z.resume(),this.state.addedEvent&&this.modal&&this.modal.removeEventListener("touchmove",this.preventPullToRefresh),"CloseupShop"!==e&&"CloseupShop"!==e||window.removeEventListener("scroll",this.onScroll)}render(){const{mobileAccessibilityCloseIconLabel:e,canMoveModal:t,children:n,childPaddingX:i,childPaddingY:a,cropSource:r,domainFilters:o,entryPoint:l,heading:s,headerChildren:d,mobileHideCloseIcon:c,isOpen:u,isRTL:p,location:m,minDistanceFromTop:h,noDivider:g,noMaskOnBackground:_,onDismiss:v,pinId:y,priceFilters:f,submitFilters:b=(()=>{}),showHandle:w}=this.props,{currentDistanceFromTop:S,filterModalIsOpen:P,showIndicator:k}=this.state,T=!_||"CloseupShop"===l&&S<=0?this.getMaskStyles():{},j=this.getModalStyles(),C=v||ne,A=t&&S<=(h||0),E={};o&&(E.domainFilters=o),f&&(E.priceFilters=f);const D=Object.keys(E).length>0;return u&&(0,x.jsx)(q.Z,{allowClickAndDrag:!0,children:(0,x.jsx)(I.mh,{children:(0,x.jsxs)(I.xu,{display:"inlineBlock",role:"dialog","aria-label":s,children:[("CloseupShop"===l||"CloseUpMainPinDrawer"===l)&&(0,x.jsx)(z.Z,{unsafeCSS:ee}),(0,x.jsx)(G.Z,{onTouch:C,pressState:"none",accessibilityLabel:this.props.i18n._('Close', 'duplo.sldingmodal.accessibilityCloseLabel', 'Accessibility label for close button in modal'),children:(0,x.jsx)(I.xu,{dangerouslySetInlineStyle:T,left:!0,onTouchMove:this.preventBackgroundScroll,position:"fixed",top:!0})}),(0,x.jsx)(I.xu,{ref:e=>this.modal=e,children:(0,x.jsx)(I.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:j,left:!0,onTouchEnd:this.onTouchEnd,onTouchMove:this.onTouchMove,onTouchStart:this.onTouchStart,position:A?"absolute":"fixed",children:(0,x.jsx)(G.Z,{onTouch:this.handleHeaderTouch,pressState:"none",accessibilityLabel:this.props.i18n._('View all search results', 'SlidingModal.Header.a11yLabel', 'Accessibility label for header of search results in flashlight'),children:(0,x.jsxs)(I.xu,{position:"relative",children:[w&&(0,x.jsx)(I.xu,{display:"flex",top:!0,marginTop:2,justifyContent:"center",children:(0,x.jsx)("svg",{width:"40",height:"4",viewBox:"0 0 40 4",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,x.jsx)("rect",{width:"40",height:"4",rx:"2",fill:"#767676"})})}),e&&!c&&(0,x.jsx)(I.Le,{top:0,children:(0,x.jsxs)(I.xu,{ref:e=>{this.header=e},color:"default",rounding:"CloseUpMainPinDrawer"===l?6:2,marginBottom:"CloseUpMainPinDrawer"===l?-5:void 0,children:[(0,x.jsxs)(I.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,x.jsx)(I.kC,{alignItems:"center",justifyContent:"start",children:(0,x.jsx)(I.hU,{accessibilityLabel:e,icon:"CloseupShop"===l||"CloseUpMainPinDrawer"===l?"cancel":"arrow-back",iconColor:"CloseUpMainPinDrawer"===l?"darkGray":"gray",onClick:({event:e})=>this.handleCloseIconTouch(e),padding:5,size:"lg"})}),(0,x.jsx)(I.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:ie({filterIconShown:D,isRTL:p})},"data-test-id":"slidingModalHeader",display:"flex",flex:"grow",justifyContent:"center",children:(0,x.jsx)(I.X6,{align:"center",size:"400",accessibilityLevel:2,children:s})}),D&&(0,x.jsxs)(I.xu,{children:[(0,x.jsxs)(I.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,x.jsx)(I.hU,{accessibilityLabel:this.props.i18n._('Filters', 'flashlightPage.slidingModal.filterIconButton', 'Icon button appears when filters are available'),iconColor:"darkGray",icon:"filter",onClick:({event:e})=>{this.openFiltersModal(e),this.buttonTap()},size:"md"}),k&&(0,x.jsx)(I.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{border:"2px solid white"}},display:"flex",height:14,justifyContent:"center",minWidth:14,position:"absolute",rounding:"pill",top:!0,right:!0})]}),(0,x.jsx)(V.Z,{closeFiltersModal:this.closeFiltersModal,cropSource:r,initialProductFilters:{domains:(0,J.mB)(null==m?void 0:m.search).domains,prices:[parseInt((0,J.mB)(null==m?void 0:m.search).min,10),parseInt((0,J.mB)(null==m?void 0:m.search).max,10)]},isOpen:P,pinId:y,productFilters:E,submitFilters:b,updateShowIndicator:this.updateShowIndicator})]})]}),d||null,!g&&(0,x.jsx)(I.iz,{})]})}),(0,x.jsx)(I.xu,{overflow:A?"auto":void 0,paddingX:i,paddingY:a,children:n})]})})})})]})})})}}function de(e){const{filterFeedKey:t}=e,n=(0,f.ZP)(),i=(0,F.Z)(),{isRTL:a}=(0,Q.B)(),r=(0,o.useSelector)((({productFilters:e})=>(t&&e[t]||{}).categoryFilters)),l=(0,o.useSelector)((({productFilters:e})=>(t&&e[t]||{}).domainFilters)),s=(0,o.useSelector)((({productFilters:e})=>(t&&e[t]||{}).priceFilters));return(0,x.jsx)(se,{...e,categoryFilters:r,domainFilters:l,i18n:n,isRTL:a,logContextEvent:i,priceFilters:s})}te(se,"defaultProps",{childPaddingX:3,childPaddingY:3});var ce=n(430323),ue=n(19121);const pe=12,me={OUTSIDE:0,INSIDE:1,LEFT_CROPPER:2,RIGHT_CROPPER:3,TOP_CROPPER:4,BOTTOM_CROPPER:5,TOP_LEFT_HANDLE:6,TOP_RIGHT_HANDLE:7,BOTTOM_LEFT_HANDLE:8,BOTTOM_RIGHT_HANDLE:9,NONE:10};function he({closeupImage:e,closeupImageDims:t,cropArea:n,entryPoint:i,handleChangeCloseupImageTop:a,handleCropperChange:o,pinDominantColor:l,visualObjects:s,viewParameter:d}){const c=(0,F.Z)(),u=(0,r.useRef)(),[p,m]=(0,r.useState)(0),[h,g]=(0,r.useState)(0),[_,v]=(0,r.useState)(me.NONE),[y,f]=(0,r.useState)(n),{x:b,y:w,w:S,h:P}=y,{closeupImageTop:k,closeupImageMinTop:j,closeupImageWidth:C,closeupImageHeight:E,minCropperWidthRatio:D,minCropperHeightRatio:L}=t,R={top:k};return(0,x.jsxs)(I.xu,{overflow:"hidden",position:"fixed",dangerouslySetInlineStyle:{__style:R},ref:u,maxWidth:B.g6,width:"100%",children:[(0,x.jsx)(A,{closeupImage:e,closeupImageDims:t,cropArea:y,onTouchEnd:()=>{if(![me.NONE,me.OUTSIDE].includes(_)){const e=_===me.INSIDE?7603:7604;c({event_type:e,view_parameter:d,view_type:72})}o({cropArea:y,cropSource:6,fromUnifiedFeed:!1,reload:!0})},onTouchMove:e=>{const{clientX:t,clientY:n}=e.touches[0];if(m(t),g(n),_===me.NONE){const e=((e,t)=>{const n=t-k,i=e-(u.current?u.current.getBoundingClientRect().left:0),a=E*w,r=E*(w+P),o=C*b,l=C*(S+b);return n>a+pe&&n<r-pe&&i>o+pe&&i<l-pe?me.INSIDE:i<=o+pe&&i>=o-pe&&n>=a+15&&n<=r-15?me.LEFT_CROPPER:i<=l+pe&&i>=l-pe&&n>=a+15&&n<=r-15?me.RIGHT_CROPPER:i<=l-15&&i>=o+15&&n>=a-pe&&n<=a+pe?me.TOP_CROPPER:i<=l-15&&i>=o+15&&n>=r-pe&&n<=r+pe?me.BOTTOM_CROPPER:i<=o-9+T&&i>=o-pe&&n>=a-pe&&n<=a+T-9?me.TOP_LEFT_HANDLE:i<=l+pe&&i>=l-15&&n>=a-pe&&n<=a+T-9?me.TOP_RIGHT_HANDLE:i<=o-9+T&&i>=o-pe&&n>=r-15&&n<=r+pe?me.BOTTOM_LEFT_HANDLE:i<=l+pe&&i>=l-15&&n>=r-15&&n<=r+pe?me.BOTTOM_RIGHT_HANDLE:me.OUTSIDE})(t,n);v(e)}if(null!=D&&null!=L&&null!=j){const e=n-h,i=(t-p)/C,r=e/E,o=Math.min(b+S-D,Math.max(0,b+i)),l=S+(b-o),s=Math.min(w+P-L,Math.max(0,w+r)),d=P+(w-s),c=Math.min(1-b,Math.max(D,S+i)),u=Math.min(1-w,Math.max(L,P+r));switch(_){case me.OUTSIDE:a(Math.floor(Math.max(j,Math.min(0,k+e))));break;case me.INSIDE:f((e=>({...e,x:Math.max(0,Math.min(1-S,b+i)),y:Math.max(0,Math.min(1-P,w+r))})));break;case me.LEFT_CROPPER:f((e=>({...e,x:o,w:l})));break;case me.RIGHT_CROPPER:f((e=>({...e,w:c})));break;case me.TOP_CROPPER:f((e=>({...e,y:s,h:d})));break;case me.BOTTOM_CROPPER:f((e=>({...e,h:u})));break;case me.TOP_LEFT_HANDLE:f({x:o,w:l,y:s,h:d});break;case me.TOP_RIGHT_HANDLE:f((e=>({...e,w:c,y:s,h:d})));break;case me.BOTTOM_LEFT_HANDLE:f((e=>({...e,h:u,x:o,w:l})));break;case me.BOTTOM_RIGHT_HANDLE:f((e=>({...e,h:u,w:c})))}}},onTouchStart:e=>{const{clientX:t,clientY:n}=e.touches[0];m(t),g(n),v(me.NONE)},pinDominantColor:l}),!!s.length&&0!==E&&0!==C&&(0,x.jsx)(I.xu,{"data-test-id":"FlashlightDots",children:(0,x.jsx)(Z,{closeupImageTop:k,cropArea:y,entryPoint:i,imageHeight:E,imageTop:k,imageWidth:C,onDotTap:o,setCropArea:f,shouldUpdateUnifiedFeed:!1,viewParameter:d,visualObjects:s})})]})}var ge=n(422946),_e=n(884183);var ve=n(558068),ye=n(276602),fe=n(604344),xe=n(229428),be=n(616550);const we=.1;function Se(e){return e.preventDefault()}function Pe(){return Math.min(B.g6,window.innerWidth)}function ke(e,t){return Math.floor(Pe()/t*e)}function Ie(e,t){var n;if(!t)return null===(n=e.images)||void 0===n?void 0:n["736x"];const{carousel_slots:i=[]}=(0,d.Z)({carouselData:e.carousel_data,images:e.images,richMetadata:e.rich_metadata,richSummary:e.rich_summary})||{},a=i.find((e=>t===e.image_signature));return a?{...(0,c.Z)(a.images)}:void 0}function Te(e,t){let n=0,i=0;let a=0;if(e&&e.images){var r,o,l,s;const d=Ie(e,t);n=Pe(),i=ke(null!==(r=null==d?void 0:d.height)&&void 0!==r?r:1,null!==(o=null==d?void 0:d.width)&&void 0!==o?o:1),a=function(e,t){const n=Math.floor(.6*window.innerHeight);return Math.min(n,ke(e,t))}(null!==(l=null==d?void 0:d.height)&&void 0!==l?l:1,null!==(s=null==d?void 0:d.width)&&void 0!==s?s:1)}return{closeupImageWidth:n,closeupImageHeight:i,closeupImageMinTop:a-i,closeupImageTop:0,minCropperWidthRatio:n?50/n:0,minCropperHeightRatio:i?50/i:0,modalTop:a}}function je(e,t,n,i,a){const r="shopping"===n,o=r?1:.4,l=r?0:we;let s=i?Number(i):o,d=a?Number(a):l;e>0&&t>0&&!r&&(i||(s=(t-2*t*we)/e),a||(d=t*we/e));return{h:s,y:d}}const Ce=(0,s.Z)((e=>`visual-search:${e}`)),Ae=(0,s.Z)((e=>`related-products-unified:${e}`));function Ee({pin:e}){var t;const n=(0,ye.E)(),i=(0,f.ZP)(),a=(0,o.useDispatch)(),s=(0,be.useHistory)(),{previous:d}=(0,ve.Hv)(),c=(0,be.useLocation)(),{isAuth:h}=(0,ue.Z)(),g=(0,be.useRouteMatch)(),{pinId:_}=(0,m.Z)(g.params.id||""),{x:v,y,w:b,h:w,source:S,tab:P,domains:k,min:T,max:j,image_signature:C,q:A,rs:E}=(0,J.mB)(c.search),F=(0,o.useSelector)((e=>Ce(e,_))),L=(0,o.useSelector)((e=>Ae(e,_))),R=(0,r.useRef)(!1),[z,M]=(0,r.useState)({reload:!1,fromUnifiedFeed:!1}),[O,Z]=(0,r.useState)((()=>{const t=Te(e,C);t.closeupImageTop=0;const{closeupImageHeight:n,modalTop:i=0}=t,a=je(n,i,S,Number(w),Number(y)),r="shopping"===S?0:we;let o=0;!P||"1"!==P&&"0"!==P||(o="1"===P?1:0);let l=5;return b&&w&&(l=Number(b)>=.8&&Number(w)>=.8?5:6),{closeupImageDims:t,cropSource:l,selectedTabIndex:o,domains:k,prices:[parseInt(T,10),parseInt(j,10)],x:v?Number(v):r,w:b?Number(b):1-2*r,y:a.y,h:a.h,imageSignature:C}}));if((0,r.useEffect)((()=>{R.current&&(R.current=!1,z.reload&&function(e,t){const n=S?"&source=shopping":"";(e=>{a((0,_e.By)(e))})(e),t?((0,fe.cV)(`related-products-unified:${e}`),s.replace(`/pin/${e}/visual-search/?x=${O.x}&y=${O.y}&h=${O.h}&w=${O.w}${n}&tab=${O.selectedTabIndex}`)):((0,fe.cV)(`visual-search:${e}`),s.replace(`/pin/${e}/visual-search/?x=${O.x}&y=${O.y}&h=${O.h}&w=${O.w}&tab=${O.selectedTabIndex}`))}(_,z.fromUnifiedFeed))})),(0,r.useEffect)((()=>{if(e){const t=Te(e,O.imageSignature),{closeupImageHeight:n,modalTop:i=0}=t,a=je(n,i,S,Number(w),Number(y));Z((e=>({...e,closeupImageDims:t,...a})))}}),[e]),(0,r.useEffect)((()=>{(F&&F.length>0||L&&L.length>0)&&n&&n.markConstraintComplete("VisualSearchFeedLoaded")})),(0,D.Z)((()=>{var e;return window.addEventListener("touchmove",Se,{passive:!0}),e=O.cropSource,a((e=>({type:"SET_FLASHLIGHT_CROP_SOURCE",payload:{cropSource:e}}))(e)),()=>window.removeEventListener("touchmove",Se)})),!e||0===O.closeupImageDims.modalTop)return null;const N=S||"flashlight",U="shopping"===N,H=($=O.selectedTabIndex,W=O.cropSource,1===$?4===W?3456:3455:3050);var $,W;const G=e.visual_objects||[],V=O.imageSignature?[]:(0,xe.m)(G),q=(0,xe.k)(G),Y={x:O.x,y:O.y,w:O.w,h:O.h},[X,Q]=O.prices,ee=1===O.selectedTabIndex,te=`related-products-unified:${_}:${O.x}:${O.y}:${O.w}:${O.h}:${String(ee)}`,ne=Ie(e,O.imageSignature),ie=h?(O.closeupImageDims.modalTop||0)-5:O.closeupImageDims.closeupImageHeight||0,ae={name:"VisualLiveSearchResource",options:{pin_id:_,crop:{x:O.x,y:O.y,w:O.w,h:O.h},crop_source:O.cropSource,image_signature:O.imageSignature}},re={closeupImage:ne,closeupImageDims:O.closeupImageDims,cropArea:Y,handleChangeCloseupImageTop:function(e){Z((t=>({...t,closeupImageDims:{...t.closeupImageDims,closeupImageTop:e}})))},handleCropperChange:function({cropArea:e,cropSource:t,reload:n,fromUnifiedFeed:i}){Z((n=>({...n,...e,cropSource:t,domains:"",prices:[]}))),M({reload:n,fromUnifiedFeed:i}),R.current=!0},pinDominantColor:e.dominant_color||"#efefef",viewParameter:H},oe=V.some((e=>!0===e.is_stela));return(0,x.jsx)(p.Z,{viewType:72,viewParameter:H,auxData:U?{commerce_data:JSON.stringify({entrypoint:N,pin_is_stela:oe})}:void 0,children:(0,x.jsx)(ce.Z,{view:72,children:(0,x.jsxs)(u.default,{hasFixedHeader:!0,hasGutter:!1,children:[(0,x.jsx)(l.Z,{text:i._('Visual Search Page', 'flashlight.accessibilityhiddenheading.fullpage', 'accessibility label for flashlight page')}),(0,x.jsxs)(I.xu,{color:"default",dangerouslySetInlineStyle:{__style:{overscrollBehavior:"none",touchAction:"none"}},height:"100vw",margin:"auto",maxWidth:B.g6,children:[U?(0,x.jsx)(K,{...re,visualObjects:q,viewType:72}):(0,x.jsx)(he,{...re,visualObjects:V,entryPoint:N}),(0,x.jsx)(de,{mobileAccessibilityCloseIconLabel:i._('Close visual search results', 'close visual search results and go back to pin', 'close visual search results and go back to pin'),canMoveModal:!0,childPaddingX:0,childPaddingY:0,cropSource:O.cropSource,entryPoint:N,filterFeedKey:te,heading:U?i._('Shop now', 'flashlight.slidingModal.shoppingHeader', 'Visual product results'):i._('Visual search', 'Visual search results', 'Visual search results'),isOpen:!0,location:c,maxDistanceFromTop:ie,minDistanceFromTop:35,noBorder:!0,noDivider:!0,noMaskOnBackground:!0,onDismiss:function(){0!==d.length?s.goBack():s.replace(`/pin/${_}/`)},pinId:_,shouldSnapToEnds:!0,snapToEndThreshold:.3,viewParameter:H,viewType:72,children:(0,x.jsx)(I.xu,{color:"default",paddingX:3,children:U?(0,x.jsx)(fe.ZP,{resourceConfig:{name:"VisualSearchFlashlightUnifiedResource",options:{crop:Y,crop_source:O.cropSource,pin_id:_,search_query:A,source:E,is_shopping:ee,entry_source:N,domains:O.domains,price_min:X,price_max:Q}},feedItemProps:{auxData:{commerce_data:JSON.stringify({entrypoint:N,pin_is_stela:oe})},viewType:72,viewParameter:H},feedKey:`related-products-unified:${_}`,trafficSource:ee?"shop_feed":"flashlight"}):(0,x.jsx)(fe.ZP,{resourceConfig:ae,feedItemProps:{viewParameter:3050,viewType:72},feedKey:null!==(t=(0,ge.J)(ae.name,ae.options))&&void 0!==t?t:"",trafficSource:"flashlight"})})})]})]})})})}var De,Fe=n(42447),Le=n(784590),Re=n(773285),ze=n(350118),Me=n(167912);const Oe=void 0!==De?De:De=n(190706);function Ze(e){var t,n,i;return{width:null!==(t=e.width)&&void 0!==t?t:0,url:null!==(n=e.url)&&void 0!==n?n:"",height:null!==(i=e.height)&&void 0!==i?i:0}}function Ne(e){const t=[];return e.forEach((({additionalImages:e,spec:n})=>{var i;t.push(...null!==(i=function({additionalImages:e,spec:t}){const n=[];return null==e||e.forEach((e=>{var i;e.canonicalImage&&n.push({canonical_images:{[t]:Ze(e.canonicalImage)},image_signature:null!==(i=e.imageSignature)&&void 0!==i?i:""})})),n}({additionalImages:e,spec:n}))&&void 0!==i?i:[])})),t}function Ue(e){return null==e?void 0:e.map((e=>{var t,n;return{id:null!==(t=e.itemId)&&void 0!==t?t:"",additional_images:null!==(n=Ne([{additionalImages:e.additionalImageOrig,spec:"orig"},{additionalImages:e.additionalImage736x,spec:"736x"},{additionalImages:e.additionalImage564x,spec:"564x"},{additionalImages:e.additionalImage474x,spec:"474x"},{additionalImages:e.additionalImage236x,spec:"236x"}]))&&void 0!==n?n:[]}}))}function Be(e){const t={};return e.forEach((({image:e,spec:n})=>{e&&(t[n]=Ze(e))})),t}const Ke=(0,a.Z)({useGraphQLAdapter:function({pinId:e}){var t,n,i,a,r;const o=null===(t=(0,Me.useLazyLoadQuery)(Oe,{pinId:e}).v3GetPinQuery)||void 0===t?void 0:t.data;return o?{pin:{id:null!==(n=o.entityId)&&void 0!==n?n:"",dominant_color:null!==(i=o.dominantColor)&&void 0!==i?i:"",visual_objects:null!==(g=o.visualObjects,a=null==g?void 0:g.map((e=>{var t,n,i,a,r,o,l,s,d,c,u,p,m,h;return{detection:null!==(t=e.detection)&&void 0!==t&&t,h:null!==(n=e.h)&&void 0!==n?n:0,index:null!==(i=e.index)&&void 0!==i?i:0,is_stela:null!==(a=e.isStela)&&void 0!==a&&a,label:null!==(r=e.label)&&void 0!==r?r:"",label_id:null!==(o=e.labelId)&&void 0!==o?o:0,label_x:null!==(l=e.labelX)&&void 0!==l?l:0,label_y:null!==(s=e.labelY)&&void 0!==s?s:0,max_annotation_num_documents:null!==(d=e.maxAnnotationNumDocuments)&&void 0!==d?d:0,score:null!==(c=e.score)&&void 0!==c?c:0,show_on_closeup:null!==(u=e.showOnCloseup)&&void 0!==u&&u,w:null!==(p=e.x)&&void 0!==p?p:0,x:null!==(m=e.w)&&void 0!==m?m:0,y:null!==(h=e.y)&&void 0!==h?h:0}})))&&void 0!==a?a:[],images:null!==(r=Be([{image:o.imageOrig,spec:"orig"},{image:o.image736x,spec:"736x"},{image:o.image564x,spec:"564x"},{image:o.image474x,spec:"474x"},{image:o.image236x,spec:"236x"}]))&&void 0!==r?r:{},rich_metadata:(m=o.richMetadata,{products:null!==(h=Ue(null==m?void 0:m.products))&&void 0!==h?h:[]}),rich_summary:(u=o.richSummary,{products:null!==(p=Ue(null==u?void 0:u.products))&&void 0!==p?p:[]}),carousel_data:(l=o.carouselData,{carousel_slots:null!==(c=null==l?void 0:l.carouselSlots,s=null==c?void 0:c.map((e=>{var t,n;return{image_signature:null!==(t=e.imageSignature)&&void 0!==t?t:"",images:null!==(n=Be([{image:e.imageOrig,spec:"orig"},{image:e.image736x,spec:"736x"},{image:e.image564x,spec:"564x"},{image:e.image474x,spec:"474x"},{image:e.image236x,spec:"236x"}]))&&void 0!==n?n:{}}})))&&void 0!==s?s:[],index:null!==(d=null==l?void 0:l.index)&&void 0!==d?d:0}),type:"pin"}}:null;var l,s,d,c,u,p,m,h,g},useLegacyAdapter:function({pinId:e}){const{data:t}=(0,Le.Z)({name:"PinResource",options:{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0,is_mobile_fork:!0}}),n=(0,ze.S6)()(e),i=null!=t?t:n;return i?{pin:i}:null}});function He(){const{checkExperiment:e}=(0,Re.F)(),t=(0,f.ZP)(),n=(0,be.useRouteMatch)(),{pinId:i}=(0,m.Z)(n.params.id||"");return(0,x.jsx)(Ke,{input:e("mweb_graphql_flashlight_pinResource").anyEnabled?{enabled:!0,data:{pinId:i},suspense:{fallback:(0,x.jsx)(I.$j,{accessibilityLabel:t._('Loading Pin data', 'mobileFlashlightPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0})}}:{enabled:!1,data:{pinId:i}},children:({data:e})=>!!e&&(0,x.jsx)(Fe.Z,{constraints:["VisualSearchFeedLoaded"],surface:"flashlight",children:(0,x.jsx)(Ee,{pin:e.pin})})})}var $e=n(116303),We=n(349700);const Ge=()=>{(0,X.NC)("click_best_pin_board",!0)},Ve=()=>{(0,X.NC)("click_best_pin_profile",!0)},qe=e=>{const{pinner:t}=e,{username:n,full_name:i}=t,a=t.image_medium_url||t.image_small_url,r=`/${n}/`;return(0,x.jsx)(I.iP,{fullWidth:!1,rounding:"circle",role:"link",href:r,onTap:Ve,children:(0,x.jsx)($e.Z,{size:"sm",src:null!=a?a:"",name:null!=i?i:"",outline:!0})})},Ye=e=>{const t=(0,f.ZP)(),{board:n,pinner:i}=e,{name:a,privacy:r,url:o}=n,l=n.id||"",{username:s,full_name:d}=i,c=`/${s}/`,u=(0,x.jsx)(I.xv,{inline:!0,size:"200",weight:"bold",children:(0,x.jsx)(I.rU,{display:"inlineBlock",href:c,onClick:Ve,underline:"hover",children:d})},d);return"protected"===r?(0,We.nk)(t._('{{ pinnerName }} saved this Pin', 'Showing who saved this pin, but not which board (private board), on closeup', 'Showing who saved this pin, but not which board (private board), on closeup'),{pinnerName:u}):(0,We.nk)(t._('{{ pinnerName }} saved to {{ boardName }}', 'Showing who saved this pin to which board on closeup', 'Showing who saved this pin to which board on closeup'),{pinnerName:u,boardName:(0,x.jsx)(I.xv,{inline:!0,size:"200",weight:"bold",children:(0,x.jsx)(I.rU,{href:null!=o?o:"",onClick:Ge,children:a},"board")},l)})},Je=e=>{const{pin:t}=e,{pinner:n={},board:i={}}=t;return(0,x.jsxs)(I.xu,{display:"flex",direction:"row",alignItems:"center",marginTop:3,"data-test-id":"pin-attribution",children:[(0,x.jsx)(qe,{pinner:n}),(0,x.jsx)(I.xu,{marginEnd:2}),(0,x.jsx)(I.xv,{size:"200",children:(0,x.jsx)(Ye,{board:i,pinner:n})})]})};var Xe=n(692627);const Qe=e=>{e.target&&e.target.style&&(e.target.style["text-decoration"]="underline")},et=e=>{e.target&&e.target.style&&(e.target.style["text-decoration"]="none")};function tt({pageType:e,pinCreditPrefix:t,pin:n,pinLink:i}){var a,r;const o=(0,f.ZP)(),l=(0,F.Z)();if("topic"!==e.page&&(!n.domain||"Uploaded by user"===n.domain))return null;const s="topic"!==e.page||e.isAuth?"100":"200",d="topic"===e.page&&!!n.native_creator,c=d?null===(a=n.native_creator)||void 0===a?void 0:a.full_name:n.domain;return(0,x.jsx)(I.xu,{display:"flex",flex:"none",justifyContent:"start",marginBottom:2,children:(0,x.jsx)(I.rU,{display:"inlineBlock",href:d?`/${(null===(r=n.native_creator)||void 0===r?void 0:r.username)||""}/`:i,onClick:()=>{var t,i,a;"topic"===e.page?(0,X.NC)("click_topic_best_pin_link"):l({event_type:12,view_type:3,object_id_str:n.id,component:85,view_parameter:(0,Xe.Z)({hasPin:!!n,hasPinRichMetadata:!!n.rich_metadata,hasPinRichMetadataProducts:!(null===(t=n.rich_metadata)||void 0===t||!t.products),hasPinRichMetadataArticle:!(null===(i=n.rich_metadata)||void 0===i||!i.article),hasPinRichMetadataRecipe:!(null===(a=n.rich_metadata)||void 0===a||!a.recipe),hasPinStoryPinData:!!n.story_pin_data})})},rel:"nofollow",target:"blank",underline:"hover",children:(0,x.jsx)(I.xv,{size:s,children:(0,We.nk)(o._('{{ pinCreditPrefix }} {{ pinCredit }}', 'Tells the user where the pin is from in the form of "Saved from <website>"', 'Tells the user where the pin is from in the form of "Saved from <website>"'),{pinCreditPrefix:t,pinCredit:(0,x.jsx)(I.xv,{inline:!0,size:s,weight:"bold",children:"topic"===!e.page?(0,x.jsxs)("span",{onMouseOver:Qe,onMouseLeave:et,onFocus:Qe,onBlur:et,children:[" ",n.domain]}):c},d?"creatorProfile":"pinLinkDomain")})})})})}var nt=n(248975),it=n(873441),at=n(694379),rt=n(844897),ot=n(469823),lt=n(153209),st=n(782534),dt=n(992750);const ct=e=>{let t="";if(e.rich_metadata&&e.rich_metadata.article&&e.rich_metadata.article.date_published)return t;const n=(e=>{let t=null;e.last_repin_date&&(t=new Date(e.last_repin_date));let n=null;return e.created_at&&(n=new Date(e.created_at)),t?n?t>n?t:n:t:n})(e);if(n&&n.getFullYear()===(new Date).getFullYear()){const i=new Set(["film_music_books","art","home_decor","food_drink","womens_fashion","travel","weddings","hair_beauty","holidays_events","mens_fashion","products","celebrities","technology"]),a=e.category;i.has(a)&&(t=n?(0,x.jsx)(st.Z,{value:n,dateFormatType:st.k.LONG_MONTH_YEAR,useUTC:!1}):"")}return t};function ut(e){var t,n,i,a,r,o,l,s,d,c,u,p,m,h,g,_,v,y,b;const w=(0,f.ZP)(),{pin:S,viewportSize:P,pageType:k}=e,{pinCreditPrefix:T,pinLink:j}=(0,it.Z)(S,w);let{description:C}=(0,dt.eK)({richMetadataDescription:null===(t=S.rich_metadata)||void 0===t?void 0:t.description,richSummaryDisplayName:null===(n=S.rich_summary)||void 0===n?void 0:n.display_name,closeupUnifiedDescription:S.closeup_unified_description});var A;"videos_category"===k.page&&(C=(0,dt.kt)(C,(null===(A=S.native_creator)||void 0===A?void 0:A.username)||""));const E="wide"===P;let D=(0,dt.Ly)({pinTitle:S.title,gridTitle:S.grid_title,richSummaryDisplayName:null!==(i=null===(a=S.rich_summary)||void 0===a?void 0:a.display_name)&&void 0!==i?i:"",richMetadataTitle:null!==(r=null===(o=S.rich_metadata)||void 0===o?void 0:o.title)&&void 0!==r?r:"",storyPinDataId:S.story_pin_data_id,storyPinDataMetadataPinTitle:null===(l=S.story_pin_data)||void 0===l||null===(s=l.metadata)||void 0===s?void 0:s.pin_title,pinJoinVisualAnnotation:null===(d=S.pin_join)||void 0===d?void 0:d.visual_annotation,pinJoinAnnotationsWithLinks:null===(c=S.pin_join)||void 0===c?void 0:c.annotations_with_links});(S.grid_title||"").trim()&&D!==S.grid_title&&(D=(0,dt.EU)(S.grid_title,200));const F=(0,lt.r)(null===(u=S.rich_metadata)||void 0===u||null===(p=u.recipe)||void 0===p?void 0:p.name,!(null===(m=S.rich_metadata)||void 0===m||null===(h=m.recipe)||void 0===h||!h.categorized_ingredients),null===(g=S.rich_metadata)||void 0===g||null===(_=g.recipe)||void 0===_?void 0:_.from_aggregated_data)&&(null===(v=S.rich_metadata)||void 0===v?void 0:v.recipe),L=!!((R=S).rich_metadata&&R.rich_metadata.article&&R.rich_metadata.article.date_published)&&((e,t)=>{var n,i,a;const r=new Date(null!==(n=null===(i=(null!==(a=e.rich_metadata)&&void 0!==a?a:{}).article)||void 0===i?void 0:i.date_published)&&void 0!==n?n:Date.now()),o=r.getTime(),l=(new Date).getTime();return null==t||l-o<=31536e6*t?(0,x.jsx)(st.Z,{value:r,dateFormatType:st.k.LONG_MONTH_YEAR,useUTC:!1}):""})(S,2);var R;const z=ct(S)||L;return(0,x.jsx)(I.xu,{alignContent:"between","data-test-id":"UnauthBestPinCardBodyContainer",direction:"column",display:"flex",padding:8,position:"relative",width:"100%",flex:"grow",children:(0,x.jsxs)(I.xu,{position:"relative",direction:"column",display:"flex",flex:"grow",children:[(0,x.jsx)(tt,{pageType:k,pin:S,pinCreditPrefix:"topic"===k.page&&S.native_creator?"Created by":T,pinLink:j}),(0,x.jsx)(I.kC,{direction:"row",justifyContent:"between",children:(0,x.jsx)(I.xu,{display:"flex",overflow:"hidden",marginEnd:E?0:3,marginTop:E?3:0,children:D&&(0,x.jsx)("h2",{style:{fontWeight:"600",fontSize:"28px",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},"data-test-id":"UnauthBestPinCardTitle",children:D})})}),z?(0,x.jsx)(I.xu,{marginTop:1,children:(0,x.jsx)(I.xv,{color:"subtle",children:z})}):null,C&&(0,x.jsx)(I.xu,{display:"flex",overflow:"hidden",marginTop:3,children:(0,x.jsxs)("h3",{style:{fontWeight:"normal",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",fontSize:"14px"},children:[F&&(0,x.jsx)(ot.Z,{recipeData:F}),C]})}),F&&(0,x.jsx)(rt.Z,{columnGap:(0,x.jsx)(I.xu,{width:16}),marginOverrides:F?{outerMarginTop:32,ingredientMarginBottom:4}:null,recipeProps:{recipe:{categorizedIngredients:F.categorized_ingredients,name:F.name,image:(0,nt.Z)({images:S.images,embedSrc:null===(y=S.embed)||void 0===y?void 0:y.src,embedType:null===(b=S.embed)||void 0===b?void 0:b.type})}}}),(0,x.jsxs)(I.xu,{display:"flex",alignItems:"center",direction:"row",justifyContent:"between",marginTop:2,children:[(0,x.jsx)(Je,{pin:S}),(0,x.jsx)(I.kC,{alignItems:"stretch",justifyContent:"end",children:!S.repin_count||S.repin_count<1?null:(0,x.jsxs)(I.kC,{alignItems:"center",justifyContent:"start",children:[(0,x.jsx)(I.JO,{icon:"pin",accessibilityLabel:"Pin",color:"subtle",size:12}),(0,x.jsx)(I.xv,{color:"default",inline:!0,size:"100",children:(0,x.jsx)(at.Z,{value:S.repin_count,shortform:!0,shortformMaximumFractionDigits:1})})]})})]})]})})}var pt=n(247568),mt=n(975540),ht=n(94047),gt=n(297852);let _t=0,vt="";function yt(e){const{images:t,image_signature:n}=e,i=(null==t?void 0:t["564x"])&&t.orig,{url:a}=null!=i?i:{};let{width:r,height:o}=null!=i?i:{};return"number"==typeof r&&"number"==typeof o&&r>564&&(o*=564/r,r=564),{width:r,height:o,url:a,imageSignature:n}}function ft({initialCropArea:e,pin:t}){var n,i,a,r;let o;if(e)o={...e};else{const{visual_objects:e}=t,{width:n=1,height:i=1}=yt(t);if(e&&e.length){const{x:t,y:a,w:r,h:l}=e[0];o=(0,R.Z)({cropArea:{x:t,y:a,w:r,h:l},scaledWidth:n,scaledHeight:i})}else{const[e,t]=[n/6,i/6],[a,r]=[n-2*e,i-2*t];o={x:e,y:t,w:a,h:r}}}return{x:Math.floor(null!==(n=o.x)&&void 0!==n?n:0),y:Math.floor(null!==(i=o.y)&&void 0!==i?i:0),w:Math.floor(null!==(a=o.w)&&void 0!==a?a:0),h:Math.floor(null!==(r=o.h)&&void 0!==r?r:0)}}function xt({pinResponse:e}){var t,n,i;const a=(0,f.ZP)(),{isRTL:o}=(0,Q.B)(),l=(0,F.Z)(),s=(0,be.useHistory)(),d=(0,be.useLocation)(),c=(0,be.useRouteMatch)(),u=(0,r.useRef)(),{pin:p,isLoaded:h}=e,{pinId:g}=(0,m.Z)(c.params.id||""),_=(0,J.mB)(d.search),v=parseInt(_.x,10),y=parseInt(_.y,10),b=parseInt(_.w,10),w=parseInt(_.h,10),S=function(...e){return e.every(Number.isInteger)}(v,y,b,w)?{x:v,y,w:b,h:w}:void 0,P=function(e){const t=parseInt(e,10);switch(t){case 1:case 2:case 3:case 4:case 5:case 6:return t;default:return}}(_.cropSource);if((0,D.Z)((()=>{if(!S&&p){const e=ft({initialCropArea:S,pin:p}),t=(0,gt.Z)({cropArea:e,pinId:g});s.replace(t)}l({event_type:13,view_type:72,view_parameter:3050,view_data:{pin_id:g}}),(0,X.My)("unauth.flashlight_page")})),(0,r.useEffect)((()=>(u.current&&vt===g&&(u.current.scrollTop=_t),()=>{u.current&&(_t=u.current.scrollTop,vt=g)}))),!h)return(0,x.jsx)(ce.Z,{view:72,objectId:"",children:(0,x.jsx)(I.xu,{children:(0,x.jsx)(I.$j,{accessibilityLabel:a._('Loading visual search...', 'Accessibility label for loading visual search page', 'Accessibility label for loading visual search page'),show:!0})})});if(!p)return null;const{width:k,height:T,url:j}=yt(p),C=ft({initialCropArea:S,pin:p}),A=!(d.state&&d.state.internalNavigation),E=(null!=k?k:1)+24,L={pin_id:g,image_signature:p.image_signature,crop:(0,mt.Z)({cropArea:C,scaledWidth:k,scaledHeight:T}),crop_source:P||5};return(0,x.jsx)(ce.Z,{view:72,objectId:"",children:(0,x.jsxs)(I.xu,{display:"flex",paddingX:12,children:[(0,x.jsxs)(I.xu,{height:"calc(100% - 80px)",marginEnd:3,marginStart:3,overflow:"scroll",position:"fixed",ref:u,zIndex:new I.Ry(600),children:[(0,x.jsx)(I.xu,{"data-test-id":"flashlight-enabled-image",dangerouslySetInlineStyle:{__style:{width:k,height:T}},children:(0,x.jsxs)(I.zd,{height:T,rounding:2,width:k,children:[(0,x.jsx)(I.Ee,{alt:null!==(t=p.description)&&void 0!==t?t:"",naturalHeight:null!=T?T:1,naturalWidth:null!=k?k:1,src:null!=j?j:""}),(0,x.jsx)(pt.Z,{showAnimation:A,imageSignature:p.image_signature,imageSize:{h:T,w:k},initialCropArea:C,onChange:function({origCrop:e,cropSource:t}){const n=window.location.pathname+window.location.search,i=(0,gt.Z)({cropArea:e,pinId:g,cropSource:t});(0,X.My)("unauth.flashlight_page.cropper_changed"),i!==n&&g&&s.replace({pathname:`/pin/${g}/visual-search/`,search:(0,ht.Z)({cropArea:e,cropSource:t}),state:{internalNavigation:!0}})},pin:p,spotlightAreas:null!==(n=p.visual_objects)&&void 0!==n?n:[]})]})}),(0,x.jsx)(I.xu,{position:"relative","data-test-id":"closeupDescription",display:"flex",direction:"column",maxWidth:null!=k?k:1,margin:5,children:(0,x.jsx)(ut,{pin:p,pageType:{isAuth:!1,page:"flashlight"},viewportSize:"narrow"})})]}),(0,x.jsxs)(I.xu,{position:"relative",width:"100%",dangerouslySetInlineStyle:{__style:o?{marginRight:`${E}px`}:{marginLeft:`${E}px`}},children:[(0,x.jsx)(I.xu,{width:"100%",paddingY:3,paddingX:9,display:"flex",alignItems:"center",children:(0,x.jsx)(I.xu,{flex:"grow",children:(0,x.jsx)(I.xv,{align:"center",weight:"bold",children:(0,x.jsx)("span",{className:"deprecatedTextSizeXL",children:a._('Visually similar results', 'Header explaining results of flashlight search', 'Header explaining results of flashlight search')})})})}),(0,x.jsx)(fe.ZP,{resourceConfig:{name:"VisualLiveSearchResource",options:L},feedItemProps:{imageOnly:!0,viewParameter:3050,viewType:72},feedKey:null!==(i=(0,ge.J)("VisualLiveSearchResource",L))&&void 0!==i?i:"",trafficSource:"flashlight"})]})]})})}var bt;const wt=void 0!==bt?bt:bt=n(535994);function St(e){const t=[];return e.forEach((({additionalImagesSpec:e,spec:n})=>{var i;t.push(...null!==(i=function({additionalImagesSpec:e,spec:t}){return null==e?void 0:e.map((e=>{var n,i,a,r,o,l,s;return{canonical_images:{[t]:{height:null!==(n=null===(i=e.canonicalImage)||void 0===i?void 0:i.height)&&void 0!==n?n:0,url:null!==(a=null===(r=e.canonicalImage)||void 0===r?void 0:r.url)&&void 0!==a?a:"",width:null!==(o=null===(l=e.canonicalImage)||void 0===l?void 0:l.width)&&void 0!==o?o:0}},image_signature:null!==(s=e.imageSignature)&&void 0!==s?s:""}}))}({additionalImagesSpec:e,spec:n}))&&void 0!==i?i:[])})),t}function Pt(e){return null==e?void 0:e.map((e=>{var t,n,i,a,r,o,l,s;return{name:null!==(t=e.name)&&void 0!==t?t:"",offer_summary:{in_stock:null!==(n=null===(i=e.offerSummary)||void 0===i?void 0:i.inStock)&&void 0!==n&&n},additional_images:null!==(a=St([{additionalImagesSpec:e.additionalImageOrig,spec:"orig"},{additionalImagesSpec:e.additionalImage736x,spec:"736x"},{additionalImagesSpec:e.additionalImage564x,spec:"564x"},{additionalImagesSpec:e.additionalImage474x,spec:"474x"},{additionalImagesSpec:e.additionalImage236x,spec:"236x"}]))&&void 0!==a?a:[],variant_set:null!==(o=e.variantSet,r={variants:null!==(s=null==o?void 0:o.variants,l=null==s?void 0:s.map((e=>{var t,n;return{additional_images:null!==(n=e.additionalImages,t=null==n?void 0:n.map((e=>{var t,n;return{canonical_images:null!==(t=e.canonicalImages)&&void 0!==t?t:{},image_signature:null!==(n=e.imageSignature)&&void 0!==n?n:""}})))&&void 0!==t?t:[]}})))&&void 0!==l?l:[]})&&void 0!==r?r:{}}}))}function kt(e){const t={};return e.forEach((e=>{const{image:n,spec:i}=e;n&&(t[i]=function(e){var t,n,i,a,r;return{width:null!==(t=e.width)&&void 0!==t?t:0,url:null!==(n=e.url)&&void 0!==n?n:"",type:null!==(i=e.type)&&void 0!==i?i:"",height:null!==(a=e.height)&&void 0!==a?a:0,dominant_color:null!==(r=e.dominantColor)&&void 0!==r?r:""}}(n))})),t}function It(e){var t,n;return{username:null!==(t=null==e?void 0:e.username)&&void 0!==t?t:"",full_name:null!==(n=null==e?void 0:e.fullName)&&void 0!==n?n:"",image_medium_url:null==e?void 0:e.imageMediumUrl,image_small_url:null==e?void 0:e.imageSmallUrl}}function Tt(e){var t,n,i;return{id:null!==(t=null==e?void 0:e.entityId)&&void 0!==t?t:"",username:null!==(n=null==e?void 0:e.username)&&void 0!==n?n:"",full_name:null!==(i=null==e?void 0:e.fullName)&&void 0!==i?i:"",image_medium_url:null==e?void 0:e.imageMediumUrl,image_small_url:null==e?void 0:e.imageSmallUrl,type:"user"}}const jt=(0,a.Z)({useGraphQLAdapter:function({pinId:e}){var t,n,i,a,r,o,l,s,d,c,u,p,m,h,g,_,v;const y=null===(t=(0,Me.useLazyLoadQuery)(wt,{pinId:e}).v3GetPinQuery)||void 0===t?void 0:t.data;return y?{pin:{id:null!==(n=y.entityId)&&void 0!==n?n:"",is_eligible_for_related_products:null!==(i=y.isEligibleForRelatedProducts)&&void 0!==i&&i,description:null!==(a=y.description)&&void 0!==a?a:"",image_signature:null!==(r=y.imageSignature)&&void 0!==r?r:"",images:null!==(o=kt([{image:y.imageOrig,spec:"orig"},{image:y.image736x,spec:"736x"},{image:y.image564x,spec:"564x"},{image:y.image474x,spec:"474x"},{image:y.image236x,spec:"236x"}]))&&void 0!==o?o:{},rich_metadata:(A=y.richMetadata,{products:null!==(E=Pt(null==A?void 0:A.products))&&void 0!==E?E:[],description:null!==(D=null==A?void 0:A.description)&&void 0!==D?D:"",title:null!==(F=null==A?void 0:A.title)&&void 0!==F?F:"",recipe:null!==(Z=null==A?void 0:A.recipe,L={name:null!==(N=null==Z?void 0:Z.name)&&void 0!==N?N:"",from_aggregated_data:null!==(U=null==Z?void 0:Z.fromAggregatedData)&&void 0!==U&&U,categorized_ingredients:null==Z||null===(B=Z.categorizedIngredients)||void 0===B?void 0:B.map((e=>{var t;return{category:null!==(t=e.category)&&void 0!==t?t:""}}))})&&void 0!==L?L:{},article:{date_published:null!==(R=null==A||null===(z=A.article)||void 0===z?void 0:z.datePublished)&&void 0!==R?R:""},tutorial:{id:null!==(M=null==A||null===(O=A.tutorial)||void 0===O?void 0:O.name)&&void 0!==M?M:"",type:"makecardtutorialmetadata"}}),rich_summary:(T=y.richSummary,{products:null!==(j=Pt(null==T?void 0:T.products))&&void 0!==j?j:[],display_name:null!==(C=null==T?void 0:T.displayName)&&void 0!==C?C:""}),visual_objects:null!==(I=y.visualObjects,l=null==I?void 0:I.map((e=>{var t,n,i,a,r,o,l,s,d,c,u,p,m,h;return{detection:null!==(t=e.detection)&&void 0!==t&&t,h:null!==(n=e.h)&&void 0!==n?n:0,index:null!==(i=e.index)&&void 0!==i?i:0,is_stela:null!==(a=e.isStela)&&void 0!==a&&a,label:null!==(r=e.label)&&void 0!==r?r:"",label_id:null!==(o=e.labelId)&&void 0!==o?o:0,label_x:null!==(l=e.labelX)&&void 0!==l?l:0,label_y:null!==(s=e.labelY)&&void 0!==s?s:0,max_annotation_num_documents:null!==(d=e.maxAnnotationNumDocuments)&&void 0!==d?d:0,score:null!==(c=e.score)&&void 0!==c?c:0,show_on_closeup:null!==(u=e.showOnCloseup)&&void 0!==u&&u,w:null!==(p=e.x)&&void 0!==p?p:0,x:null!==(m=e.w)&&void 0!==m?m:0,y:null!==(h=e.y)&&void 0!==h?h:0}})))&&void 0!==l?l:[],closeup_unified_description:y.closeupUnifiedDescription,grid_title:null!==(s=y.gridTitle)&&void 0!==s?s:"",story_pin_data_id:y.storyPinDataId,repin_count:null!==(d=y.repinCount)&&void 0!==d?d:0,tracked_link:y.trackedLink,link:y.link,domain:null!==(c=y.domain)&&void 0!==c?c:"",closeup_attribution:It(y.closeupAttribution),link_domain:{official_user:It(null===(u=y.linkDomain)||void 0===u?void 0:u.officialUser)},native_creator:Tt(y.nativeCreator),pinner:Tt(y.pinner),origin_pinner:Tt(y.originPinner),board:(x=y.board,{id:null!==(b=null==x?void 0:x.entityId)&&void 0!==b?b:"",image_thumbnail_url:null!==(w=null==x?void 0:x.imageThumbnailUrl)&&void 0!==w?w:"",name:null!==(S=null==x?void 0:x.name)&&void 0!==S?S:"",privacy:(k=null==x?void 0:x.privacy,"protected"===k||"public"===k||"secret"===k?k:"secret"),url:null!==(P=null==x?void 0:x.url)&&void 0!==P?P:"",type:"board"}),pin_join:{annotations_with_links_array:null!==(f=null===(m=y.pinJoin)||void 0===m?void 0:m.annotationsWithLinksArray,p=null==f?void 0:f.map((e=>({name:e.name,url:e.url}))))&&void 0!==p?p:[],visual_annotation:null!==(h=null===(g=y.pinJoin)||void 0===g?void 0:g.visualAnnotation)&&void 0!==h?h:[]},story_pin_data:{metadata:{pin_title:null===(_=y.storyPinData)||void 0===_||null===(v=_.metadata)||void 0===v?void 0:v.pinTitle}},type:"pin"},isLoaded:!0}:null;var f,x,b,w,S,P,k,I,T,j,C,A,E,D,F,L,R,z,M,O,Z,N,U,B},useLegacyAdapter:function({pinId:e}){const{data:t,isLoaded:n}=(0,Le.Z)({name:"PinResource",options:{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0}});return{pin:t,isLoaded:n}}});function Ct(){const{checkExperiment:e}=(0,Re.F)(),t=(0,f.ZP)(),n=(0,be.useRouteMatch)(),{pinId:i}=(0,m.Z)(n.params.id||"");return(0,x.jsx)(jt,{input:e("web_graphql_flashlight_unauth_pinResource").anyEnabled?{enabled:!0,data:{pinId:i},suspense:{fallback:(0,x.jsx)(I.$j,{accessibilityLabel:t._('Loading Pin data', 'unauthDesktopFlashlightPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0})}}:{enabled:!1,data:{pinId:i}},children:({data:e})=>!!e&&(0,x.jsx)(xt,{pinResponse:e})})}var At=n(50286);const Et=function(){const e=(0,At.HG)(),t=(0,ue.Z)();return e?t.isAuth?(0,x.jsx)(i.ZP,{}):(0,x.jsx)(Ct,{}):(0,x.jsx)(He,{})}},66749:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(479218);function a(){const e=new i.H("/resource/StatsLogResource/create/","StatsLogResource",(e=>({source:"browser",stats:e})),5e3);return{log:(t,n,i,a={})=>{const{sampleRate:r=.1,tags:o={}}=a,l=[t,n,i,r,o];e.enqueue(l)}}}},67347:(e,t,n)=>{n.d(t,{LY:()=>o,QX:()=>r,nP:()=>a});const i=(0,n(66749).Z)();function a(e,t){i.log(e,1,"c",t)}function r(e,t,n){i.log(e,t,"c",n)}function o(e,t,n){i.log(e,t,"ms",n)}},127525:(e,t,n)=>{n.d(t,{I:()=>c,Z:()=>u});var i=n(667294),a=n(201342),r=n(616550),o=n(473727),l=n(785893);const s=(0,i.createContext)(null);function d({children:e}){const t=(0,r.useLocation)(),n=(0,i.useMemo)((()=>t),[]);return(0,l.jsx)(s.Provider,{value:n,children:e})}function c(){return(0,r.useLocation)()===(0,i.useContext)(s)}function u({children:e,initialLocation:t}){return(0,l.jsx)(o.VK,{children:(0,l.jsx)(a.tn,{children:(0,l.jsx)(d,{children:e})})})}},373897:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i},e.exports.__esModule=!0,e.exports.default=e.exports},163405:(e,t,n)=>{var i=n(373897);e.exports=function(e){if(Array.isArray(e))return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},474704:(e,t,n)=>{var i=n(386116);e.exports=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){s=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(s)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},238416:e=>{e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},564836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},379498:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},742281:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},242122:(e,t,n)=>{var i=n(238416);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},600861:(e,t,n)=>{var i=n(163405),a=n(379498),r=n(386116),o=n(742281);e.exports=function(e){return i(e)||a(e)||r(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},386116:(e,t,n)=>{var i=n(373897);e.exports=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},497326:(e,t,n)=>{function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:()=>i})},487462:(e,t,n)=>{function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}n.d(t,{Z:()=>i})},875068:(e,t,n)=>{function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}n.d(t,{Z:()=>a})},172875:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,{Z:()=>r})},263366:(e,t,n)=>{function i(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}n.d(t,{Z:()=>i})}},e=>{e.O(0,[14865],(()=>{[97270,92982,60843,27982,58209,48035,27021,5035,43473,22347,22224,22538,1593].map(e.E)}),5);e.O(0,[97270,83119,67631,16550,26067,31551,6284,35303,87072,50040,54176,27405,26749,99961,76030,52717,33491,31961,50225,53782,90692,60568,70507],(()=>{return t=269458,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/[id]/visual-search-8dd00853c8d7c92d.mjs.map